{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/views/stroage_service/storage_service_add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/views/stroage_service/storage_service_add.vue","mtime":1581294959523},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge21hcE11dGF0aW9uc30gZnJvbSAndnVleCcKaW1wb3J0IHtjb250ZW50TWl4aW59IGZyb20gJy4uLy4uL2NvbW1vbi9jb250ZW50TWl4aW4nCgpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbY29udGVudE1peGluXSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CgogICAgICBnZXRfc3RvcmFnZV9zZXJ2aWNlOiB7fSwKICAgICAgZ29vZ2xlX2luZm86IHsKICAgICAgICBidG5fY29ubmVjdDogZmFsc2UsCiAgICAgICAgYnRuX2Rpc2Nvbm5lY3Q6IHRydWUsCiAgICAgICAgY3JlYXRlX2RhdGU6ICcnLAogICAgICAgIG93bmVyX2VtYWlsOiAnJwogICAgICB9CiAgICB9CiAgfSwKCgogIGNvbXB1dGVkOiB7CiAgICBzdHJvYWdlX3NlcnZpY2VfaW5mbzogZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc3RvcmFnZV9zZXJ2aWNlLnN0b3JhZ2Vfc2VydmljZTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewoKICAgIC8vIHN0b3JhZ2Vfc2VydmljZSDsl7DqsrAg7Jyg66y07JeQIOuUsOudvCDtlbTri7ntlZjripQg7KCV67O0IOqwgOyguOyYpOq4sAogICAgaWYgKHRoaXMuc3Ryb2FnZV9zZXJ2aWNlX2luZm8uZ29vZ2xlX2RyaXZlID09IHRydWUpIHsKICAgICAgdGhpcy5nZXRfc3RvcmFnZV9zZXJ2aWNlWydnb29nbGVfZHJpdmUnXSA9IHRydWUKICAgICAgdGhpcy5nb29nbGVfaW5mby5idG5fY29ubmVjdCA9ICF0aGlzLmdvb2dsZV9pbmZvLmJ0bl9jb25uZWN0CiAgICAgIHRoaXMuZ29vZ2xlX2luZm8uYnRuX2Rpc2Nvbm5lY3QgPSAhdGhpcy5nb29nbGVfaW5mby5idG5fZGlzY29ubmVjdAogICAgfQogICAgdmFyIHN0b3JhZ2Vfc2VydmljZSA9IHRoaXMuZ2V0X3N0b3JhZ2Vfc2VydmljZQogICAgdmFyIHFzID0gcmVxdWlyZSgncXMnKTsKICAgIGlmIChPYmplY3Qua2V5cyhzdG9yYWdlX3NlcnZpY2UpLmxlbmd0aCA+IDApIHsKICAgICAgYXhpb3MucG9zdCgiL3N0b3JhZ2Vfc2VydmljZS9nZXRfc3RvcmFnZV9zZXJ2aWNlLyIsIHsKICAgICAgICAgIHN0b3JhZ2U6IHN0b3JhZ2Vfc2VydmljZQogICAgICAgIH0KICAgICAgKS50aGVuKHJlc3BvbnNlID0+IHsKCiAgICAgICAgY29uc29sZS5sb2coIm1vdXRlbmRfPT09PT09PT09PT09PT0+IiwgcmVzcG9uc2UpCiAgICAgICAgdGhpcy5nb29nbGVfaW5mby5jcmVhdGVfZGF0ZSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5nb29nbGVfZHJpdmVfc2V0dGluZ3MuY3JlYXRlZGF0ZQogICAgICAgIHRoaXMuZ29vZ2xlX2luZm8ub3duZXJfZW1haWwgPSByZXNwb25zZS5kYXRhLmRhdGEuZ29vZ2xlX2RyaXZlX3NldHRpbmdzLmVtYWlsCgogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgIH0pOwoKICAgIH0KCgogIH0sCiAgbWV0aG9kczogewogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHt9CiAgICB9LAogICAgcG9wdXBDbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKQogICAgfSwKICAgIEdldEF1dGgoKSB7CiAgICAgIHRoaXMuJGdBdXRoLmdldEF1dGhDb2RlKCkKICAgICAgICAudGhlbihhdXRoQ29kZSA9PiB7CiAgICAgICAgICB0aGlzLnBvcHVwQ2xvc2UoKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxvYWRpbmcgPSB0cnVlOwoKICAgICAgICAgIGNvbnNvbGUubG9nKCJhdXRoQ29kZSIsIGF1dGhDb2RlKQoKICAgICAgICAgIGF4aW9zLnBvc3QoIi9zdG9yYWdlX3NlcnZpY2UvY29ubmVjdF90b19nb29nbGVfZHJpdmUvIiwgewogICAgICAgICAgICAgIGNvZGU6IGF1dGhDb2RlLAogICAgICAgICAgICAgIHJlZGlyZWN0X3VyaTogJ3Bvc3RtZXNzYWdlJwogICAgICAgICAgICB9CiAgICAgICAgICApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZygicmVzcG9uc2U9PT09PT09PT0+IiwgcmVzcG9uc2UpCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvc3RvcmFnZV9zZXJ2aWNlL2dvb2dsZWRyaXZlLycpCiAgICAgICAgICAgIHZhciBzdG9yYWdlX3NlcnZpY2UgPSByZXNwb25zZS5kYXRhLmRhdGEuc3RvcmFnZV9zZXJ2aWNlCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc3RvcmFnZV9zZXJ2aWNlL3NldF9zdG9yYWdlX3NlcnZpY2VfZ29vZ2xlX2RyaXZlX3RvX3RydWUnLCBzdG9yYWdlX3NlcnZpY2UpCiAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgIH0sCiAgICBkaXNjb25uZWN0ZWRfZ29vZ2xlX2RyaXZlKCkgewogICAgICBheGlvcy5wb3N0KCIvc3RvcmFnZV9zZXJ2aWNlL2Rpc2Nvbm5lY3RlZF9nb29nbGVfZHJpdmUvIiwgewogICAgICAgIH0KICAgICAgKS50aGVuKHJlc3BvbnNlID0+IHsKCiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgfSk7CgogICAgfQogIH0KfQo="},{"version":3,"sources":["storage_service_add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"storage_service_add.vue","sourceRoot":"src/views/stroage_service","sourcesContent":["<!--    메인 표시되는 화면은 폴더명 == 파일명으로 사용바랍니다.            -->\n<template>\n  <!-- 스토리지 서비스 추가 -->\n  <div class=\"layer_popup\" style=\"display:block\">\n    <h3>스토리지 서비스 추가</h3>\n    <div class=\"storage_connect_info\">\n      <!--      <h4><img src=\"@/assets/images/sub/ico_sci_dropbox.png\" alt=\"\" class=\"ico\"/>DropBox-->\n      <!--        <time datetime=\"2018-03-20 09:10\">2018.03.20 오전 09:10 연결됨</time>-->\n      <!--        <button type=\"button\" class=\"btn_disconnect\">연결해제</button>-->\n      <!--      </h4>-->\n      <!--      <div class=\"account_current\">-->\n      <!--        <h5>gilding@aoskorea.co.kr</h5>-->\n      <!--        <div class=\"ac_stats\">-->\n      <!--          <h6>전체 0% 사용 (1.0MB / 2.0GB)</h6>-->\n      <!--          <div class=\"range\">-->\n      <!--            <span class=\"bar photo\" style=\"width:20%\">사진</span>-->\n      <!--            <span class=\"bar document\" style=\"width:10%\">문서</span>-->\n      <!--            <span class=\"bar audio\" style=\"width:10%\">오디오</span>-->\n      <!--            <span class=\"bar video\" style=\"width:10%\">동영상</span>-->\n      <!--            <span class=\"bar etc\" style=\"width:10%\">기타</span>-->\n      <!--            <span class=\"bar recycle\" style=\"width:30%\">휴지통</span>-->\n      <!--          </div>-->\n      <!--          <ul>-->\n      <!--            <li><i class=\"photo\"></i>사진 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"audio\"></i>오디오 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"document\"></i>문서 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"video\"></i>동영상 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"etc\"></i>기타 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"recycle\"></i>휴지통 : 0% (0개/0KB)-->\n      <!--              <button class=\"btn_move\">이동</button>-->\n      <!--              Dropbox는 휴지통 용량을 표시하지 않습니다.-->\n      <!--            </li>-->\n      <!--          </ul>-->\n      <!--        </div>-->\n      <!--      </div>-->\n      <div v-if=\"stroage_service_info.google_drive\">\n        <h4><img src=\"@/assets/images/sub/ico_sci_google.png\" alt=\"\" class=\"ico\"/>Google Drive\n          <time datetime=\"2018-03-20 09:10\">{{ fmtDate(google_info.create_date) }} 연결됨</time>\n          <button type=\"button\" class=\"btn_disconnect\" :disabled=\"google_info.btn_disconnect\"\n                  @click=\"disconnected_google_drive\">연결해제\n          </button>\n          </time></h4>\n        <div class=\"account_current\">\n          <h5>{{google_info.owner_email}}</h5>\n          <div class=\"ac_stats\">\n            <h6>전체 0% 사용 (1.0MB / 2.0GB)</h6>\n            <div class=\"range\">\n              <span class=\"bar photo\" style=\"width:20%\">사진</span>\n              <span class=\"bar document\" style=\"width:10%\">문서</span>\n              <span class=\"bar audio\" style=\"width:10%\">오디오</span>\n              <span class=\"bar video\" style=\"width:10%\">동영상</span>\n              <span class=\"bar etc\" style=\"width:10%\">기타</span>\n              <span class=\"bar recycle\" style=\"width:30%\">휴지통</span>\n            </div>\n            <ul>\n              <li><i class=\"photo\"></i>사진 : 0% (0개/0KB)</li>\n              <li><i class=\"audio\"></i>오디오 : 0% (0개/0KB)</li>\n              <li><i class=\"document\"></i>문서 : 0% (0개/0KB)</li>\n              <li><i class=\"video\"></i>동영상 : 0% (0개/0KB)</li>\n              <li><i class=\"etc\"></i>기타 : 0% (0개/0KB)</li>\n              <li><i class=\"recycle\"></i>휴지통 : 0% (0개/0KB)\n                <button class=\"btn_move\">이동</button>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <!--      <h4><img src=\"@/assets/images/sub/ico_sci_onedrive.png\" alt=\"\" class=\"ico\"/>OneDrive-->\n      <!--        <time datetime=\"2018-03-20 09:10\">2018.03.20 오전 09:10 연결됨</time>-->\n      <!--        <button type=\"button\" class=\"btn_disconnect\">연결해제</button>-->\n      <!--      </h4>-->\n      <!--      <div class=\"account_current\">-->\n      <!--        <h5>gilding@aoskorea.co.kr</h5>-->\n      <!--        <div class=\"ac_stats\">-->\n      <!--          <h6>전체 0% 사용 (1.0MB / 2.0GB)</h6>-->\n      <!--          <div class=\"range\">-->\n      <!--            <span class=\"bar photo\" style=\"width:20%\">사진</span>-->\n      <!--            <span class=\"bar document\" style=\"width:10%\">문서</span>-->\n      <!--            <span class=\"bar audio\" style=\"width:10%\">오디오</span>-->\n      <!--            <span class=\"bar video\" style=\"width:10%\">동영상</span>-->\n      <!--            <span class=\"bar etc\" style=\"width:10%\">기타</span>-->\n      <!--            <span class=\"bar recycle\" style=\"width:30%\">휴지통</span>-->\n      <!--          </div>-->\n      <!--          <ul>-->\n      <!--            <li><i class=\"photo\"></i>사진 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"audio\"></i>오디오 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"document\"></i>문서 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"video\"></i>동영상 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"etc\"></i>기타 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"recycle\"></i>휴지통 : 0% (0개/0KB)-->\n      <!--              <button class=\"btn_move\">이동</button>-->\n      <!--            </li>-->\n      <!--          </ul>-->\n      <!--        </div>-->\n      <!--      </div>-->\n\n\n      <!--      <h4><img src=\"@/assets/images/sub/ico_sci_box.png\" alt=\"\" class=\"ico\"/>Box-->\n      <!--        <time datetime=\"2018-03-20 09:10\">2018.03.20 오전 09:10 연결됨</time>-->\n      <!--        <button type=\"button\" class=\"btn_disconnect\">연결해제</button>-->\n      <!--      </h4>-->\n      <!--      <div class=\"account_current\">-->\n      <!--        <h5>gilding@aoskorea.co.kr</h5>-->\n      <!--        <div class=\"ac_stats\">-->\n      <!--          <h6>전체 0% 사용 (1.0MB / 2.0GB)</h6>-->\n      <!--          <div class=\"range\">-->\n      <!--            <span class=\"bar photo\" style=\"width:20%\">사진</span>-->\n      <!--            <span class=\"bar document\" style=\"width:10%\">문서</span>-->\n      <!--            <span class=\"bar audio\" style=\"width:10%\">오디오</span>-->\n      <!--            <span class=\"bar video\" style=\"width:10%\">동영상</span>-->\n      <!--            <span class=\"bar etc\" style=\"width:10%\">기타</span>-->\n      <!--            <span class=\"bar recycle\" style=\"width:30%\">휴지통</span>-->\n      <!--          </div>-->\n      <!--          <ul>-->\n      <!--            <li><i class=\"photo\"></i>사진 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"audio\"></i>오디오 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"document\"></i>문서 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"video\"></i>동영상 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"etc\"></i>기타 : 0% (0개/0KB)</li>-->\n      <!--            <li><i class=\"recycle\"></i>휴지통 : 0% (0개/0KB)-->\n      <!--              <button class=\"btn_move\">이동</button>-->\n      <!--            </li>-->\n      <!--          </ul>-->\n      <!--        </div>-->\n      <!--      </div>-->\n\n    </div>\n    <ul class=\"storage_account_connect\">\n      <li><img src=\"@/assets/images/sub/ico_sci_dropbox.png\" alt=\"\" class=\"ico\"/>Dropbox\n        <button type=\"button\">계정연결</button>\n      </li>\n      <li><img src=\"@/assets/images/sub/ico_sci_google.png\" alt=\"\" class=\"ico\"/>Google Drive\n        <button type=\"button\" @click=\"GetAuth\" :disabled=\"google_info.btn_connect\">계정연결</button>\n      </li>\n      <li><img src=\"@/assets/images/sub/ico_sci_onedrive.png\" alt=\"\" class=\"ico\"/>OneDrive\n        <button type=\"button\">계정연결</button>\n      </li>\n      <li><img src=\"@/assets/images/sub/ico_sci_box.png\" alt=\"\" class=\"ico\"/>Box\n        <button type=\"button\">계정연결</button>\n      </li>\n    </ul>\n    <div class=\"btn_set\">\n      <div class=\"right\">\n        <button type=\"button\" class=\"btn_basic cancel\" @click=\"popupClose\">취소</button>\n        <button type=\"button\" class=\"btn_basic submit\">확인</button>\n      </div>\n    </div>\n    <button class=\"btn_close\" @click=\"popupClose\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\"/>\n    </button>\n\n  </div>\n</template>\n\n<script>\n\n  import {mapMutations} from 'vuex'\n  import {contentMixin} from '../../common/contentMixin'\n\n  export default {\n    mixins: [contentMixin],\n\n    data() {\n      return {\n\n        get_storage_service: {},\n        google_info: {\n          btn_connect: false,\n          btn_disconnect: true,\n          create_date: '',\n          owner_email: ''\n        }\n      }\n    },\n\n\n    computed: {\n      stroage_service_info: function () {\n        return this.$store.state.storage_service.storage_service;\n      },\n    },\n    mounted() {\n\n      // storage_service 연결 유무에 따라 해당하는 정보 가져오기\n      if (this.stroage_service_info.google_drive == true) {\n        this.get_storage_service['google_drive'] = true\n        this.google_info.btn_connect = !this.google_info.btn_connect\n        this.google_info.btn_disconnect = !this.google_info.btn_disconnect\n      }\n      var storage_service = this.get_storage_service\n      var qs = require('qs');\n      if (Object.keys(storage_service).length > 0) {\n        axios.post(\"/storage_service/get_storage_service/\", {\n            storage: storage_service\n          }\n        ).then(response => {\n\n          console.log(\"moutend_==============>\", response)\n          this.google_info.create_date = response.data.data.google_drive_settings.createdate\n          this.google_info.owner_email = response.data.data.google_drive_settings.email\n\n        }).catch(error => {\n          console.log(error)\n        });\n\n      }\n\n\n    },\n    methods: {\n      data() {\n        return {}\n      },\n      popupClose() {\n        this.$emit('close')\n      },\n      GetAuth() {\n        this.$gAuth.getAuthCode()\n          .then(authCode => {\n            this.popupClose();\n            this.$store.state.loading = true;\n\n            console.log(\"authCode\", authCode)\n\n            axios.post(\"/storage_service/connect_to_google_drive/\", {\n                code: authCode,\n                redirect_uri: 'postmessage'\n              }\n            ).then(response => {\n              console.log(\"response=========>\", response)\n              this.$router.push('/storage_service/googledrive/')\n              var storage_service = response.data.data.storage_service\n              this.$store.commit('storage_service/set_storage_service_google_drive_to_true', storage_service)\n            }).catch(error => {\n              console.log(error)\n            });\n          })\n      },\n      disconnected_google_drive() {\n        axios.post(\"/storage_service/disconnected_google_drive/\", {\n          }\n        ).then(response => {\n\n        }).catch(error => {\n          console.log(error)\n        });\n\n      }\n    }\n  }\n</script>\n\n<style>\n  .layer_popup {\n    display: block;\n  }\n\n  .modal_bg {\n    display: block;\n  }\n\n  .layer_popup .storage_connect_info h4 button.btn_disconnect {\n    color: #0f0f0f;\n  }\n\n\n</style>\n"]}]}