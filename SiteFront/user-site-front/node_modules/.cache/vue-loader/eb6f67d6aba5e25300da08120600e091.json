{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/connected_device/preview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/connected_device/preview.vue","mtime":1584429452763},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge2NvbnRlbnRNaXhpbn0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnRlbnRNaXhpbicKaW1wb3J0IHtFdmVudEJ1c30gZnJvbSAiLi4vLi4vcGx1Z2lucy9ldmVudC1idXMuanMiCmltcG9ydCAkIGZyb20gImpxdWVyeSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbY29udGVudE1peGluXSwKCiAgcHJvcHM6IHsKICAgIHZpc2libGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZTogdHJ1ZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBmaWxlX25hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlOiB0cnVlLAogICAgfSwKICAgIGZpbGVfaWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlOiB0cnVlLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHByZXZpZXdfZGF0YTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmU6IHRydWUKICAgIH0sCiAgICBpdGVtX2lkeDogewogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCiAgICBjYXRlZ29yeV90YWI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlOiB0cnVlLAogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWxlTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNvbm5lY3RlZF9kZXZpY2UuZmlsZXMKICAgIH0sCiAgICBuZXh0X3BhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jb25uZWN0ZWRfZGV2aWNlLm5leHRfcGFnZTsKICAgIH0sCiAgICBoYXNfbmV4dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNvbm5lY3RlZF9kZXZpY2UuaGFzX25leHQ7CiAgICB9LAogIH0sCiAgZGF0YTogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsKICAgICAgZGV0YWlsX3Nob3c6IGZhbHNlLAogICAgICBsaXN0X3Nob3c6IGZhbHNlLAogICAgICBwcmV2aWV3X2luZm86IFtdLAogICAgICBpbmRleF9wYWdlOiAnJywKICAgICAgcGFnZU51bTogMCwKICAgICAgbmV4dF9pdGVtX25vOiAwLAogICAgICBwcmV2X2l0ZW1fbm86IDAsCiAgICAgIGJ0bl9zaG93OiBmYWxzZSwKICAgICAgbGFzdF9pZHg6IDAsCiAgICAgIHByZXZfaWR4OiAwLAogICAgICBmaWxlX2xpc3Q6IFtdLAoKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBFdmVudEJ1cy4kb24oJ3ByZXZpZXdfb3BlbicsIGl0ZW1faWR4ID0+IHsKICAgICAgdGhpcy5wcmV2aWV3X2luZm8gPSB0aGlzLmZpbGVMaXN0W2l0ZW1faWR4XTsKICAgICAgdGhpcy5maWxlX2xpc3QgPSB0aGlzLmN1cnJlbnRfbGlzdCh0aGlzLnByZXZpZXdfaW5mbyk7CiAgICAgIHRoaXMucHJldl9pdGVtX25vID0gdGhpcy5maWxlX2xpc3QuaW5kZXhPZih0aGlzLnByZXZpZXdfaW5mbyk7CiAgICAgIGxldCBuZXh0X2l0ZW0gPSB0aGlzLmZpbGVMaXN0W2l0ZW1faWR4ICsgMV07CiAgICAgIHRoaXMubmV4dF9pdGVtX25vID0gdGhpcy5maWxlX2xpc3QubGFzdEluZGV4T2YobmV4dF9pdGVtKTsKICAgIH0pOwogICAgalF1ZXJ5KCIub3ZlcmxheV9pbWdMaXN0IikubUN1c3RvbVNjcm9sbGJhcih7CiAgICAgIHRoZW1lOiAibWluaW1hbC1kYXJrIiwKICAgICAgaG9yaXpvbnRhbFNjcm9sbDogdHJ1ZSwKICAgICAgYXV0b1Njcm9sbE9uRm9jdXM6IHRydWUsCiAgICAgIHNjcm9sbEluZXJ0aWE6IDQwMCwgLy8KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY3VycmVudF9saXN0KGl0ZW0pIHsKICAgICAgLy8g7ZiE7J6sIOyEoO2DneuQmOyWtOynhCDrjIDsg4HsnZgg7J24642x7Iqk66W8IOqwgOyguOyYpOq4sAogICAgICBsZXQgaWR4ID0gdGhpcy5maWxlTGlzdC5pbmRleE9mKGl0ZW0pOwoKICAgICAgbGV0IHN0YXJ0ID0gMDsKICAgICAgbGV0IGVuZCA9IDIzOwogICAgICBpZiAoaWR4ID4gMTApIHsKICAgICAgICBzdGFydCA9IGlkeCAtIDExOwogICAgICAgIGVuZCA9IGlkeCArIDExOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmZpbGVMaXN0LnNsaWNlKHN0YXJ0LCBlbmQpCiAgICB9LAoKICAgIGNsb3NlKCkgewogICAgICBFdmVudEJ1cy4kZW1pdCgndXBkYXRlX3Zpc2libGUnKQogICAgfSwKICAgIGNsaWNrX2xpc3Rfcm93KGUsIGlkKSB7CgogICAgICB0aGlzLnByZXZpZXdfaW5mbyA9IHRoaXMuZmlsZV9saXN0LmdldE9iamVjdEJ5SWQoJ2lkJywgaWQpOwogICAgICBsZXQgaXRlbV9pZHggPSB0aGlzLmZpbGVfbGlzdC5pbmRleE9mKHRoaXMucHJldmlld19pbmZvKTsKICAgICAgbGV0IHByZXZfaXRlbSA9IHRoaXMuZmlsZUxpc3RbaXRlbV9pZHhdOwogICAgICB0aGlzLnByZXZfaXRlbV9ubyA9IHRoaXMuZmlsZUxpc3QuaW5kZXhPZihwcmV2X2l0ZW0pOwoKICAgICAgaWYgKHRoaXMucHJldl9pdGVtX25vID09PSAwKSB7CiAgICAgICAgdGhpcy5maWxlX2xpc3QgPSB0aGlzLmN1cnJlbnRfbGlzdCh0aGlzLnByZXZpZXdfaW5mbyk7CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLmhhc19uZXh0KSB7CiAgICAgICAgbGV0IG5leHRfaXRlbSA9IHRoaXMuZmlsZUxpc3RbaXRlbV9pZHggKyAxXTsKICAgICAgICB0aGlzLm5leHRfaXRlbV9ubyA9IHRoaXMuZmlsZUxpc3QubGFzdEluZGV4T2YobmV4dF9pdGVtKTsKICAgICAgfQogICAgfSwKICAgIGZpbGVOYW1lKCkgewogICAgfSwKICAgIG5leHRfaXRlbSgpIHsKICAgICAgdGhpcy5uZXh0X2l0ZW1fbm8gPSB0aGlzLmZpbGVfbGlzdC5pbmRleE9mKHRoaXMucHJldmlld19pbmZvKSArIDE7CiAgICAgIHRoaXMucHJldmlld19pbmZvID0gdGhpcy5maWxlX2xpc3RbdGhpcy5uZXh0X2l0ZW1fbm9dOwogICAgICB0aGlzLnByZXZfaXRlbV9ubyA9IHRoaXMuZmlsZV9saXN0LmluZGV4T2YodGhpcy5wcmV2aWV3X2luZm8pOwogICAgICBsZXQgbmV4dF9pdGVtID0gdGhpcy5maWxlX2xpc3RbdGhpcy5uZXh0X2l0ZW1fbm8gKyAxXTsKICAgICAgdGhpcy5sYXN0X2lkeCA9IHRoaXMuZmlsZV9saXN0Lmxhc3RJbmRleE9mKHRoaXMucHJldmlld19pbmZvKTsKICAgICAgLy8g66eI7KeA66eJIOyduOuNseyKpAogICAgICBpZiAodGhpcy5sYXN0X2lkeCA9PT0gLTEpIHsKICAgICAgICB0aGlzLnByZXZpZXdfaW5mbyA9IHRoaXMuZmlsZV9saXN0W3RoaXMubmV4dF9pdGVtX25vIC0gMV07CiAgICAgICAgdGhpcy5maWxlX2xpc3QgPSB0aGlzLmN1cnJlbnRfbGlzdCh0aGlzLnByZXZpZXdfaW5mbyk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMubGFzdF9pZHggPT09IC0xICYmIHRoaXMuaGFzX25leHQgPT09IHRydWUpIHsKCiAgICAgICAgbGV0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFnZScpLnZhbHVlOwogICAgICAgIGlmIChwYWdlID09IHRoaXMubmV4dF9wYWdlKSB7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFnZScpLnZhbHVlID0gcGFyc2VJbnQocGFnZSkgKyAxOwogICAgICAgICAgaWYgKHRoaXMuY2F0ZWdvcnlfdGFiID09ICdkZWZhdWx0JykgewogICAgICAgICAgICB0aGlzLmNhbGxNb3JlTGlzdChwYWdlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuY2FsbE1vcmVDYXRlZ29yeUxpc3QocGFnZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8vIFRPRE8g7L2U65Oc6rCAIOykkeuzteuQqCDqsJzshKAg7ZWE7JqUISEhISEhISEhCiAgICBjYWxsTW9yZUNhdGVnb3J5TGlzdDogZnVuY3Rpb24gKHBhZ2UpIHsKICAgICAgaWYgKHBhZ2UgPiB0aGlzLmxhc3RfcGFnZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiY29ubmVjdGVkX2RldmljZS9nZXRGaWxlQnlDYXRlZ29yeSIsIHsKICAgICAgICBzdG9yYWdlX2lkOiB0aGlzLiRzdG9yZS5zdGF0ZS5jb25uZWN0ZWRfZGV2aWNlLnN0b3JhZ2VfaWQsCiAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnlfdGFiLAogICAgICAgIHBhZ2U6IHBhZ2UKICAgICAgfSkKICAgIH0sCiAgICBjYWxsTW9yZUxpc3Q6IGZ1bmN0aW9uIChwYWdlKSB7CiAgICAgIGlmIChwYWdlID4gdGhpcy5sYXN0X3BhZ2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNvbm5lY3RlZF9kZXZpY2UvZ2V0Rm9sZGVyRmlsZSIsIHsKICAgICAgICBpdGVtOiB0aGlzLmZpbGVfaWQsCiAgICAgICAgcGFnZTogcGFnZQogICAgICB9KQogICAgfSwKICAgIHByZXZfaXRlbSgpIHsKICAgICAgdGhpcy5wcmV2X2l0ZW1fbm8gPSB0aGlzLmZpbGVfbGlzdC5pbmRleE9mKHRoaXMucHJldmlld19pbmZvKSAtIDE7CiAgICAgIHRoaXMucHJldmlld19pbmZvID0gdGhpcy5maWxlX2xpc3RbdGhpcy5wcmV2X2l0ZW1fbm9dOwogICAgICBsZXQgcHJldl9pdGVtID0gdGhpcy5maWxlX2xpc3RbdGhpcy5wcmV2X2l0ZW1fbm8gLSAxXTsKICAgICAgdGhpcy5wcmV2X2lkeCA9IHRoaXMuZmlsZV9saXN0LmluZGV4T2YocHJldl9pdGVtKTsKCiAgICAgIGNvbnNvbGUubG9nKCJ0aGlzLnByZXZfaXRlbV9ubyIsIHRoaXMucHJldl9pZHgpOwoKICAgICAgaWYgKHRoaXMucHJldl9pZHggPT09IDAgfHwgdGhpcy5wcmV2X2l0ZW1fbm8gPT09IC0xKSB7CiAgICAgICAgdGhpcy5wcmV2aWV3X2luZm8gPSB0aGlzLmZpbGVfbGlzdFt0aGlzLnByZXZfaXRlbV9ub107CiAgICAgICAgdGhpcy5maWxlX2xpc3QgPSB0aGlzLmN1cnJlbnRfbGlzdCh0aGlzLnByZXZpZXdfaW5mbyk7CiAgICAgIH0KCiAgICB9LAogICAgY2xpY2tCdG5Nb3JlKGUsIGtleSkgewoKICAgICAgbGV0IHBvc1ggPSBlLmNsaWVudFggLSAxNTA7CiAgICAgIGxldCBwb3NZID0gZS5jbGllbnRZOwogICAgICBsZXQgY29udGV4dE1lbnUgPSAkKCIubWVudV9sYXllcl9wcmV2aWV3Iik7CgogICAgICBjb250ZXh0TWVudS5jc3MoewogICAgICAgICJkaXNwbGF5IjogImJsb2NrIiwKICAgICAgICAicG9zaXRpb24iOiAiZml4ZWQiLAogICAgICAgICJ0b3AiOiBwb3NZICsgInB4IiwKICAgICAgICAibGVmdCI6IHBvc1ggKyAicHgiLAogICAgICAgICJ6LWluZGV4IjogOTAKICAgICAgfSk7CgogICAgICAkKGNvbnRleHRNZW51KS5tb3VzZWxlYXZlKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29udGV4dE1lbnUuaGlkZSgpOwogICAgICB9KQogICAgfSwKICAgIHZpZXdfbGlzdCgpIHsKICAgICAgaWYgKHRoaXMubGlzdF9zaG93ID09PSBmYWxzZSkgewogICAgICAgICQoIi5vdmVybGF5X3pvb20iKS5jc3MoInRvcCIsICI3NSUiKTsKICAgICAgICB0aGlzLmxpc3Rfc2hvdyA9ICF0aGlzLmxpc3Rfc2hvdwoKICAgICAgfSBlbHNlIHsKICAgICAgICAkKCIub3ZlcmxheV96b29tIikuY3NzKCJ0b3AiLCAiOTAlIik7CiAgICAgICAgdGhpcy5saXN0X3Nob3cgPSAhdGhpcy5saXN0X3Nob3cKICAgICAgfQogICAgfSwKICAgIC8qIOyDgeyEuOuztOq4sCDtgbTrpq0gKi8KICAgIGNsaWNrQnRuRGV0YWlsKCkgewoKICAgICAgaWYgKHRoaXMuZGV0YWlsX3Nob3cgPT09IGZhbHNlKSB7CgogICAgICAgICQoIi5vdmVybGF5X2JnIikuYWRkQ2xhc3MoImZpbGVJbmZvIikKICAgICAgICB0aGlzLmRldGFpbF9zaG93ID0gIXRoaXMuZGV0YWlsX3Nob3cKICAgICAgfSBlbHNlIHsKICAgICAgICAkKCIub3ZlcmxheV9iZyIpLnJlbW92ZUNsYXNzKCJmaWxlSW5mbyIpCiAgICAgICAgdGhpcy5kZXRhaWxfc2hvdyA9ICF0aGlzLmRldGFpbF9zaG93CiAgICAgIH0KCgogICAgfSwKICAgIGJ0bl9jbG9zZSgpIHsKICAgICAgaWYgKHRoaXMuZGV0YWlsX3Nob3cgPT09IHRydWUpIHsKICAgICAgICAkKCIub3ZlcmxheV9iZyIpLnJlbW92ZUNsYXNzKCJmaWxlSW5mbyIpCiAgICAgICAgdGhpcy5kZXRhaWxfc2hvdyA9ICF0aGlzLmRldGFpbF9zaG93CiAgICAgIH0KCiAgICB9LAogICAgY2xpY2tCdG5GYXZvcml0ZURlbCgpIHsKICAgICAgdmFyIHFzID0gcmVxdWlyZSgncXMnKTsKICAgICAgYXhpb3MucG9zdCgnL2Nvbm5lY3RlZF9kZXZpY2UvZmF2b3JpdGUtZGVsJywKICAgICAgICBxcy5zdHJpbmdpZnkoewogICAgICAgICAgaWQ6IHRoaXMucHJldmlld19pbmZvLmlkCiAgICAgICAgfSkKICAgICAgKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKCiAgICAgICAgICAvLyAg7ZSM656Y6re4IOyXheuNsOydtO2KuCDtlZjquLAKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY29ubmVjdGVkX2RldmljZS91cGRhdGVfZmF2b3JpdGVfZmxnX2RlbCcsIHJlc3BvbnNlLmRhdGEpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvcGVuX3ZpZXdlcigpIHsKCiAgICAgIGNvbnNvbGUubG9nKCLrt7DslrQiKQoKICAgICAgbGV0IHZpZXdlcl9zaG93ID0gJCgiI3ZpZXdlcl9zaG93Iik7CiAgICAgIHZpZXdlcl9zaG93LmNzcyh7CiAgICAgICAgImRpc3BsYXkiOiAiYmxvY2siLAogICAgICB9KTsKCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["preview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"preview.vue","sourceRoot":"src/components/connected_device","sourcesContent":["<template>\n  <div>\n    <!-- S : 이미지 뷰어 -->\n    <div class=\"overlay_bg show\" v-show=\"visible\">\n      <div class=\"overlay_wrap\">\n        <div class=\"overlay_imgView\">\n          <div class=\"pbImgOverlay\">\n            <img src=\"@/assets/images/sub/preview_ft_word.png\" class=\"none_photo\"\n                 v-if=\"preview_info.ext == '.docs' || preview_info.ext == '.doc'\" :title=\"preview_info.file_name\"/>\n            <img src=\"@/assets/images/sub/preview_ft_pdf.png\" class=\"none_photo\"\n                 v-else-if=\"preview_info.ext == '.pdf'\" :title=\"preview_info.file_name\"/>\n            <img src=\"@/assets/images/sub/preview_ft_pp.png\" class=\"none_photo\"\n                 v-else-if=\"preview_info.ext == '.pptx' || preview_info.ext == '.ppt'\" :title=\"preview_info.file_name\"/>\n            <img src=\"@/assets/images/sub/preview_ft_excel.png\" class=\"none_photo\"\n                 v-else-if=\"preview_info.ext == '.xlsx' || preview_info.ext == '.xls' \"\n                 :title=\"preview_info.file_name\"/>\n            <img src=\"@/assets/images/sub/preview_ft_photo.png\" class=\"none_photo\"\n                 v-else-if=\"preview_info.type == 'image'\" :title=\"preview_info.file_name\"/>\n            <img src=\"@/assets/images/sub/preview_ft_music.png\" class=\"none_photo\"\n                 v-else-if=\"preview_info.type == 'audio'\" :title=\"preview_info.file_name\"/>\n            <img src=\"@/assets/images/sub/preview_ft_video.png\" class=\"file_type\"\n                 v-else-if=\"preview_info.type == 'video'\" :title=\"preview_info.file_name\"/>\n            <img src=\"@/assets/images/sub/preview_ft_etc.png\" class=\"none_photo\" v-else :title=\"preview_info.file_name\"\n            />\n          </div>\n        </div>\n        <div class=\"overlay_header\">\n          <button type=\"button\" class=\"btn_back\" title=\"돌아가기\" @click=\"close\"><span class=\"blind\">돌아가기</span></button>\n          <div class=\"fileName\">{{ preview_info.file_name }}</div>\n          <div class=\"btn_wrap\">\n            <button type=\"button\" class=\"btn_download\" title=\"내려받기\"><span class=\"blind\">내려받기</span></button>\n            <button type=\"button\" class=\"btn_share\" title=\"공유하기\"><span class=\"blind\">공유하기</span></button>\n\n\n            <button type=\"button\" class=\"btn_bookMark selected\" title=\"즐겨찾기 해제\" v-if=\"preview_info.favorite_flag=='Y'\"\n                    @click=\"clickBtnFavoriteDel\"><span class=\"blind\">즐겨찾기</span></button>\n            <button type=\"button\" class=\"btn_bookMark\" title=\"즐겨찾기\" v-else><span class=\"blind\">즐겨찾기</span></button>\n\n\n            <button type=\"button\" class=\"on btn_more\" title=\"더보기\"\n                    @click.stop=\"clickBtnMore($event,preview_info.id)\"><span\n              class=\"blind\">더보기</span></button>\n            <!-- button class = \"on\" 으로 상태표시 -->\n          </div>\n        </div>\n\n        <div class=\"overlay_imgList\" v-show=\"list_show\">\n          <ul>\n            <li v-for=\"(item, idx) in file_list\" :key=\"item.id\" :class=\"{'active': item.id === preview_info.id }\"\n                :id=\"'list_' + idx\">\n              <!-- 선택된 이미지 class=\"active\" TODO 개선할것!!!-->\n              <a href=\"#\" @click=\"click_list_row($event, item.id)\">\n                <img src=\"@/assets/images/sub/preview_ft_word.png\" class=\"none_photo\"\n                     v-if=\"item.ext == '.docs' || item.ext == '.doc' \" :title=\"item.file_name\"/>\n                <img src=\"@/assets/images/sub/preview_ft_pdf.png\" class=\"none_photo\"\n                     v-else-if=\"item.ext == '.pdf'\" :title=\"item.file_name\"/>\n                <img src=\"@/assets/images/sub/preview_ft_pp.png\" class=\"none_photo\"\n                     v-else-if=\"item.ext == '.pptx' || item.ext == '.ppt'\" :title=\"item.file_name\"/>\n                <img src=\"@/assets/images/sub/preview_ft_excel.png\" class=\"none_photo\"\n                     v-else-if=\"item.ext == '.xlsx' || item.ext == '.xls' \" :title=\"item.file_name\"/>\n                <img src=\"@/assets/images/sub/preview_ft_photo.png\" class=\"none_photo\"\n                     v-else-if=\"item.type == 'image'\" :title=\"item.file_name\"/>\n                <img src=\"@/assets/images/sub/preview_ft_music.png\" class=\"none_photo\"\n                     v-else-if=\"item.type == 'audio'\" :title=\"item.file_name\"/>\n                <img src=\"@/assets/images/sub/preview_ft_video.png\" class=\"file_type\"\n                     v-else-if=\"item.type == 'video'\" :title=\"item.file_name\"/>\n                <img src=\"@/assets/images/sub/preview_ft_etc.png\" class=\"none_photo\" v-else :title=\"item.file_name\"/>\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <transition name=\"fade\" mode=\"out-in\">\n          <div class=\"overlay_zoom\">\n            <!-- 파일이 이미지일 경우 표시-->\n            <span v-if=\"preview_info.type == 'image'\">\n            <button type=\"button\" class=\"btn_zoomOut\" title=\"축소\"><span class=\"blind\">축소</span></button>\n            <button type=\"button\" class=\"btn_zoomFull\" title=\"전체화면\"><span class=\"blind\">전체화면</span></button>\n            <button type=\"button\" class=\"btn_zoomIn\" title=\"확대\"><span class=\"blind\">확대</span></button>\n            </span>\n\n            <button type=\"button\" class=\"btn_viewList\" title=\"리스트보기\" @click=\"view_list\"><span\n              class=\"blind\">리스트 보기</span></button>\n            <button type=\"button\" class=\"btn_view\" title=\"이미지 보기\"><span class=\"blind\">이미지 보기</span></button>\n            <button type=\"button\" class=\"btn_view_blank\" title=\"새창으로 보기\" v-if=\"preview_info.type !== 'image'\"\n                    @click=\"open_viewer\">\n              <span class=\"ico_view_blank\"></span>中を見る\n            </button>\n          </div>\n        </transition>\n\n\n        <button type=\"button\" class=\"btn_prevNext btn_prev\" @click=\"prev_item\" v-if=\"prev_item_no !== 0\"><span\n          class=\"blind\">이전</span>\n        </button>\n        <button type=\"button\" class=\"btn_prevNext btn_next\" @click=\"next_item\" v-if=\"this.next_item_no !== -1\"><span\n          class=\"blind\">다음</span></button>\n      </div>\n\n      <div class=\"fileInfo_wrap\" v-show=\"detail_show\">\n        <div class=\"fileInfo_name\">{{ preview_info.file_name }}\n          <button type=\"button\" class=\"btn_fileInfo_close\" @click=\"btn_close\">닫기</button>\n        </div>\n        <table cellpadding=\"0\" cellspacing=\"0\">\n          <caption>파일 상세정보</caption>\n          <colgroup width=\"70\"/>\n          <tbody>\n          <tr>\n            <th>종류</th>\n            <td>{{ preview_info.kind }}</td>\n          </tr>\n          <tr>\n            <th>사이즈</th>\n            <td>{{ formatFileSize(preview_info.file_size) }}</td>\n          </tr>\n          <tr>\n            <th>장소</th>\n            <td>{{ preview_info.full_path }}</td>\n          </tr>\n          <tr>\n            <th>변경일</th>\n            <td>{{ kstDate(preview_info.modify_date) }}</td>\n          </tr>\n          <tr>\n            <th>작성일</th>\n            <td>{{ kstDate(preview_info.create_date) }}</td>\n          </tr>\n          <tr>\n            <th>백업일</th>\n            <td>{{ kstDate(preview_info.backup_date) }}</td>\n          </tr>\n          <tr>\n            <th>단말</th>\n            <td>{{ preview_info.storage_name }}</td>\n          </tr>\n          </tbody>\n\n        </table>\n        <div class=\"input_tagBox\">\n\t\t\t<span class=\"keyword\">\n\t\t\t\ttag1<button type=\"button\" class=\"btn_delete\"><img src=\"@/assets/images/sub/btn_tag_delete.png\"\n                                                          alt=\"삭제\"></button>\n\t\t\t</span>\n          <span class=\"keyword\">\n\t\t\t\ttag1<button type=\"button\" class=\"btn_delete\"><img src=\"@/assets/images/sub/btn_tag_delete.png\"\n                                                          alt=\"삭제\"></button>\n\t\t\t</span>\n          <input type=\"text\" placeholder=\"태그입력\">\n          <button type=\"button\" class=\"btn_inputTag_edit\"><span class=\"blind\">태그입력</span></button>\n        </div>\n      </div>\n    </div>\n    <!-- E : 이미지 뷰어 -->\n\n\n    <!-- S : 뷰어 호출 레이어 -->\n    <div class=\"layer_popup view\" id=\"viewer_show\">\n      <div class=\"view_inner\">\n        <div class=\"area_view\"></div>\n        <div class=\"file_folder_info none_tabMenu\">\n          <ul class=\"ffi_navi\">\n            <li><a href=\"#\" class=\"active\">자세한사항</a></li>\n          </ul>\n          <div class=\"ffi_cont\">\n            <div class=\"ffi_detail\" style=\"display:block\">\n              <h3><img src=\"@/assets/images/sub/ico_ft_photo.png\" alt=\"\" class=\"ico\"/>백업파일 123.jpg</h3>\n              <div class=\"screen_shot\">\n                <img src=\"@/assets/images/sub/preview_ft_photo.png\" alt=\"\" class=\"photo\"/>\n              </div>\n              <ul class=\"info\">\n                <li><strong class=\"category\">종류</strong><span class=\"field\">기타</span></li>\n                <li><strong class=\"category\">사이즈</strong><span class=\"field\">32.20KB</span></li>\n                <li><strong class=\"category\">장소</strong><span class=\"field\">C:\\Users\\aoskorea\\Desktopesktopesktopesktopesktopesktop</span>\n                </li>\n                <li><strong class=\"category\">변경일</strong><span class=\"field\">2019.4.10 오후 3:03:34</span></li>\n                <li><strong class=\"category\">작성일</strong><span class=\"field\">2019.4.10 오후 3:03:34</span></li>\n                <li><strong class=\"category\">백업일</strong><span class=\"field\">2019.4.10 오후 3:03:34</span></li>\n                <li><strong class=\"category\">단말</strong><span class=\"field\">DESKTOP-9HQEECE</span></li>\n              </ul>\n            </div>\n\n          </div>\n        </div>\n      </div>\n      <button type=\"button\" class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"Close\"></button>\n    </div>\n    <!-- E : 뷰어 호출 레이어 -->\n\n    <div class=\"menu_layer_preview\">\n      <ul>\n        <li><a href=\"#\">클라우드 드라이브 복사</a></li>\n        <li><a href=\"#\">태그 추가</a></li>\n        <li><a href=\"#\">삭제</a></li>\n        <li @click.stop=\"clickBtnDetail\"><a href=\"#\">상세</a></li>\n      </ul>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\n  import {contentMixin} from '../../common/contentMixin'\n  import {EventBus} from \"../../plugins/event-bus.js\"\n  import $ from \"jquery\";\n\n  export default {\n    mixins: [contentMixin],\n\n    props: {\n      visible: {\n        type: Boolean,\n        require: true,\n        default: false\n      },\n      file_name: {\n        type: String,\n        require: true,\n      },\n      file_id: {\n        type: String,\n        require: true,\n        default: ''\n      },\n      preview_data: {\n        type: Object,\n        require: true\n      },\n      item_idx: {\n        type: Number\n      },\n      category_tab: {\n        type: String,\n        require: true,\n      },\n    },\n    computed: {\n      fileList() {\n        return this.$store.state.connected_device.files\n      },\n      next_page() {\n        return this.$store.state.connected_device.next_page;\n      },\n      has_next() {\n        return this.$store.state.connected_device.has_next;\n      },\n    },\n    data: function () {\n      return {\n        detail_show: false,\n        list_show: false,\n        preview_info: [],\n        index_page: '',\n        pageNum: 0,\n        next_item_no: 0,\n        prev_item_no: 0,\n        btn_show: false,\n        last_idx: 0,\n        prev_idx: 0,\n        file_list: [],\n\n      }\n    },\n    mounted() {\n      EventBus.$on('preview_open', item_idx => {\n        this.preview_info = this.fileList[item_idx];\n        this.file_list = this.current_list(this.preview_info);\n        this.prev_item_no = this.file_list.indexOf(this.preview_info);\n        let next_item = this.fileList[item_idx + 1];\n        this.next_item_no = this.file_list.lastIndexOf(next_item);\n      });\n      jQuery(\".overlay_imgList\").mCustomScrollbar({\n        theme: \"minimal-dark\",\n        horizontalScroll: true,\n        autoScrollOnFocus: true,\n        scrollInertia: 400, //\n      });\n    },\n    methods: {\n      current_list(item) {\n        // 현재 선택되어진 대상의 인덱스를 가져오기\n        let idx = this.fileList.indexOf(item);\n\n        let start = 0;\n        let end = 23;\n        if (idx > 10) {\n          start = idx - 11;\n          end = idx + 11;\n        }\n        return this.fileList.slice(start, end)\n      },\n\n      close() {\n        EventBus.$emit('update_visible')\n      },\n      click_list_row(e, id) {\n\n        this.preview_info = this.file_list.getObjectById('id', id);\n        let item_idx = this.file_list.indexOf(this.preview_info);\n        let prev_item = this.fileList[item_idx];\n        this.prev_item_no = this.fileList.indexOf(prev_item);\n\n        if (this.prev_item_no === 0) {\n          this.file_list = this.current_list(this.preview_info);\n        }\n        if (!this.has_next) {\n          let next_item = this.fileList[item_idx + 1];\n          this.next_item_no = this.fileList.lastIndexOf(next_item);\n        }\n      },\n      fileName() {\n      },\n      next_item() {\n        this.next_item_no = this.file_list.indexOf(this.preview_info) + 1;\n        this.preview_info = this.file_list[this.next_item_no];\n        this.prev_item_no = this.file_list.indexOf(this.preview_info);\n        let next_item = this.file_list[this.next_item_no + 1];\n        this.last_idx = this.file_list.lastIndexOf(this.preview_info);\n        // 마지막 인덱스\n        if (this.last_idx === -1) {\n          this.preview_info = this.file_list[this.next_item_no - 1];\n          this.file_list = this.current_list(this.preview_info);\n        }\n        if (this.last_idx === -1 && this.has_next === true) {\n\n          let page = document.querySelector('#page').value;\n          if (page == this.next_page) {\n            document.querySelector('#page').value = parseInt(page) + 1;\n            if (this.category_tab == 'default') {\n              this.callMoreList(page);\n            } else {\n              this.callMoreCategoryList(page);\n            }\n          }\n        }\n      },\n\n      // TODO 코드가 중복됨 개선 필요!!!!!!!!!\n      callMoreCategoryList: function (page) {\n        if (page > this.last_page) {\n          return;\n        }\n        this.$store.dispatch(\"connected_device/getFileByCategory\", {\n          storage_id: this.$store.state.connected_device.storage_id,\n          category: this.category_tab,\n          page: page\n        })\n      },\n      callMoreList: function (page) {\n        if (page > this.last_page) {\n          return;\n        }\n        this.$store.dispatch(\"connected_device/getFolderFile\", {\n          item: this.file_id,\n          page: page\n        })\n      },\n      prev_item() {\n        this.prev_item_no = this.file_list.indexOf(this.preview_info) - 1;\n        this.preview_info = this.file_list[this.prev_item_no];\n        let prev_item = this.file_list[this.prev_item_no - 1];\n        this.prev_idx = this.file_list.indexOf(prev_item);\n\n        console.log(\"this.prev_item_no\", this.prev_idx);\n\n        if (this.prev_idx === 0 || this.prev_item_no === -1) {\n          this.preview_info = this.file_list[this.prev_item_no];\n          this.file_list = this.current_list(this.preview_info);\n        }\n\n      },\n      clickBtnMore(e, key) {\n\n        let posX = e.clientX - 150;\n        let posY = e.clientY;\n        let contextMenu = $(\".menu_layer_preview\");\n\n        contextMenu.css({\n          \"display\": \"block\",\n          \"position\": \"fixed\",\n          \"top\": posY + \"px\",\n          \"left\": posX + \"px\",\n          \"z-index\": 90\n        });\n\n        $(contextMenu).mouseleave(function (e) {\n          contextMenu.hide();\n        })\n      },\n      view_list() {\n        if (this.list_show === false) {\n          $(\".overlay_zoom\").css(\"top\", \"75%\");\n          this.list_show = !this.list_show\n\n        } else {\n          $(\".overlay_zoom\").css(\"top\", \"90%\");\n          this.list_show = !this.list_show\n        }\n      },\n      /* 상세보기 클릭 */\n      clickBtnDetail() {\n\n        if (this.detail_show === false) {\n\n          $(\".overlay_bg\").addClass(\"fileInfo\")\n          this.detail_show = !this.detail_show\n        } else {\n          $(\".overlay_bg\").removeClass(\"fileInfo\")\n          this.detail_show = !this.detail_show\n        }\n\n\n      },\n      btn_close() {\n        if (this.detail_show === true) {\n          $(\".overlay_bg\").removeClass(\"fileInfo\")\n          this.detail_show = !this.detail_show\n        }\n\n      },\n      clickBtnFavoriteDel() {\n        var qs = require('qs');\n        axios.post('/connected_device/favorite-del',\n          qs.stringify({\n            id: this.preview_info.id\n          })\n        ).then(response => {\n          if (response.status === 200) {\n\n            //  플래그 업데이트 하기\n            this.$store.commit('connected_device/update_favorite_flg_del', response.data)\n          }\n        });\n      },\n      open_viewer() {\n\n        console.log(\"뷰어\")\n\n        let viewer_show = $(\"#viewer_show\");\n        viewer_show.css({\n          \"display\": \"block\",\n        });\n\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /* File Folder Info */\n  .file_folder_info {\n    display: block;\n  }\n\n  .file_folder_info .ffi_cont .ffi_detail {\n    display: block;\n  }\n\n  .file_folder_info .ffi_cont .ffi_version {\n    display: block;\n  }\n\n  .file_folder_info.none_tabMenu .ffi_navi {\n    display: block;\n  }\n\n  /* Menu Layer */\n  .menu_layer_preview {\n    position: absolute;\n    z-index: 90;\n    display: none;\n    padding: 5px 0px;\n    border: 1px solid #CCD4DC;\n    border-radius: 3px;\n    background-color: white;\n    box-shadow: 2.121px 2.121px 5px 0px rgba(187, 206, 238, 0.4);\n  }\n\n  .menu_layer_preview ul li {\n    text-align: left;\n    line-height: 0;\n  }\n\n  .menu_layer_preview ul li a {\n    display: block;\n    padding: 8px 16px;\n    line-height: 120%;\n  }\n\n  .menu_layer_preview ul li a:hover {\n    background-color: #F5F9FC;\n  }\n\n  .menu_layer_preview ul li a img.ico {\n    position: relative;\n    top: -2px;\n    margin-right: 6px;\n  }\n\n  .overlay_zoom {\n    top: 90%;\n  }\n\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity 0.25s ease-out;\n  }\n\n  .fade-enter, .fade-leave-to {\n    opacity: 90;\n  }\n\n</style>\n"]}]}