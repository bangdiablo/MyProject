{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/management/user_server/user.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/management/user_server/user.vue","mtime":1578875064840},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIG1hbmFnZW1lbnQgZnJvbSAnLi4vLi4vLi4vc3RvcmUvbWFuYWdlbWVudC92dWV4X21hbmFnZW1lbnQnCgpleHBvcnQgZGVmYXVsdCB7CgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1c2VyQWRkQ29udGV4dDogewogICAgICAgICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXNlckRldGFpbENvbnRleHQ6IHsKICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxpc3Q6IFtdLAogICAgICAgICAgICBwYWdlSW5mbzogewogICAgICAgICAgICAgICAgdG90YWxEYXRhOiAwLCAgICAgICAvLyDstJ0g642w7J207YSwIOyImAogICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsICAgICAvLyDtmITsnqwg7Y6Y7J207KeACiAgICAgICAgICAgICAgICBwYWdlc1Blck9uY2U6IDEwLCAgIC8vIO2VnCDrsojsl5Ag67O07J2064qUIO2OmOydtOyngCDsiJgKICAgICAgICAgICAgICAgIGRhdGFQZXJQYWdlOiAxMCwgICAgLy8g7ZWcIO2OmOydtOyngOyXkCDrs7TsnbTripQgZGF0YSDsiJgKICAgICAgICAgICAgICAgIHNlYXJjaFRleHQ6ICcnLAogICAgICAgICAgICB9LAogICAgICAgICAgICBsYXllcjogewogICAgICAgICAgICAgICAgLy8g7J2867CYIOyKpO2GoOumrOyngCDsoJztlZwKICAgICAgICAgICAgICAgIHJlc3RyaWN0R2VuZXJhbFN0b3JhZ2VMYXllcjogewogICAgICAgICAgICAgICAgICAgIHNpemU6IDAsCiAgICAgICAgICAgICAgICAgICAgY2hlY2s6IGZhbHNlCiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgIC8vIOy9nOuTnCDsiqTthqDrpqzsp4Ag7KCc7ZWcCiAgICAgICAgICAgICAgICByZXN0cmljdENvbGRTdG9yYWdlTGF5ZXI6IHsKICAgICAgICAgICAgICAgICAgICBzaXplOiAwLAogICAgICAgICAgICAgICAgICAgIGNoZWNrOiBmYWxzZQogICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICAvLyBPQ1Ig7Y6Y7J207KeAIOyImCDsoJztlZwKICAgICAgICAgICAgICAgIHJlc3RyaWN0T2NyUGFnZUxheWVyOiB7CiAgICAgICAgICAgICAgICAgICAgc2l6ZTogMCwKICAgICAgICAgICAgICAgICAgICBjaGVjazogZmFsc2UKICAgICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgICAgc2VuZFRvQ3N2TGF5ZXI6IGZhbHNlLCAgICAgICAgICAgICAgLy8gQ1NW7JeQIOuCtOuztOuCtOq4sAogICAgICAgICAgICAgICAgZ2l2ZUFkbWluUHJpdmlsZWdlTGF5ZXI6IGZhbHNlLCAgICAgLy8g6rSA66as7J6Q6raM7ZWcIOu2gOyXrAogICAgICAgICAgICAgICAgcmVtb3ZlQWRtaW5Qcml2aWxlZ2VMYXllcjogZmFsc2UsICAgLy8g6rSA66as7J6Q6raM7ZWcIOyCreygnAogICAgICAgICAgICAgICAgY2hhbmdlUGFzc3dvcmRMYXllcjogZmFsc2UsICAgICAgICAgLy8g67mE67CA67KI7Zi4IOuzgOqyvQogICAgICAgICAgICAgICAgY2hhbmdlRW1haWxMYXllcjogZmFsc2UsICAgICAgICAgICAgLy8g66mU7J287KO87IaMIOuzgOqyvQogICAgICAgICAgICAgICAgY2hhbmdlTmFtZUxheWVyOiBmYWxzZSwgICAgICAgICAgICAgLy8g7J2066aEIOuzgOqyvQogICAgICAgICAgICAgICAgY2hhbmdlVXNlclNvcnRMYXllcjogZmFsc2UsICAgICAgICAgLy8g7IKs7Jqp7J6QNyDsooXrpZgg7Y647KeRCiAgICAgICAgICAgICAgICBkZWxldGVQb2xpY3lMYXllcjogZmFsc2UsICAgICAgICAgICAvLyDsoJXssYUg7IKt7KCcCiAgICAgICAgICAgICAgICBub1BvbGljeVRvRGVsZXRlTGF5ZXI6IGZhbHNlLCAgICAgICAvLyDsgq3soJztlaAg7KCV7LGF7J20IOyXhuyKteuLiOuLpC4KICAgICAgICAgICAgICAgIGNoYW5nZVBvbGljeUxheWVyOiBmYWxzZSwgICAgICAgICAgIC8vIOygleyxhSDsiJjsoJUKICAgICAgICAgICAgICAgIHNlbGVjdGVkSWQ6ICdzZWxlY3RlZCcgICAgICAgICAgICAgIC8vIOyEoO2DneuQnCBpZAogICAgICAgICAgICB9LAogICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBjdXJyZW50UGFnZSgpIHsKCiAgICAgICAgICByZXR1cm4gdGhpcy5wYWdlSW5mby5jdXJyZW50UGFnZTsKICAgICAgICB9LAogICAgICAgIHByZXZQYWdlKCkgewoKICAgICAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSB0aGlzLnBhZ2VJbmZvLmN1cnJlbnRQYWdlLAogICAgICAgICAgICAgICAgICBwYWdlc1Blck9uY2UgPSB0aGlzLnBhZ2VJbmZvLnBhZ2VzUGVyT25jZTsKCiAgICAgICAgICAgIGxldCBwYWdlLAogICAgICAgICAgICAgICAgcHJldlBhZ2U7CgogICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPiBwYWdlc1Blck9uY2UpIHsKCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgJSBwYWdlc1Blck9uY2UgPT0gMCkKICAgICAgICAgICAgICAgICAgICBwYWdlID0gY3VycmVudFBhZ2UgLSBwYWdlc1Blck9uY2U7CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgcGFnZSA9IGN1cnJlbnRQYWdlIC0gY3VycmVudFBhZ2UgJSBwYWdlc1Blck9uY2U7CgogICAgICAgICAgICAgICAgcHJldlBhZ2UgPSBwYWdlOwoKICAgICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgICAgICBwcmV2UGFnZSA9IGN1cnJlbnRQYWdlOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gcHJldlBhZ2U7CiAgICAgICAgfSwKICAgICAgICBwYWdlQXJyKCkgewoKICAgICAgICAgICAgY29uc3QgcGFnZXNQZXJPbmNlID0gdGhpcy5wYWdlSW5mby5wYWdlc1Blck9uY2UsCiAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXMgPSB0aGlzLnRvdGFsUGFnZXMsCiAgICAgICAgICAgICAgICAgIHBhZ2VHcm91cE5vID0gdGhpcy5wYWdlR3JvdXBObzsKCiAgICAgICAgICAgIGxldCBwYWdlQXJyID0gW107CgogICAgICAgICAgICBmb3IgKGxldCBpID0gcGFnZUdyb3VwTm8gKiBwYWdlc1Blck9uY2UgKyAxOyBpIDw9IChwYWdlR3JvdXBObyArIDEpICogcGFnZXNQZXJPbmNlOyBpKyspIHsKCiAgICAgICAgICAgICAgICBsZXQgb2JqID0ge3BhZ2VObzogaX07CgogICAgICAgICAgICAgICAgaWYgKHRoaXMucGFnZUluZm8uY3VycmVudFBhZ2UgPT0gaSkgewoKICAgICAgICAgICAgICAgICAgICBvYmouYWN0aXZlID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgICAgICAgICBvYmouYWN0aXZlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcGFnZUFyci5wdXNoKG9iaik7CgogICAgICAgICAgICAgICAgaWYgKHRvdGFsUGFnZXMgPT0gaSkKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHBhZ2VBcnI7CiAgICAgICAgfSwKICAgICAgICBuZXh0UGFnZSgpIHsKCiAgICAgICAgICAgIGNvbnN0IHBhZ2VzUGVyT25jZSA9IHRoaXMucGFnZUluZm8ucGFnZXNQZXJPbmNlLAogICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzID0gdGhpcy50b3RhbFBhZ2VzLAogICAgICAgICAgICAgICAgICBwYWdlR3JvdXBObyA9IHRoaXMucGFnZUdyb3VwTm87CgogICAgICAgICAgICBsZXQgcGFnZSwKICAgICAgICAgICAgICAgIG5leHRQYWdlOwoKICAgICAgICAgICAgaWYgKHRvdGFsUGFnZXMgPiAocGFnZUdyb3VwTm8gKyAxKSAqIHBhZ2VzUGVyT25jZSkgewoKICAgICAgICAgICAgICAgIHBhZ2UgPSAocGFnZUdyb3VwTm8gKyAxKSAqIHBhZ2VzUGVyT25jZSArIDE7CiAgICAgICAgICAgICAgICBuZXh0UGFnZSA9IHBhZ2U7CgogICAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgICAgIG5leHRQYWdlID0gdGhpcy5wYWdlSW5mby5jdXJyZW50UGFnZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIG5leHRQYWdlOwogICAgICAgIH0sCiAgICAgICAgdG90YWxQYWdlcygpIHsKCiAgICAgICAgICAgIGNvbnN0IHRvdGFsRGF0YSA9IHRoaXMucGFnZUluZm8udG90YWxEYXRhLAogICAgICAgICAgICAgICAgZGF0YVBlclBhZ2UgPSB0aGlzLnBhZ2VJbmZvLmRhdGFQZXJQYWdlOwoKICAgICAgICAgICAgbGV0IHRvdGFsUGFnZXM7CgogICAgICAgICAgICBpZiAodG90YWxEYXRhICUgZGF0YVBlclBhZ2UgPT0gMCkKICAgICAgICAgICAgICAgIHRvdGFsUGFnZXMgPSBNYXRoLmZsb29yKHRvdGFsRGF0YSAvIGRhdGFQZXJQYWdlKTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgdG90YWxQYWdlcyA9IE1hdGguZmxvb3IodG90YWxEYXRhIC8gZGF0YVBlclBhZ2UpICsgMTsKCiAgICAgICAgICAgIHJldHVybiB0b3RhbFBhZ2VzOwogICAgICAgIH0sCiAgICAgICAgcGFnZUdyb3VwTm8oKSB7CgogICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigodGhpcy5wYWdlSW5mby5jdXJyZW50UGFnZSAtIDEpIC8gdGhpcy5wYWdlSW5mby5wYWdlc1Blck9uY2UpOwogICAgICAgIH0sCiAgICAgICAgY2hlY2tlZEFsbDogewoKICAgICAgICAgICAgZ2V0KCkgewoKICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7CgogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3QubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpc3RbaV0uY2hlY2tlZCkgY291bnQrKzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0Lmxlbmd0aCA9PT0gY291bnQ7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCh2YWwpIHsKCiAgICAgICAgICAgICAgICBpZiAodmFsKQogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdC5zZXRBbGxPYmpQcm9wKCdjaGVja2VkJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0LnNldEFsbE9ialByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKICAgIG1ldGhvZHM6IHsKCiAgICAgICAgc2V0UG9saWN5TmFtZShwb2xpY3luYW1lKSB7CgogICAgICAgICAgICByZXR1cm4gcG9saWN5bmFtZSA/IHBvbGljeW5hbWUgOiAn7IKs7Jqp7J6QIOygleydmCc7CiAgICAgICAgfSwKCiAgICAgICAgaXNBZG1pbihyb2xlaWQpIHsKCiAgICAgICAgICAgIHJldHVybiByb2xlaWQgPT09IDEgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgfSwKICAgICAgICBleHByZXNzVXNlZCh2YWx1ZSwgdW5pdCkgewoKICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpCiAgICAgICAgICAgICAgICB2YWx1ZSA9IDA7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHZhbHVlID0gbnVtYmVyV2l0aENvbW1hcyh2YWx1ZSk7CgogICAgICAgICAgICB1bml0ID0gdW5pdCA9PT0gdW5kZWZpbmVkID8gIiBHQiIgOiAiIO2OmOydtOyngCI7CgogICAgICAgICAgICByZXR1cm4gdmFsdWUgKyB1bml0OwogICAgICAgIH0sCiAgICAgICAgZXhwcmVzc0xpbWl0KHZhbHVlLCB1bml0KSB7CgogICAgICAgICAgICB1bml0ID0gdW5pdCA9PT0gdW5kZWZpbmVkID8gIiBHQiIgOiAiIO2OmOydtOyngCI7CgogICAgICAgICAgICBpZiAodmFsdWUgPT0gMCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKQogICAgICAgICAgICAgICAgdmFsdWUgPSAi7KCc7ZWc7JeG7J2MIjsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgdmFsdWUgPSBudW1iZXJXaXRoQ29tbWFzKHZhbHVlKSArIHVuaXQ7CgogICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfSwKICAgICAgICBleHByZXNzUGVybWl0KHBlcm1pdCkgewoKICAgICAgICAgICAgc3dpdGNoKHBlcm1pdCkgewoKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGVybWl0ID0gIuuwseyXhSDsoITsmqkiOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBwZXJtaXQgPSAi6rKA7IOJIOyghOyaqSI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHBlcm1pdCA9ICLrsLHsl4Xqs7wg6rKA7IOJIjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHBlcm1pdDsKICAgICAgICB9LAogICAgICAgIHNob3dDb250ZXh0KGV2ZW50LCBpZCwgc3ViTmFtZSkgewoKICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgICAgICAgICBsZXQgbGlzdCA9IHRoaXMubGlzdDsKCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewoKICAgICAgICAgICAgICAgIGlmIChsaXN0W2ldLmlkID09IGlkKSB7CgogICAgICAgICAgICAgICAgICAgIGlmIChzdWJOYW1lID09PSB1bmRlZmluZWQpCiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RbaV0udXNlckNvbnRleHQuc2hvdyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICBsaXN0W2ldLnVzZXJDb250ZXh0W3N1Yk5hbWVdLnNob3cgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBoaWRlQ29udGV4dChldmVudCwgaWQsIHN1Yk5hbWUpIHsKCiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoKICAgICAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmxpc3Q7CgogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgICAgICAgICBpZiAobGlzdFtpXS5pZCA9PSBpZCkgewoKICAgICAgICAgICAgICAgICAgICBpZiAoc3ViTmFtZSA9PT0gdW5kZWZpbmVkKQogICAgICAgICAgICAgICAgICAgICAgICBsaXN0W2ldLnVzZXJDb250ZXh0LnNob3cgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RbaV0udXNlckNvbnRleHRbc3ViTmFtZV0uc2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgIH0sCiAgICAgICAgZ2V0VXNlckxpc3QoY3VycmVudFBhZ2UpIHsKCiAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOwoKICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlICE9PSB1bmRlZmluZWQpCiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VJbmZvLmN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2U7CgogICAgICAgICAgICBheGlvcy5wb3N0KCIvbWFuYWdlbWVudC91c2VyX3NlcnZlci8iLCB7CiAgICAgICAgICAgICAgICBzZWFyY2hUZXh0OiB0aGlzLnBhZ2VJbmZvLnNlYXJjaFRleHQsCiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5wYWdlSW5mby5jdXJyZW50UGFnZSwKICAgICAgICAgICAgICAgIGRhdGFQZXJQYWdlOiB0aGlzLnBhZ2VJbmZvLmRhdGFQZXJQYWdlCiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CgogICAgICAgICAgICAgICAgICAgIGxldCBib3hVc2VycyA9IHJlc3BvbnNlLmRhdGEuYm94VXNlcnMsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQm94VXNlcnMgPSByZXNwb25zZS5kYXRhLnRvdGFsQm94VXNlcnM7CgogICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUluZm8udG90YWxEYXRhID0gdG90YWxCb3hVc2VyczsKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnbWFuYWdlbWVudC9zZXRVc2VyUGFnZW5hdGlvbicsIHt0b3RhbERhdGE6IHRvdGFsQm94VXNlcnN9KTsKCiAgICAgICAgICAgICAgICAgICAgbGV0IGxpc3QgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3hVc2Vycy5sZW5ndGg7IGkrKykgewoKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBib3hVc2Vyc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9iaiA9IHt9OwoKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBkYXRhKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3AucmVwbGFjZSgnYnVfJywgJycpXSA9IGRhdGFbcHJvcF07CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHByb3ApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdidV9nbnJsc3RvJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdidV9jb2xkc3RvJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdidV9vY3InOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtwcm9wXSA9PSBudWxsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3AucmVwbGFjZSgnYnVfJywgJycpXSA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmlkID0gYm94VXNlcnNbaV0uYnVfaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIG9iai51c2VyQ29udGV4dCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjoge3Nob3c6IGZhbHNlfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbGljeToge3Nob3c6IGZhbHNlfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RyaWN0OiB7c2hvdzogZmFsc2V9CiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IGxpc3Q7CiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21hbmFnZW1lbnQvc2V0VXNlckxpc3QnLCBsaXN0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZXggPT4gewoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgLy8g7IOB7IS4IO2OmOydtOyngCDsnbTrj5kKICAgICAgICBnb1VzZXJJbmZvKHVzZXJJZCkgewoKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAndXNlckluZm8nLCBwYXJhbXM6IHsgdXNlcklkOiB1c2VySWQgfSwgcXVlcnk6IHRoaXMucGFnZUluZm99KTsKICAgICAgICB9LAoKICAgICAgICAvLyDshKDtg53rkJwg7Jyg7KCAIOygleuztAogICAgICAgIGdldFNlbGVjdGVkVXNlcigpIHsKCiAgICAgICAgICAgIGxldCBzZWxlY3RlZFVzZXJpZHMgPSBbXSwKICAgICAgICAgICAgICAgIGxpc3QgPSB0aGlzLmxpc3QsCiAgICAgICAgICAgICAgICB1c2VyLAogICAgICAgICAgICAgICAgaTsKCiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CgogICAgICAgICAgICAgICAgdXNlciA9IGxpc3RbaV07CgogICAgICAgICAgICAgICAgaWYgKHVzZXIuY2hlY2tlZCkKICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFVzZXJpZHMucHVzaCh1c2VyLmlkKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkVXNlcmlkczsKICAgICAgICB9LAoKICAgICAgICBjaGVja1NlbGVjdGVkVXNlcih1c2VyaWRzKSB7CgogICAgICAgICAgICBpZiAodXNlcmlkcy5sZW5ndGggPT0gMCkgewoKICAgICAgICAgICAgICAgIHRoaXMub3BlbkxheWVyKCdub1NlbGVjdGVkVXNlckxheWVyJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0sCgogICAgICAgIC8vIOycoO2aqO2ZlCwg7J287Iuc7KCV7KeALCDsgq3soJwKICAgICAgICB1cGRhdGVVc2VyQWN0aXZlKHVzZXJpZHMsIGFjdGl2ZSkgewogICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CgogICAgICAgICAgICBheGlvcy5wb3N0KCcvbWFuYWdlbWVudC91cGRhdGVVc2VyQWN0aXZlLycsIHt1c2VyaWRzOiB1c2VyaWRzLCBhY3RpdmU6IGFjdGl2ZX0pLnRoZW4ocmVzcG9uc2UgPT4gewoKICAgICAgICAgICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gJyc7CgogICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSA9PSAxKQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAn7Zmc7ISx7ZmU65CY7JeI7Iq164uI64ukLic7CiAgICAgICAgICAgICAgICBlbHNlIGlmIChhY3RpdmUgPT0gMikKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gJ+ydvOyLnOygleyngOuQmOyXiOyKteuLiOuLpC4nOwogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAn7IKt7KCc65CY7JeI7Iq164uI64ukLic7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAxMDAwKSB7CgogICAgICAgICAgICAgICAgICAgIHNlbGYuY2xvc2VMYXllcigpOwogICAgICAgICAgICAgICAgICAgIHNlbGYuZ2V0VXNlckxpc3QoKTsKICAgICAgICAgICAgICAgICAgICBhbGVydChtZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0pLmNhdGNoKGV4ID0+IHsKCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIC8vIOycoOyggOulvCDsnKDtmqjtmZQg67KE7Yq8IO2BtOumrSDsi5wsIOugiOydtOyWtCDtjJ3sl4UKICAgICAgICBtYWtlQWN0aXZlVXNlckxheWVyKHVzZXJpZCkgewoKICAgICAgICAgICAgbGV0IHVzZXJpZHMgPSBbdXNlcmlkXSwKICAgICAgICAgICAgICAgIGxpc3QgPSB0aGlzLmxpc3QsCiAgICAgICAgICAgICAgICBhbHJlYWR5QWN0aXZlID0gZmFsc2U7CgogICAgICAgICAgICBpZiAodXNlcmlkIGluc3RhbmNlb2YgRXZlbnQpCiAgICAgICAgICAgICAgICB1c2VyaWRzID0gdGhpcy5nZXRTZWxlY3RlZFVzZXIoKTsKCiAgICAgICAgICAgIC8vIOycoOyggCDshKDtg53sl6zrtoAg6rKA7IKsCiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1NlbGVjdGVkVXNlcih1c2VyaWRzKSkgcmV0dXJuOwoKICAgICAgICAgICAgLy8g7J2066+4IOycoO2aqO2ZlCDqsoDsgqwKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGk8IGxpc3QubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgICAgICAgICBpZiAobGlzdFtpXS5zdGF0dXMgPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICBhbHJlYWR5QWN0aXZlID0gdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoYWxyZWFkeUFjdGl2ZSkgewoKICAgICAgICAgICAgICAgIHRoaXMub3BlbkxheWVyKCdhbHJlYWR5QWN0aXZhdGVkVXNlckxheWVyJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMub3BlbkxheWVyKCdhY3RpdmF0ZVVzZXJMYXllcicpOwogICAgICAgICAgICB0aGlzLmxheWVyLnNlbGVjdGVkSWQgPSB1c2VyaWRzOwogICAgICAgIH0sCgogICAgICAgIC8vIOycoOyggCDsnbzsi5zsoJXsp4Ag67KE7Yq8IO2BtOumrSDsi5wsIOugiOydtOyWtCDtjJ3sl4UKICAgICAgICBtYWtlSW5hY3RpdmVVc2VyTGF5ZXIodXNlcmlkKSB7CgogICAgICAgICAgICBsZXQgdXNlcmlkcyA9IFt1c2VyaWRdLAogICAgICAgICAgICAgICAgbGlzdCA9IHRoaXMubGlzdCwKICAgICAgICAgICAgICAgIGFscmVhZHlBY3RpdmUgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmICh1c2VyaWQgaW5zdGFuY2VvZiBFdmVudCkKICAgICAgICAgICAgICAgIHVzZXJpZHMgPSB0aGlzLmdldFNlbGVjdGVkVXNlcigpOwoKICAgICAgICAgICAgLy8g7Jyg7KCAIOyEoO2DneyXrOu2gCDqsoDsgqwKICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrU2VsZWN0ZWRVc2VyKHVzZXJpZHMpKSByZXR1cm47CgogICAgICAgICAgICB0aGlzLm9wZW5MYXllcignaW5hY3RpdmF0ZVVzZXJMYXllcicpOwogICAgICAgICAgICB0aGlzLmxheWVyLnNlbGVjdGVkSWQgPSB1c2VyaWRzOwogICAgICAgIH0sCgogICAgICAgIC8vIOycoOyggCDsgq3soJwg67KE7Yq8IO2BtOumrSDsi5wsIOugiOydtOyWtCDtjJ3sl4UKICAgICAgICBkZWxldGVVc2VyTGF5ZXIodXNlcmlkKSB7CgogICAgICAgICAgICBsZXQgdXNlcmlkcyA9IFt1c2VyaWRdLAogICAgICAgICAgICAgICAgbGlzdCA9IHRoaXMubGlzdCwKICAgICAgICAgICAgICAgIGFscmVhZHlBY3RpdmUgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmICh1c2VyaWQgaW5zdGFuY2VvZiBFdmVudCkKICAgICAgICAgICAgICAgIHVzZXJpZHMgPSB0aGlzLmdldFNlbGVjdGVkVXNlcigpOwoKICAgICAgICAgICAgLy8g7Jyg7KCAIOyEoO2DneyXrOu2gCDqsoDsgqwKICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrU2VsZWN0ZWRVc2VyKHVzZXJpZHMpKSByZXR1cm47CgogICAgICAgICAgICB0aGlzLm9wZW5MYXllcignZGVsZXRlVXNlckxheWVyJyk7CiAgICAgICAgICAgIHRoaXMubGF5ZXIuc2VsZWN0ZWRJZCA9IHVzZXJpZHM7CiAgICAgICAgfSwKCiAgICAgICAgLy8g7J2867CYIOyKpO2GoOumrOyngCDsoJztlZwsIOy9nOuTnCDsiqTthqDrpqzsp4Ag7KCc7ZWcLCBPUkMg7Y6Y7J207KeAIOygnO2VnCDrsoTtirwg7YG066atIOyLnCwg66CI7J207Ja0IO2MneyXhQogICAgICAgIHJlc3RyaWN0TGF5ZXIobGF5ZXJUeXBlLCB1c2VyaWQpIHsKCiAgICAgICAgICAgIGxldCB1c2VyaWRzID0gW3VzZXJpZF0sCiAgICAgICAgICAgICAgICBsYXllck5hbWUgPSAnJywKICAgICAgICAgICAgICAgIGxpbWl0TmFtZSA9ICcnLAogICAgICAgICAgICAgICAgc2l6ZSA9ICcnLAogICAgICAgICAgICAgICAgY2hlY2sgPSBmYWxzZTsKCiAgICAgICAgICAgIHN3aXRjaChsYXllclR5cGUpIHsKICAgICAgICAgICAgICAgIGNhc2UgJ2ducmwnOgogICAgICAgICAgICAgICAgICAgIGxheWVyTmFtZSA9ICdyZXN0cmljdEdlbmVyYWxTdG9yYWdlTGF5ZXInOwogICAgICAgICAgICAgICAgICAgIGxpbWl0TmFtZSA9ICdnbnJsbGltaXQnOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgJ2NvbGQnOgogICAgICAgICAgICAgICAgICAgIGxheWVyTmFtZSA9ICdyZXN0cmljdENvbGRTdG9yYWdlTGF5ZXInOwogICAgICAgICAgICAgICAgICAgIGxpbWl0TmFtZSA9ICdjb2xkbGltaXQnOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgJ29jcic6CiAgICAgICAgICAgICAgICAgICAgbGF5ZXJOYW1lID0gJ3Jlc3RyaWN0T2NyUGFnZUxheWVyJzsKICAgICAgICAgICAgICAgICAgICBsaW1pdE5hbWUgPSAnb2NybGltaXQnOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodXNlcmlkID09PSB1bmRlZmluZWQpIHsKCiAgICAgICAgICAgICAgICB1c2VyaWRzID0gdGhpcy5nZXRTZWxlY3RlZFVzZXIoKTsKCiAgICAgICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3QubGVuZ3RoOyBpKyspIHsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGlzdFtpXS5pZCA9PSB1c2VyaWQpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSB0aGlzLmxpc3RbaV1bbGltaXROYW1lXTsKICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2sgPSBzaXplID09PSAwID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5sYXllcltsYXllck5hbWVdLnNpemUgPSBzaXplOwogICAgICAgICAgICB0aGlzLmxheWVyW2xheWVyTmFtZV0uY2hlY2sgPSBjaGVjazsKCiAgICAgICAgICAgIC8vIOycoOyggCDshKDtg53sl6zrtoAg6rKA7IKsCiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1NlbGVjdGVkVXNlcih1c2VyaWRzKSkgcmV0dXJuOwoKICAgICAgICAgICAgdGhpcy5vcGVuTGF5ZXIobGF5ZXJOYW1lKTsKICAgICAgICAgICAgdGhpcy5sYXllci5zZWxlY3RlZElkID0gdXNlcmlkczsKICAgICAgICB9LAoKICAgICAgICB1cGRhdGVVc2VyTGltaXQodHlwZSkgewoKICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzLAogICAgICAgICAgICAgICAgc2l6ZSA9IDAsCiAgICAgICAgICAgICAgICB1c2VyaWRzID0gdGhpcy5sYXllci5zZWxlY3RlZElkLAogICAgICAgICAgICAgICAgbWVzc2FnZSA9ICcnOwoKICAgICAgICAgICAgc3dpdGNoKHR5cGUpIHsKCiAgICAgICAgICAgICAgICBjYXNlICdnbnJsJzoKICAgICAgICAgICAgICAgICAgICBzaXplID0gdGhpcy5sYXllci5yZXN0cmljdEdlbmVyYWxTdG9yYWdlTGF5ZXIuc2l6ZTsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gJ+ydvOuwmCDsiqTthqDrpqzsp4Ag7KCc7ZWc7J2EIOyImOygle2WiOyKteuLiOuLpC4nOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgJ2NvbGQnOgogICAgICAgICAgICAgICAgICAgIHNpemUgPSB0aGlzLmxheWVyLnJlc3RyaWN0Q29sZFN0b3JhZ2VMYXllci5zaXplOwogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAn7L2c65OcIOyKpO2GoOumrOyngCDsoJztlZzsnYQg7IiY7KCV7ZaI7Iq164uI64ukLic7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAnb2NyJzoKICAgICAgICAgICAgICAgICAgICBzaXplID0gdGhpcy5sYXllci5yZXN0cmljdE9jclBhZ2VMYXllci5zaXplOwogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAnT0NSIO2OmOydtOyngCDsoJztlZzsnYQg7IiY7KCV7ZaI7Iq164uI64ukLic7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGF4aW9zLnBvc3QoJy9tYW5hZ2VtZW50L3VwZGF0ZVVzZXJMaW1pdC8nLCB7dXNlcmlkczogdXNlcmlkcywgdHlwZTogdHlwZSwgc2l6ZTogc2l6ZX0pLnRoZW4ocmVzcG9uc2UgPT4gewoKICAgICAgICAgICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDEwMDApIHsKCiAgICAgICAgICAgICAgICAgICAgc2VsZi5jbG9zZUxheWVyKCk7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5nZXRVc2VyTGlzdCgpOwogICAgICAgICAgICAgICAgICAgIGFsZXJ0KG1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfSkuY2F0Y2goZXggPT4gewoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgLy8g66CI7J207Ja0IO2MneyXhSDrs7TsnbTquLAKICAgICAgICBvcGVuTGF5ZXIobGF5ZXJOYW1lKSB7CgogICAgICAgICAgICAkKHRoaXMuJHJlZnMubW9kYWwpLnNob3coKTsKICAgICAgICAgICAgJCh0aGlzLiRyZWZzW2xheWVyTmFtZV0pLnNob3coKTsKICAgICAgICB9LAoKICAgICAgICAvLyDroIjsnbTslrQg7Yyd7JeFIOyIqOq4sOq4sAogICAgICAgIGNsb3NlTGF5ZXIoKSB7CgogICAgICAgICAgICAkKHRoaXMuJHJlZnMubW9kYWwpLmhpZGUoKTsKICAgICAgICAgICAgJCgiLmxheWVyX3BvcHVwIikuaGlkZSgpOwogICAgICAgIH0sCgogICAgICAgIHVubGltaXQobGF5ZXJOYW1lKSB7CgogICAgICAgICAgIHRoaXMubGF5ZXJbbGF5ZXJOYW1lXS5zaXplID0gJyc7CiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CgogICAgICAgIC8vIO2OmOydtOyngCwg6rKA7IOJIOygleuztCDsnojsnYQg6rK97JqwIOyEpOyglQogICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLiRyb3V0ZS5xdWVyeSkubGVuZ3RoICE9PSAwKQogICAgICAgICAgICB0aGlzLnBhZ2VJbmZvID0gdGhpcy4kcm91dGUucXVlcnk7CiAgICB9Cn0KCmZ1bmN0aW9uIG51bWJlcldpdGhDb21tYXMoeCkgewoKICAgIGxldCB2YWx1ZTsKCiAgICB0cnkgewoKICAgICAgICB2YWx1ZT0geC50b1N0cmluZygpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIsIik7CiAgICB9IGNhdGNoIChleCkgewoKICAgICAgICBjb25zb2xlLmxvZyhleCkKICAgICAgICBjb25zb2xlLmxvZyh4KQogICAgfQoKCiAgICByZXR1cm4gdmFsdWU7Cn0K"},{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0kBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA","file":"user.vue","sourceRoot":"src/components/management/user_server","sourcesContent":["<template>\n  <div class=\"admin_list\">\n    <div class=\"board_search_edit\">\n      <fieldset class=\"search_form left\">\n        <legend>사용자검색</legend>\n        <p><input type=\"text\" v-model=\"pageInfo.searchText\" @keydown.enter=\"getUserList(1)\"/>\n          <button type=\"button\" @click=\"getUserList(1)\"><img src=\"@/assets/images/sub/btn_ae_search.png\" alt=\"검색\"/></button>\n        </p>\n      </fieldset>\n      <div class=\"btn_edit right\">\n        <button type=\"button\" @click=\"userAddContext.show=true\" @mouseleave=\"userAddContext.show=false\"><img\n          src=\"@/assets/images/component/btn_edit_user_add.png\"\n          alt=\"\" class=\"ico\"/><span\n          class=\"txt\">사용자 추가</span>\n          <!-- '사용자 추가'버튼에 대한 메뉴 레이어 메뉴(style top,left값을 마우스 위치에 맞게 넣어주어야 함) -->\n\n        </button>\n        <transition name=\"fade\">\n            <div class=\"menu_layer\" v-show=\"userAddContext.show\" @mouseover=\"userAddContext.show=true\" @mouseleave=\"userAddContext.show=false\">\n            <ul>\n              <li><router-link to=\"/management/user_server/mail_invitation\">메일로 초대</router-link></li>\n              <li><router-link to=\"/management/user_server/manual_invitation\">수동으로 추가</router-link></li>\n              <li><router-link to=\"/management/user_server/csv_invitation\">CSV파일에서 일괄 추가</router-link></li>\n            </ul>\n          </div>\n        </transition>\n        <button type=\"button\" @click=\"userDetailContext.show=true\" @mouseleave=\"userDetailContext.show=false\" ><img src=\"@/assets/images/component/btn_edit_detail.png\" alt=\"\" class=\"ico\"/><span\n          class=\"txt\">상세</span></button>\n        <transition name=\"fade\">\n          <!-- '상세'버튼에 대한 메뉴 레이어 메뉴(style top,left값을 마우스 위치에 맞게 넣어주어야 함) -->\n          <div class=\"menu_layer\" id=\"menu_layer_detail\" v-show=\"userDetailContext.show\" @mouseover=\"userDetailContext.show=true\" @mouseleave=\"userDetailContext.show=false\">\n            <ul>\n              <li><a href=\"#\" @click=\"makeActiveUserLayer\">유저를 유효화</a></li>\n              <li><a href=\"#\" @click=\"makeInactiveUserLayer\">유저 일시 정지</a></li>\n              <li><a href=\"#\" @click=\"deleteUserLayer\">유저 삭제</a></li>\n              <li><a href=\"#\" @click=\"restrictLayer('gnrl')\">일반 스토리지 제한</a></li>\n              <li><a href=\"#\" @click=\"restrictLayer('cold')\">콜드 스토리지 제한</a></li>\n              <li><a href=\"#\" @click=\"restrictLayer('ocr')\">OCR 페이지 수 제한</a></li>\n              <li><a href=\"#\">CSV 내보내기</a></li>\n            </ul>\n          </div>\n        </transition>\n      </div>\n    </div>\n    <template v-if=\"list.length > 0\">\n\n      <!-- list -->\n      <table class=\"board_list\" @keydown.esc=\"closeLayer\">\n        <caption>사용자 목록</caption>\n        <colgroup>\n          <col style=\"width:70px\"/>\n          <col style=\"width:*px\"/>\n          <col style=\"width:150px\"/>\n          <col style=\"width:240px\"/>\n          <col style=\"width:240px\"/>\n          <col style=\"width:200px\"/>\n          <col style=\"width:100px\"/>\n          <col style=\"width:65px\"/>\n        </colgroup>\n        <thead>\n        <tr>\n          <th scope=\"col\"><input type=\"checkbox\" title=\"전체선택\" v-model=\"checkedAll\"/></th>\n          <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting\">이름</a></th>\n          <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting on\">정책</a></th>\n          <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting\">일반 스토리지 사용량/최대</a></th>\n          <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting\">콜드 스토리지 사용량/최대</a></th>\n          <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting\">OCR 사용량/최대</a></th>\n          <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting\">종류</a></th>\n          <th scope=\"col\">&nbsp;</th>\n        </tr>\n        </thead>\n        <tbody>\n          <tr class=\"pointer\" v-for=\"item in list\" :key=\"item.id\" @click=\"goUserInfo(item.id)\">\n            <td @click.stop><input type=\"checkbox\" title=\"선택\" v-model:cheked=\"item.checked\" /></td>\n            <td class=\"left\">\n              <img v-if=\"isAdmin(item.roleid)\" src=\"@/assets/images/sub/ico_ad_admin.png\" alt=\"관리자\" class=\"ico_admin\"/>\n              <a href=\"#\">{{item.firstname}} {{item.lastname}}</a>\n            </td>\n            <td>{{setPolicyName(item.policyname)}}</td>\n            <td>{{expressUsed(item.gnrlsto)}} / {{expressLimit(item.gnrllimit)}}</td>\n            <td>{{expressUsed(item.coldsto)}} / {{expressLimit(item.coldlimit)}}</td>\n            <td>{{expressUsed(item.ocr, '페이지')}} / {{expressLimit(item.ocrlimit, '페이지')}}</td>\n            <td>{{expressPermit(item.permit)}}</td>\n            <td class=\"item_edit\">\n              <button type=\"button\" @click=\"showContext($event, item.id)\" @mouseleave=\"hideContext($event, item.id)\">\n                <i class=\"more\">더 많은</i>\n              </button>\n                <div class=\"menu_layer user_context\" v-show=\"item.userContext.show\" @mouseenter=\"showContext($event, item.id)\" @mouseleave=\"hideContext($event, item.id)\" @click.stop>\n                    <ul>\n                        <li>\n                            <a href=\"#\" @mouseenter=\"showContext($event, item.id, 'user')\" @mouseleave=\"hideContext($event, item.id, 'user')\"> 유저 관리\n                                <transition name=\"fade\">\n                                    <div class=\"menu_layer user_context_user_management\" v-show=\"item.userContext.user.show\" >\n                                        <ul>\n                                            <li><a href=\"#\" @click=\"makeActiveUserLayer(item.id)\">유저를 유효화</a></li>\n                                            <li><a href=\"#\" @click=\"makeInactiveUserLayer(item.id)\">유저 일시 정지</a></li>\n                                            <li><a href=\"#\">관리자권한 부여(삭제)</a></li>\n                                            <li><a href=\"#\">패스워드 변경</a></li>\n                                            <li><a href=\"#\">메일 주소 변경</a></li>\n                                            <li><a href=\"#\">이름 변경</a></li>\n                                            <li><a href=\"#\">사용자 종류 편집</a></li>\n                                            <li><a href=\"#\" @click=\"deleteUserLayer(item.id)\">유저 삭제</a></li>\n                                        </ul>\n                                    </div>\n                                </transition>\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"#\" @mouseenter=\"showContext($event, item.id, 'policy')\" @mouseleave=\"hideContext($event, item.id, 'policy')\"> 정책 관리\n                                <transition name=\"fade\">\n                                    <div class=\"menu_layer user_context_policy_management\" v-show=\"item.userContext.policy.show\">\n                                        <ul>\n                                            <li><a href=\"#\">정책 삭제</a></li>\n                                            <li><a href=\"#\">정책 수정</a></li>\n                                        </ul>\n                                    </div>\n                                </transition>\n                            </a>\n                        </li>\n                        <li>\n                            <a href=\"#\" @mouseenter=\"showContext($event, item.id, 'restrict')\" @mouseleave=\"hideContext($event, item.id, 'restrict')\"> 사용자 제한 설정\n                                <transition name=\"fade\">\n                                    <div class=\"menu_layer user_context_user_limit\" v-show=\"item.userContext.restrict.show\">\n                                        <ul>\n                                            <li><a href=\"#\" @click=\"restrictLayer('gnrl', item.id)\">일반 스토리지 제한</a></li>\n                                            <li><a href=\"#\" @click=\"restrictLayer('cold', item.id)\">콜드 스토리지 제한</a></li>\n                                            <li><a href=\"#\" @click=\"restrictLayer('ocr', item.id)\">OCR 페이지 수 제한</a></li>\n                                        </ul>\n                                    </div>\n                                </transition>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <!-- 페이지 -->\n      <div class=\"page_navi\">\n        <a href=\"#\" class=\"guide prev\" @click=\"getUserList(prevPage)\">\n          <img src=\"@/assets/images/component/btn_page_prev.png\" alt=\"Prev\" class=\"ico\">\n        </a>\n        <template v-for=\"page in pageArr\">\n            <a href=\"#\" class=\"num\" :class=\"{active: page.active}\" @click=\"getUserList(page.pageNo)\">{{ page.pageNo }}</a>\n        </template>\n        <a href=\"#\" class=\"guide next\" @click=\"getUserList(nextPage)\">\n            <img src=\"@/assets/images/component/btn_page_next.png\" alt=\"Next\" class=\"ico\">\n        </a>\n      </div>\n    </template>\n\n    <div class=\"board_empty\" v-else>\n      <img src=\"@/assets/images/component/ico_admin_empty.png\" alt=\"\" class=\"ico\" />\n      <p>유저가 없습니다.</p>\n    </div>\n\n\n\n    <!-- 유저 선택 -->\n    <div class=\"layer_popup\" ref=\"noSelectedUserLayer\">\n        <h3>유저 선택</h3>\n        <div class=\"msg warning\">\n            <h4><img src=\"@/assets/images/component/ico_lp_admin_warning.png\" alt=\"유저 선택\" /></h4>\n            <p>\n                <strong>유저를 선택하세요.</strong>\n            </p>\n        </div>\n\n        <div class=\"btn_set\">\n            <div class=\"center\">\n                <button type=\"button\" class=\"btn_basic submit\" @click=\"closeLayer\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 유저 유효화 - 이미 유효화 -->\n    <div class=\"layer_popup\" ref=\"alreadyActivatedUserLayer\">\n        <h3>유저 유효화</h3>\n        <div class=\"msg warning\">\n            <h4><img src=\"@/assets/images/component/ico_lp_admin_warning.png\" alt=\"유저 유효화\" /></h4>\n            <p>\n                <strong>이미 유효화 되고 있습니다.</strong>\n            </p>\n        </div>\n\n        <div class=\"btn_set\">\n            <div class=\"center\">\n                <button type=\"button\" class=\"btn_basic submit\" @click=\"closeLayer\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 유저 유효화 -->\n    <div class=\"layer_popup\" ref=\"activateUserLayer\">\n        <h3>유저 유효화</h3>\n        <div class=\"msg success\">\n            <h4><img src=\"@/assets/images/component/ico_lp_admin_success.png\" alt=\"유저 유효화\" /></h4>\n            <p>\n                <strong>선택한 항목을 활성화 해도 되겠습니까?</strong>\n            </p>\n        </div>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\" @click=\"updateUserActive(layer.selectedId, 1)\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 유저 일시 정지 -->\n    <div class=\"layer_popup\" ref=\"inactivateUserLayer\">\n        <h3>유저 일시 정지</h3>\n        <div class=\"msg warning\">\n            <h4><img src=\"@/assets/images/component/ico_lp_admin_warning.png\" alt=\"유저 일시 정지\" /></h4>\n            <p>\n                <strong>선택한 항목을 일시정지 해도 되겠습니까?</strong>\n            </p>\n        </div>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\" @click=\"updateUserActive(layer.selectedId, 2)\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 유저 삭제 -->\n    <div class=\"layer_popup\" ref=\"deleteUserLayer\">\n        <h3>유저 삭제</h3>\n        <div class=\"msg warning\">\n            <h4><img src=\"@/assets/images/component/ico_lp_admin_warning.png\" alt=\"유저 삭제\" /></h4>\n            <p>\n                <strong>유저를 삭제합니다.</strong><br />\n                선택한 단말을 제거하면 그 정보와 파일은 AOSBOX AI plus부터<br />\n                영구적으로 삭제되고 두번 다시 접속할 수 없게 됩니다.<br />\n                계속하시겠습니까?\n            </p>\n        </div>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\" @click=\"updateUserActive(layer.selectedId, 3)\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 일반 스토리지 제한 -->\n    <div class=\"layer_popup\" ref=\"restrictGeneralStorageLayer\">\n        <h3>일반 스토리지 제한</h3>\n        <fieldset class=\"range_form\">\n            <legend>일반 스토리지 제한</legend>\n            <p>\n                <span class=\"category\"><label for=\"normalStorageLimit\">일반 스토리지 제한</label></span>\n                <span class=\"field size\">\n                    <input type=\"text\" id=\"normalStorageLimit\" v-model.number=\"layer.restrictGeneralStorageLayer.size\" :disabled=\"layer.restrictGeneralStorageLayer.check\"/> GB\n                    <label class=\"check_option\"><input type=\"checkbox\" v-model:checked=\"layer.restrictGeneralStorageLayer.check\" @click=\"unlimit('restrictGeneralStorageLayer')\"/>무제한</label>\n                </span>\n            </p>\n        </fieldset>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\" @click=\"updateUserLimit('gnrl')\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 콜드 스토리지 제한 -->\n    <div class=\"layer_popup\" ref=\"restrictColdStorageLayer\">\n        <h3>콜드 스토리지 제한</h3>\n        <fieldset class=\"range_form\">\n            <legend>콜드 스토리지 제한</legend>\n            <p>\n                <span class=\"category\"><label for=\"coldStorageLimit\">콜드 스토리지 제한</label></span>\n                <span class=\"field size\">\n                    <input type=\"text\" id=\"coldStorageLimit\" v-model.number=\"layer.restrictColdStorageLayer.size\" :disabled=\"layer.restrictColdStorageLayer.check\"/> GB\n                    <label class=\"check_option\"><input type=\"checkbox\" v-model:checked=\"layer.restrictColdStorageLayer.check\" @click=\"unlimit('restrictColdStorageLayer')\" />무제한</label>\n                </span>\n            </p>\n        </fieldset>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\" @click=\"updateUserLimit('cold')\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- OCR 페이지 수 제한 -->\n    <div class=\"layer_popup\" ref=\"restrictOcrPageLayer\">\n        <h3>OCR 페이지 수 제한</h3>\n        <fieldset class=\"range_form\">\n            <legend>OCR 페이지 수 제한</legend>\n            <p>\n                <span class=\"category\"><label for=\"ocrPageLimit\">OCR 페이지 수 제한</label></span>\n                <span class=\"field size\">\n                    <input type=\"text\" id=\"ocrPageLimit\" v-model.number=\"layer.restrictOcrPageLayer.size\" :disabled=\"layer.restrictOcrPageLayer.check\" /> 페이지\n                    <label class=\"check_option\"><input type=\"checkbox\" v-model:checked=\"layer.restrictOcrPageLayer.check\" @click=\"unlimit('restrictOcrPageLayer')\" />무제한</label>\n                </span>\n            </p>\n        </fieldset>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\" @click=\"updateUserLimit('ocr')\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- CSV에 내보내기 -->\n    <div class=\"layer_popup\" ref=\"sendToCsvLayer\">\n        <h3>CSV에 내보내기</h3>\n        <p class=\"desc\">\n            해당 파일을 저장하시겠습니까?\n        </p>\n        <ul class=\"file_download_info\">\n            <li><strong>AOS BOX ai Plus Download.zip</strong></li>\n            <li>D:\\= Project\\08_AOSDataRoom\\04_PSD\\AOSVDR</li>\n        </ul>\n        <p class=\"check_info\"><label><input type=\"checkbox\" />다음부터 물어보지 않기</label></p>\n        <div class=\"btn_set\">\n            <div class=\"left\">\n                <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n            </div>\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic\">다른 이름으로 저장</button>\n                <button type=\"button\" class=\"btn_basic\">열기</button>\n                <button type=\"button\" class=\"btn_basic submit\">저장</button>\n            </div>\n        </div>\n        <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 관리자권한 부여 -->\n    <div class=\"layer_popup\" ref=\"giveAdminPrivilegeLayer\">\n        <h3>관리자권한 부여</h3>\n        <div class=\"msg success\">\n            <h4><img src=\"@/assets/images/component/ico_lp_admin_success.png\" alt=\"관리자권한 부여\" /></h4>\n            <p>\n                <strong>이 사용자에게 관리자 권한을 부여하시겠습니까?</strong>\n            </p>\n        </div>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 관리자권한 삭제 -->\n    <div class=\"layer_popup\" ref=\"removeAdminPrivilegeLayer\">\n        <h3>관리자권한 삭제</h3>\n        <div class=\"msg warning\">\n            <h4><img src=\"@/assets/images/component/ico_lp_admin_warning.png\" alt=\"관리자권한 삭제\" /></h4>\n            <p>\n                <strong>관리자 권한을 삭제해도 되겠습니까?</strong>\n            </p>\n        </div>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 비밀번호 변경 -->\n    <div class=\"layer_popup\" ref=\"changePasswordLayer\">\n        <h3>비밀번호 변경</h3>\n        <fieldset class=\"write_form\">\n            <legend>비밀번호 변경</legend>\n            <p>\n                <span class=\"category\">\n                    <label for=\"userNewPassword\">새 비밀번호</label>\n                </span>\n                <span class=\"field\">\n                    <input type=\"password\" id=\"userNewPassword\" />\n                    <strong class=\"error_msg\">\n                        ※ 비밀번호 형식이 맞지 않습니다.\n                    </strong>\n                </span>\n            </p>\n            <p>\n                <span class=\"category\">\n                    <label for=\"userNewPasswordCheck\">비밀번호 확인</label>\n                </span>\n                <span class=\"field\">\n                    <input type=\"password\" id=\"userNewPasswordCheck\" />\n                    <strong class=\"error_msg\">\n                        ※ 비밀번호가 일치하지 않습니다.\n                    </strong>\n                </span>\n            </p>\n        </fieldset>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 메일 주소 변경 -->\n    <div class=\"layer_popup\" ref=\"changeEmailLayer\">\n        <h3>메일 주소 변경</h3>\n        <fieldset class=\"write_form\">\n            <legend>메일 주소 변경</legend>\n            <p>\n                <span class=\"category\">\n                    <label for=\"userMailChange\">메일 주소</label>\n                </span>\n                <span class=\"field\">\n                    <input type=\"email\" id=\"userMailChange\" />\n                    <strong class=\"error_msg\">\n                        ※ 유효한 이메일 주소를 입력하세요\n                    </strong>\n                </span>\n            </p>\n        </fieldset>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 이름 변경 -->\n    <div class=\"layer_popup\" ref=\"changeNameLayer\">\n        <h3>이름 변경</h3>\n        <fieldset class=\"write_form\">\n            <legend>이름 변경</legend>\n            <p>\n                <span class=\"category\">\n                    <label for=\"userNameChange\">이름</label>\n                </span>\n                <span class=\"field\">\n                    <input type=\"text\" id=\"userNameChange\" />\n                </span>\n            </p>\n        </fieldset>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 사용자 종류 편집 -->\n    <div class=\"layer_popup\" ref=\"changeUserSortLayer\">\n        <h3>사용자 종류 편집</h3>\n        <fieldset class=\"write_form\">\n            <legend>사용자 종류 편집</legend>\n            <p>\n                <span class=\"category\">\n                    <label for=\"searchPermission\">검색 허가</label>\n                </span>\n                <span class=\"field\">\n                    <span class=\"basic_select selectbox_ui\">\n                        <b class=\"selected_txt\"></b>\n                        <select id=\"searchPermission\">\n                            <option value=\"\">유저 아이디 선택</option>\n                            <option value=\"\" selected>Policy 2</option>\n                            <option value=\"\">ybgtest</option>\n                            <option value=\"\">ybgtest2</option>\n                        </select>\n                    </span>\n                </span>\n            </p>\n        </fieldset>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 정책 삭제 -->\n    <div class=\"layer_popup\" ref=\"deletePolicyLayer\">\n        <h3>정책 삭제</h3>\n        <div class=\"msg warning\">\n            <h4><img src=\"@/assets/images/component/ico_lp_admin_warning.png\" alt=\"정책 삭제\" /></h4>\n            <p>\n                <strong>정책을 삭제합니다.</strong><br />\n                정책을 삭제하면 이 정책을 배정 받던 유저는 자신이 백업한 데이터의<br />\n                정책을 다시 선택할 필요가 있습니다. 진행하시겠습니까?\n            </p>\n        </div>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 정책 삭제 - 삭제할 정책이 없을 때 -->\n    <div class=\"layer_popup\" ref=\"noPolicyToDeleteLayer\">\n        <h3>정책 삭제</h3>\n        <div class=\"msg warning\">\n            <h4><img src=\"@/assets/images/component/ico_lp_admin_warning.png\" alt=\"정책 삭제\" /></h4>\n            <p><strong>삭제할 정책이 없습니다.</strong></p>\n        </div>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 정책 수정 -->\n    <div class=\"layer_popup\" ref=\"changePolicyLayer\">\n        <h3>정책 수정</h3>\n        <fieldset class=\"write_form\">\n            <legend>정책 수정</legend>\n            <p>\n                <span class=\"category\">\n                    <label for=\"modifyPolicy\">할당 정책을 선택합니다.</label>\n                </span>\n                <span class=\"field\">\n                    <span class=\"basic_select selectbox_ui\">\n                        <b class=\"selected_txt\"></b>\n                        <select id=\"modifyPolicy\">\n                            <option value=\"\">사용자 정의</option>\n                            <option value=\"\" selected>Policy 2</option>\n                            <option value=\"\">ybgtest</option>\n                            <option value=\"\">ybgtest2</option>\n                        </select>\n                    </span>\n                </span>\n            </p>\n        </fieldset>\n\n        <div class=\"btn_set\">\n            <div class=\"right\">\n                <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n                <button type=\"button\" class=\"btn_basic submit\">확인</button>\n            </div>\n        </div>\n        <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n    </div>\n\n    <!-- 모달 배경 -->\n    <div class=\"modal_bg\" ref=\"modal\"></div>\n  </div>\n\n\n</template>\n\n<script>\nimport * as management from '../../../store/management/vuex_management'\n\nexport default {\n\n    data() {\n        return {\n            userAddContext: {\n                show: false\n            },\n            userDetailContext: {\n                show: false\n            },\n            list: [],\n            pageInfo: {\n                totalData: 0,       // 총 데이터 수\n                currentPage: 1,     // 현재 페이지\n                pagesPerOnce: 10,   // 한 번에 보이는 페이지 수\n                dataPerPage: 10,    // 한 페이지에 보이는 data 수\n                searchText: '',\n            },\n            layer: {\n                // 일반 스토리지 제한\n                restrictGeneralStorageLayer: {\n                    size: 0,\n                    check: false\n                },\n\n                // 콜드 스토리지 제한\n                restrictColdStorageLayer: {\n                    size: 0,\n                    check: false\n                },\n\n                // OCR 페이지 수 제한\n                restrictOcrPageLayer: {\n                    size: 0,\n                    check: false\n                },\n\n                sendToCsvLayer: false,              // CSV에 내보내기\n                giveAdminPrivilegeLayer: false,     // 관리자권한 부여\n                removeAdminPrivilegeLayer: false,   // 관리자권한 삭제\n                changePasswordLayer: false,         // 비밀번호 변경\n                changeEmailLayer: false,            // 메일주소 변경\n                changeNameLayer: false,             // 이름 변경\n                changeUserSortLayer: false,         // 사용자7 종류 편집\n                deletePolicyLayer: false,           // 정책 삭제\n                noPolicyToDeleteLayer: false,       // 삭제할 정책이 없습니다.\n                changePolicyLayer: false,           // 정책 수정\n                selectedId: 'selected'              // 선택된 id\n            },\n      }\n    },\n    computed: {\n        currentPage() {\n\n          return this.pageInfo.currentPage;\n        },\n        prevPage() {\n\n            const currentPage = this.pageInfo.currentPage,\n                  pagesPerOnce = this.pageInfo.pagesPerOnce;\n\n            let page,\n                prevPage;\n\n            if (currentPage > pagesPerOnce) {\n\n                if (currentPage % pagesPerOnce == 0)\n                    page = currentPage - pagesPerOnce;\n                else\n                    page = currentPage - currentPage % pagesPerOnce;\n\n                prevPage = page;\n\n            } else {\n\n                prevPage = currentPage;\n            }\n\n            return prevPage;\n        },\n        pageArr() {\n\n            const pagesPerOnce = this.pageInfo.pagesPerOnce,\n                  totalPages = this.totalPages,\n                  pageGroupNo = this.pageGroupNo;\n\n            let pageArr = [];\n\n            for (let i = pageGroupNo * pagesPerOnce + 1; i <= (pageGroupNo + 1) * pagesPerOnce; i++) {\n\n                let obj = {pageNo: i};\n\n                if (this.pageInfo.currentPage == i) {\n\n                    obj.active = true;\n\n                } else {\n\n                    obj.active = false;\n                }\n\n                pageArr.push(obj);\n\n                if (totalPages == i)\n                    break;\n            }\n\n            return pageArr;\n        },\n        nextPage() {\n\n            const pagesPerOnce = this.pageInfo.pagesPerOnce,\n                  totalPages = this.totalPages,\n                  pageGroupNo = this.pageGroupNo;\n\n            let page,\n                nextPage;\n\n            if (totalPages > (pageGroupNo + 1) * pagesPerOnce) {\n\n                page = (pageGroupNo + 1) * pagesPerOnce + 1;\n                nextPage = page;\n\n            } else {\n\n                nextPage = this.pageInfo.currentPage;\n            }\n\n            return nextPage;\n        },\n        totalPages() {\n\n            const totalData = this.pageInfo.totalData,\n                dataPerPage = this.pageInfo.dataPerPage;\n\n            let totalPages;\n\n            if (totalData % dataPerPage == 0)\n                totalPages = Math.floor(totalData / dataPerPage);\n            else\n                totalPages = Math.floor(totalData / dataPerPage) + 1;\n\n            return totalPages;\n        },\n        pageGroupNo() {\n\n            return Math.floor((this.pageInfo.currentPage - 1) / this.pageInfo.pagesPerOnce);\n        },\n        checkedAll: {\n\n            get() {\n\n                let count = 0;\n\n                for (let i = 0; i < this.list.length; i++) {\n\n                  if (this.list[i].checked) count++;\n                }\n\n                return this.list.length === count;\n            },\n            set(val) {\n\n                if (val)\n                    this.list.setAllObjProp('checked', true);\n                else\n                    this.list.setAllObjProp('checked', false);\n            }\n        },\n    },\n    methods: {\n\n        setPolicyName(policyname) {\n\n            return policyname ? policyname : '사용자 정의';\n        },\n\n        isAdmin(roleid) {\n\n            return roleid === 1 ? true : false;\n        },\n        expressUsed(value, unit) {\n\n            if (value == null)\n                value = 0;\n            else\n                value = numberWithCommas(value);\n\n            unit = unit === undefined ? \" GB\" : \" 페이지\";\n\n            return value + unit;\n        },\n        expressLimit(value, unit) {\n\n            unit = unit === undefined ? \" GB\" : \" 페이지\";\n\n            if (value == 0 || value === undefined)\n                value = \"제한없음\";\n            else\n                value = numberWithCommas(value) + unit;\n\n            return value;\n        },\n        expressPermit(permit) {\n\n            switch(permit) {\n\n            case 0:\n                permit = \"백업 전용\";\n                break;\n\n            case 1:\n                permit = \"검색 전용\";\n                break;\n\n            case 2:\n                permit = \"백업과 검색\";\n                break;\n\n            default:\n                // do nothing\n            }\n\n            return permit;\n        },\n        showContext(event, id, subName) {\n\n            event.stopPropagation();\n\n            let list = this.list;\n\n            for (let i = 0; i < list.length; i++) {\n\n                if (list[i].id == id) {\n\n                    if (subName === undefined)\n                        list[i].userContext.show = true;\n                    else\n                        list[i].userContext[subName].show = true;\n                }\n            }\n        },\n        hideContext(event, id, subName) {\n\n            event.stopPropagation();\n\n            let list = this.list;\n\n            for (let i = 0; i < list.length; i++) {\n\n                if (list[i].id == id) {\n\n                    if (subName === undefined)\n                        list[i].userContext.show = false;\n                    else\n                        list[i].userContext[subName].show = false;\n                }\n            }\n\n        },\n        getUserList(currentPage) {\n\n            const self = this;\n\n            if (currentPage !== undefined)\n                this.pageInfo.currentPage = currentPage;\n\n            axios.post(\"/management/user_server/\", {\n                searchText: this.pageInfo.searchText,\n                currentPage: this.pageInfo.currentPage,\n                dataPerPage: this.pageInfo.dataPerPage\n            }).then(response => {\n\n                if (response.status == 200) {\n\n                    let boxUsers = response.data.boxUsers,\n                        totalBoxUsers = response.data.totalBoxUsers;\n\n                    this.pageInfo.totalData = totalBoxUsers;\n                    // this.$store.dispatch('management/setUserPagenation', {totalData: totalBoxUsers});\n\n                    let list = [];\n\n                    for (let i = 0; i < boxUsers.length; i++) {\n\n                        let data = boxUsers[i];\n                        let obj = {};\n\n                        for (let prop in data) {\n\n                            obj[prop.replace('bu_', '')] = data[prop];\n\n                            switch(prop) {\n                                case 'bu_gnrlsto':\n                                case 'bu_coldsto':\n                                case 'bu_ocr':\n                                    if (data[prop] == null)\n                                        obj[prop.replace('bu_', '')] = 0;\n                                    break;\n                                default:\n                                    // do nothing\n                            }\n                        }\n\n                        obj.id = boxUsers[i].bu_id;\n                        obj.checked = false;\n                        obj.userContext = {\n                            show: false,\n                            user: {show: false},\n                            policy: {show: false},\n                            restrict: {show: false}\n                        };\n\n                        list.push(obj);\n                    }\n\n                    this.list = list;\n                    // this.$store.dispatch('management/setUserList', list);\n                }\n            }).catch(ex => {\n\n                console.log(ex);\n            });\n        },\n\n        // 상세 페이지 이동\n        goUserInfo(userId) {\n\n            this.$router.push({ name: 'userInfo', params: { userId: userId }, query: this.pageInfo});\n        },\n\n        // 선택된 유저 정보\n        getSelectedUser() {\n\n            let selectedUserids = [],\n                list = this.list,\n                user,\n                i;\n\n            for (i = 0; i < list.length; i++) {\n\n                user = list[i];\n\n                if (user.checked)\n                    selectedUserids.push(user.id);\n            }\n\n            return selectedUserids;\n        },\n\n        checkSelectedUser(userids) {\n\n            if (userids.length == 0) {\n\n                this.openLayer('noSelectedUserLayer');\n                return false;\n            }\n\n            return true;\n        },\n\n        // 유효화, 일시정지, 삭제\n        updateUserActive(userids, active) {\n            let self = this;\n\n            axios.post('/management/updateUserActive/', {userids: userids, active: active}).then(response => {\n\n                let data = response.data,\n                    message = '';\n\n                if (active == 1)\n                    message = '활성화되었습니다.';\n                else if (active == 2)\n                    message = '일시정지되었습니다.';\n                else\n                    message = '삭제되었습니다.';\n\n                if (data.code == 1000) {\n\n                    self.closeLayer();\n                    self.getUserList();\n                    alert(message);\n                }\n\n            }).catch(ex => {\n\n                console.log(ex);\n            });\n        },\n\n        // 유저를 유효화 버튼 클릭 시, 레이어 팝업\n        makeActiveUserLayer(userid) {\n\n            let userids = [userid],\n                list = this.list,\n                alreadyActive = false;\n\n            if (userid instanceof Event)\n                userids = this.getSelectedUser();\n\n            // 유저 선택여부 검사\n            if (!this.checkSelectedUser(userids)) return;\n\n            // 이미 유효화 검사\n            for (let i = 0; i< list.length; i++) {\n\n                if (list[i].status === 1) {\n                    alreadyActive = true\n                }\n            }\n\n            if (alreadyActive) {\n\n                this.openLayer('alreadyActivatedUserLayer');\n                return;\n            }\n\n            this.openLayer('activateUserLayer');\n            this.layer.selectedId = userids;\n        },\n\n        // 유저 일시정지 버튼 클릭 시, 레이어 팝업\n        makeInactiveUserLayer(userid) {\n\n            let userids = [userid],\n                list = this.list,\n                alreadyActive = false;\n\n            if (userid instanceof Event)\n                userids = this.getSelectedUser();\n\n            // 유저 선택여부 검사\n            if (!this.checkSelectedUser(userids)) return;\n\n            this.openLayer('inactivateUserLayer');\n            this.layer.selectedId = userids;\n        },\n\n        // 유저 삭제 버튼 클릭 시, 레이어 팝업\n        deleteUserLayer(userid) {\n\n            let userids = [userid],\n                list = this.list,\n                alreadyActive = false;\n\n            if (userid instanceof Event)\n                userids = this.getSelectedUser();\n\n            // 유저 선택여부 검사\n            if (!this.checkSelectedUser(userids)) return;\n\n            this.openLayer('deleteUserLayer');\n            this.layer.selectedId = userids;\n        },\n\n        // 일반 스토리지 제한, 콜드 스토리지 제한, ORC 페이지 제한 버튼 클릭 시, 레이어 팝업\n        restrictLayer(layerType, userid) {\n\n            let userids = [userid],\n                layerName = '',\n                limitName = '',\n                size = '',\n                check = false;\n\n            switch(layerType) {\n                case 'gnrl':\n                    layerName = 'restrictGeneralStorageLayer';\n                    limitName = 'gnrllimit';\n                    break;\n\n                case 'cold':\n                    layerName = 'restrictColdStorageLayer';\n                    limitName = 'coldlimit';\n                    break;\n\n                case 'ocr':\n                    layerName = 'restrictOcrPageLayer';\n                    limitName = 'ocrlimit';\n                    break;\n            }\n\n            if (userid === undefined) {\n\n                userids = this.getSelectedUser();\n\n            } else {\n\n                for (let i = 0; i < this.list.length; i++) {\n\n                    if (this.list[i].id == userid) {\n\n                        size = this.list[i][limitName];\n                        check = size === 0 ? true : false;\n                    }\n                }\n            }\n\n            this.layer[layerName].size = size;\n            this.layer[layerName].check = check;\n\n            // 유저 선택여부 검사\n            if (!this.checkSelectedUser(userids)) return;\n\n            this.openLayer(layerName);\n            this.layer.selectedId = userids;\n        },\n\n        updateUserLimit(type) {\n\n            let self = this,\n                size = 0,\n                userids = this.layer.selectedId,\n                message = '';\n\n            switch(type) {\n\n                case 'gnrl':\n                    size = this.layer.restrictGeneralStorageLayer.size;\n                    message = '일반 스토리지 제한을 수정했습니다.';\n                    break;\n\n                case 'cold':\n                    size = this.layer.restrictColdStorageLayer.size;\n                    message = '콜드 스토리지 제한을 수정했습니다.';\n                    break;\n\n                case 'ocr':\n                    size = this.layer.restrictOcrPageLayer.size;\n                    message = 'OCR 페이지 제한을 수정했습니다.';\n                    break;\n            }\n\n            axios.post('/management/updateUserLimit/', {userids: userids, type: type, size: size}).then(response => {\n\n                let data = response.data;\n\n                if (data.code == 1000) {\n\n                    self.closeLayer();\n                    self.getUserList();\n                    alert(message);\n                }\n\n            }).catch(ex => {\n\n                console.log(ex);\n            });\n        },\n\n        // 레이어 팝업 보이기\n        openLayer(layerName) {\n\n            $(this.$refs.modal).show();\n            $(this.$refs[layerName]).show();\n        },\n\n        // 레이어 팝업 숨기기\n        closeLayer() {\n\n            $(this.$refs.modal).hide();\n            $(\".layer_popup\").hide();\n        },\n\n        unlimit(layerName) {\n\n           this.layer[layerName].size = '';\n        }\n    },\n    created() {\n\n        // 페이지, 검색 정보 있을 경우 설정\n        if (Object.keys(this.$route.query).length !== 0)\n            this.pageInfo = this.$route.query;\n    }\n}\n\nfunction numberWithCommas(x) {\n\n    let value;\n\n    try {\n\n        value= x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    } catch (ex) {\n\n        console.log(ex)\n        console.log(x)\n    }\n\n\n    return value;\n}\n</script>\n\n<style scoped>\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity 0.5s;\n  }\n\n  .fade-enter, .fade-leave-active {\n    opacity: 0;\n  }\n\n  .menu_layer {\n      display: block;\n  }\n\n  #menu_layer_detail {\n    right: 1px;\n  }\n  .user_context {\n    right: 47px;\n  }\n  .user_context_user_management {\n    top: -1px;\n    left: -162px;\n  }\n  .user_context_policy_management {\n    top: 30px;\n    left: -89px;\n  }\n  .user_context_user_limit {\n    top: 62px;\n    left: -149px;\n  }\n  .layer_popup>h3 {\n    position: relative !important;\n    z-index: 2;\n    color: #136BB5;\n    font-size: 20px !important;\n    font-weight: normal;\n    line-height: 120%;\n    padding: 2px 0px 0px 14px;\n    margin-bottom: 45px !important;\n}\n</style>\n"]}]}