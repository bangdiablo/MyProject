{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/management/setting/PossessionDetailSetting.vue?vue&type=style&index=0&id=71b9e2fc&scoped=true&lang=css&","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/management/setting/PossessionDetailSetting.vue","mtime":1583135289881},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmRpc2FibGVkIHsKCWJhY2tncm91bmQtY29sb3I6ICNkOGQ4ZDggIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["PossessionDetailSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2lBA;AACA;AACA","file":"PossessionDetailSetting.vue","sourceRoot":"src/components/management/setting","sourcesContent":["<template>\n\t<div>\n\t<h3>보유 설정(상세)\n\t\t<span class=\"btn_set\">\n\t\t<button type=\"button\" @click=\"openLayer('addAndModifySettingLayer')\">\n\t\t\t<img src=\"@/assets/images/component/btn_edit_setting_add.png\" alt=\"\" class=\"ico\" />\n\t\t\t<span class=\"txt\">보유설정 추가</span>\n\t\t</button>\n\t\t</span>\n\t</h3>\n\n\t<template v-if=\"list.length > 0\">\n\t\t<table class=\"board_list\">\n\t\t\t\t<caption>사용자 목록</caption>\n\t\t\t\t<colgroup>\n\t\t\t\t\t<col style=\"width:*px\" />\n\t\t\t\t\t<col style=\"width:150px\" />\n\t\t\t\t\t<col style=\"width:240px\" />\n\t\t\t\t\t<col style=\"width:100px\" />\n\t\t\t\t\t<col style=\"width:100px\" />\n\t\t\t\t\t<col style=\"width:150px\" />\n\t\t\t\t\t<col style=\"width:65px\" />\n\t\t\t\t</colgroup>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"username\">사용자</a></th>\n\t\t\t\t\t\t<th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"storage\">단말기</a></th>\n\t\t\t\t\t\t<th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"path\">장소</a></th>\n\t\t\t\t\t\t<th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"div\">종류</a></th>\n\t\t\t\t\t\t<th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"code\">값</a></th>\n\t\t\t\t\t\t<th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"modifydate\">날짜</a></th>\n\t\t\t\t\t\t<th scope=\"col\">&nbsp;</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr v-for=\"data in list\" v-if=\"data.mode != 'D'\">\n\t\t\t\t\t\t<td class=\"left\"><a href=\"#\">{{data.user_name}}</a></td>\n\t\t\t\t\t\t<td>{{data.sto_name}}</td>\n\t\t\t\t\t\t<td>{{data.path}}</td>\n\t\t\t\t\t\t<td>{{data.div_name}}</td>\n\t\t\t\t\t\t<td>{{data.settingval_name}}</td>\n\t\t\t\t\t\t<td>{{data.modifydate_name}}</td>\n\t\t\t\t\t\t<td class=\"item_edit\">\n\t\t\t\t\t\t\t<button type=\"button\" @click=\"showContext\" @mouseleave=\"hideContext\"><i class=\"more\">더 많은</i></button>\n\t\t\t\t\t\t\t<transition name=\"fade\">\n\t\t\t\t\t\t\t  <div class=\"menu_layer\" @mouseover=\"showContext\" @mouseleave=\"hideContext\">\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t<li><a href=\"#\" @click=\"openLayer('addAndModifySettingLayer', data.id)\">편집</a></li>\n\t\t\t\t\t\t\t\t\t<li><a href=\"#\" @click=\"openLayer('deleteSettingLayer', data.id)\">삭제</a></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t</transition>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t\t<!-- 페이지 -->\n\t\t\t<div class=\"page_navi\">\n\t\t\t\t<a href=\"#\" class=\"guide prev\" @click=\"getList(prevPage, true)\">\n\t\t\t\t  <img src=\"@/assets/images/component/btn_page_prev.png\" alt=\"Prev\" class=\"ico\">\n\t\t\t\t</a>\n\t\t\t\t<template v-for=\"page in pageArr\">\n\t\t\t\t\t<a href=\"#\" class=\"num\" :class=\"{active: page.active}\" @click=\"getList(page.pageNo, true)\">{{ page.pageNo }}</a>\n\t\t\t\t</template>\n\t\t\t\t<a href=\"#\" class=\"guide next\" @click=\"getList(nextPage, true)\">\n\t\t\t\t\t<img src=\"@/assets/images/component/btn_page_next.png\" alt=\"Next\" class=\"ico\">\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</template>\n\n\t\t<div class=\"board_empty\" v-else>\n\t\t\t<img src=\"@/assets/images/component/ico_admin_empty.png\" alt=\"\" class=\"ico\" />\n\t\t\t<p>보유한 설정이 없습니다.</p>\n\t\t</div>\n\n\n\t\t<!-- 보유 설정 추가 -->\n\t\t<div class=\"layer_popup\" ref=\"addAndModifySettingLayer\">\n\t\t\t<h3>보유 설정 추가</h3>\n\t\t\t<fieldset class=\"write_form\">\n\t\t\t\t<legend>보유 설정 추가 폼</legend>\n\t\t\t\t<p>\n\t\t\t\t\t<span class=\"category\"><label for=\"spdUser\">사용자</label></span>\n\t\t\t\t\t<span class=\"field\">\n\t\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t\t<b class=\"selected_txt\"></b>\n\t\t\t\t\t\t\t<select name=\"\" id=\"spdUser\" v-model=\"layer.userid\" @change=\"getStorageList\">\n\t\t\t\t\t\t\t\t<option value=\"\">사용자를 선택하세요</option>\n\t\t\t\t\t\t\t\t<option v-for=\"user in userList\" :value=\"user.bu_id\">{{getFullName(user)}}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<span class=\"category\"><label for=\"spdDevice\">단말기</label></span>\n\t\t\t\t\t<span class=\"field\">\n\t\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t\t<b class=\"selected_txt\"></b>\n\t\t\t\t\t\t\t<select name=\"\" id=\"spdDevice\" v-model=\"layer.stoid\">\n\t\t\t\t\t\t\t\t<option value=\"\">단말기를 선택하세요</option>\n\t\t\t\t\t\t\t\t<option v-for=\"storage in storageList\" :value=\"storage.bs_id\">{{storage.bs_name}}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<span class=\"category\"><label for=\"spdPlace\">장소</label></span>\n\t\t\t\t\t<span class=\"field\">\n\t\t\t\t\t\t<input type=\"text\" id=\"spdPlace\" v-model=\"layer.path\"/>\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\t\t\t\t<ul class=\"setting_select_list\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"settingPolicy\" value=\"F\" @change=\"changeLayerData($event, 'div')\" class=\"firstSettingPolicy\" :checked=\"layer.div === 'F'\"/>각 파일마다 유지\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t\t<b class=\"selected_txt\" :class=\"{disabled: layer.div != 'F'}\"></b>\n\t\t\t\t\t\t\t<select id=\"firstSettingval\" @change=\"changeLayerData($event, 'settingval')\" :disabled=\"layer.div != 'F'\">\n\t\t\t\t\t\t\t\t<option v-for=\"item in selector.generation\" :value=\"item.bc_code\" :selected=\"item.bc_code == layer.settingval\">{{item.bc_name}}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"settingPolicy\" value=\"D\" @change=\"changeLayerData($event, 'div')\" :checked=\"layer.div === 'D'\" />파일의 이전 세대 삭제\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t\t<b class=\"selected_txt\" :class=\"{disabled: layer.div != 'D'}\"></b>\n\t\t\t\t\t\t\t<select @change=\"changeLayerData($event, 'settingval')\" :disabled=\"layer.div != 'D'\">\n\t\t\t\t\t\t\t\t<option v-for=\"item in selector.period\" :value=\"item.bc_code\" :selected=\"item.bc_code == layer.settingval\">{{item.bc_name}}</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</fieldset>\n\n\t\t\t<div class=\"btn_set\">\n\t\t\t\t<div class=\"right\">\n\t\t\t\t\t<button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n\t\t\t\t\t<button type=\"button\" class=\"btn_basic submit\" @click=\"addAndModifySetting\">확인</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n\t\t</div>\n\n\t\t<!-- 보유 설정을 삭제 -->\n\t\t<div class=\"layer_popup\" ref=\"deleteSettingLayer\">\n\t\t\t<h3>보유 설정을 삭제</h3>\n\t\t\t<div class=\"msg warning\">\n\t\t\t\t<h4><img src=\"@/assets/images/component/ico_lp_admin_warning.png\" alt=\"보유 설정을 삭제\" /></h4>\n\t\t\t\t<p>\n\t\t\t\t\t<strong>이 보유 설정을 삭제해도 되겠습니까?</strong>\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div class=\"btn_set\">\n\t\t\t\t<div class=\"right\">\n\t\t\t\t\t<button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n\t\t\t\t\t<button type=\"button\" class=\"btn_basic submit\" @click=\"deletePossessionDetailSetting\">확인</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n\t\t</div>\n\n\t\t<!-- 모달 배경 -->\n\t\t<div class=\"modal_bg\" ref=\"modal\"></div>\n\t</div>\n</template>\n\n<script>\n\timport {listAndPageMixin} from '../../../common/listAndPageMixin'\n\n    export default {\n        name: \"PossessionDetailSetting\",\n\t\tmixins: [listAndPageMixin],\n\t\tprops: ['parentList', 'parentSelector'],\n\t\tdata: function () {\n        \treturn {\n\t\t\t\tlayer: {\n\t\t\t\t\tid: '',\n\t\t\t\t\tmode: '',\n\t\t\t\t\tuserid: 5,\n\t\t\t\t\tstoid: 31,\n\t\t\t\t\tpath: 'download\\\\',\n\t\t\t\t\tdiv: 'F',\n\t\t\t\t\tsettingval: ''\n\t\t\t\t},\n\t\t\t\tselector: {},\n\t\t\t\tuserList: [],\n\t\t\t\tstorageList: []\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\n        \tthis.getList();\n\n\t\t\tthis.selector = this.parentSelector;\n\n\t\t\taxios.post(\"/management/setting/getGroupUserList/\").then(response => {\n\n\t\t\t\tlet data = response.data;\n\n\t\t\t\tif (data.code === 1000) {\n\n\t\t\t\t\tthis.userList = data.userList;\n\t\t\t\t}\n\n\t\t\t}).catch(ex => {\n\n\t\t\t\tconsole.log(ex);\n\t\t\t});\n\n\t\t},\n\t\tupdated() {\n\n        \t$(function () {\n\n\t\t\t\t//셀렉트박스 UI\n\t\t\t\tjQuery(\".selectbox_ui\").each(function() {\n\t\t\t\t\tinitSelectBox(jQuery(this)) //비동기로 셀렉트 박스를 만들었을 경우 initSelectBox(jQuery(\"#아이디\")) 로 실행시켜줘야 함\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\tmethods: {\n\n        \t// 사용자 전체 이름\n\t\t\tgetFullName(user) {\n\n        \t\tlet fullName = user.bu_firstname,\n\t\t\t\t\tlastName = user.bu_lastname;\n\n        \t\tif (lastName !== '' && lastName !== null) {\n\n        \t\t\tfullName += ' ' + lastName;\n\t\t\t\t}\n\n        \t\treturn fullName;\n\t\t\t},\n\n        \t// 목록 조회\n        \tgetList(pageNo) {\n\n        \t\tif (pageNo !== undefined)\n                    this.pageInfo.currentPage = pageNo;\n\n        \t\taxios.post(\"/management/setting/getList/\", {\n                    currentPage: this.pageInfo.currentPage,\n                    dataPerPage: this.pageInfo.dataPerPage,\n                    orderName : this.pageInfo.orderName,\n                    orderType : this.pageInfo.orderType\n                }).then(response => {\n\n\n        \t\t\tlet code = response.data.code,\n\t\t\t\t\t\tdataList = response.data.list,\n\t\t\t\t\t\ttotalCount = response.data.totalCount;\n\n        \t\t\tif (code === 1000) {\n\n        \t\t\t\tlet list = [];\n\n        \t\t\t\tfor (let i = 0; i < dataList.length; i++) {\n\n        \t\t\t\t\tlet data = dataList[i],\n\t\t\t\t\t\t\t\tobj = {};\n\n                            for (let prop in data) {\n\n                                let newPropName = prop.replace('sa_', '');\n\n                                obj[newPropName] = data[prop];\n                            }\n\n                            list.push(obj);\n\t\t\t\t\t\t}\n\n        \t\t\t\tthis.list = list;\n\n        \t\t\t\tthis.pageInfo.totalData = totalCount;\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(ex => {\n\n\t\t\t\t\tconsole.log(ex);\n\t\t\t\t});\n\t\t\t},\n\n        \t// 보유 설정 추가\n        \tcreatePossessionDetailSetting() {\n\n        \t\taxios.post(\"/management/setting/createPossessionDetailSetting/\", this.layer).then(response => {\n\n        \t\t\tlet data = response.data;\n\n        \t\t\tif (data.code === 1000) {\n\n        \t\t\t\tthis.getList();\n        \t\t\t\tthis.closeLayer();\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(ex => {\n\n\t\t\t\t\tconsole.log(ex);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t// 보유 설정 수정\n\t\t\tupdatePossessionDetailSetting() {\n\n        \t\tlet id = '',\n\t\t\t\t\tmode = '';\n\n\t\t\t\taxios.post(\"/management/setting/updatePossessionDetailSetting/\", this.layer).then(response => {\n\n        \t\t\tlet data = response.data;\n\n        \t\t\tif (data.code === 1000) {\n\n        \t\t\t\tthis.getList();\n        \t\t\t\tthis.closeLayer();\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(ex => {\n\n\t\t\t\t\tconsole.log(ex);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t// 보유 설정 삭제\n\t\t\tdeletePossessionDetailSetting() {\n\n        \t\tthis.layer.mode = 'delete';\n\n\t\t\t\taxios.post(\"/management/setting/updatePossessionDetailSetting/\", this.layer).then(response => {\n\n        \t\t\tlet data = response.data;\n\n        \t\t\tif (data.code === 1000) {\n\n        \t\t\t\tthis.getList();\n        \t\t\t\tthis.closeLayer();\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(ex => {\n\n\t\t\t\t\tconsole.log(ex);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t// 보유설정(상세) 등록 및 수정\n\t\t\taddAndModifySetting() {\n\n        \t\tlet userid = this.layer.userid,\n\t\t\t\t\tstoid = this.layer.stoid,\n\t\t\t\t\tpath = this.layer.path,\n\t\t\t\t\tdiv = this.layer.div,\n\t\t\t\t\tsettingval = this.layer.settingval;\n\n        \t\tif (userid === '') {\n\n        \t\t\talert('사용자를 선택해주세요.');\n\t\t\t\t\treturn;\n\n\t\t\t\t} else if (stoid === '') {\n\n        \t\t\talert('단말기를 선택해주세요.');\n\t\t\t\t\treturn;\n\n\t\t\t\t} else if (path === '') {\n\n        \t\t\talert('장소를 선택해주세요.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n        \t\tif (this.layer.id === '') {\n\n        \t\t\tthis.createPossessionDetailSetting();\n\n\t\t\t\t} else {\n\n        \t\t\tthis.updatePossessionDetailSetting();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/* 레이어 팝업 ------------------------------------------------- */\n        \t// 레이어 팝업 보이기\n\t\t\topenLayer(layerName, id) {\n\n\t\t\t\t$(this.$refs.modal).show();\n\t\t\t\t$(this.$refs[layerName]).show();\n\n\n\t\t\t\tif (layerName === 'addAndModifySettingLayer') {\n\n\t\t\t\t\tthis.initLayer();\n\t\t\t\t\tthis.setLayer(id);\n\t\t\t\t}\n\n\t\t\t\tif (id) {\n\n\t\t\t\t\tthis.layer.id = id;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 레이어 팝업 숨기기\n\t\t\tcloseLayer() {\n\n\t\t\t\t$(this.$refs.modal).hide();\n\t\t\t\t$(\".layer_popup\").hide();\n\t\t\t},\n\n\t\t\t// 레이어 초기화\n\t\t\tinitLayer() {\n\n        \t\tfor (let prop in this.layer) {\n\n        \t\t\tif (prop == 'div')\n        \t\t\t\tthis.layer[prop] = 'F';\n        \t\t\telse\n        \t\t\t\tthis.layer[prop] = '';\n\t\t\t\t}\n\n        \t\tlet evt = document.createEvent(\"HTMLEvents\");\n\t\t\t\tevt.initEvent(\"change\", true, false);\n\t\t\t\t$(\"#firstSettingval\")[0].dispatchEvent(evt);\n\t\t\t},\n\n\t\t\t// 레이어 설정\n\t\t\tsetLayer(id) {\n\n        \t\tlet list = this.list,\n\t\t\t\t\tdata;\n\n        \t\tfor (let i = 0; i < list.length; i++) {\n\n        \t\t\tdata = list[i];\n\n        \t\t\tif (id === data.id) {\n\n        \t\t\t\tthis.layer.userid = data.boxUser;\n        \t\t\t\tthis.layer.mode = 'update';\n\n        \t\t\t\tthis.getStorageList(data.boxUserstorage);\n        \t\t\t\tthis.layer.path = data.path;\n        \t\t\t\tthis.layer.div = data.div;\n        \t\t\t\tthis.layer.settingval = data.boxCode;\n\t\t\t\t\t}\n        \t\t}\n\t\t\t},\n\n\t\t\t// layer의 radio button, selectbox 변경 시\n        \tchangeLayerData(event, prop) {\n\n        \t\tlet $target;\n\n        \t\tconsole.log(prop)\n        \t\tthis.layer[prop] = event.target.value;\n\n        \t\t// radio button 변경 시\n        \t\tif (prop === 'div') {\n\n        \t\t\t// disabled css\n        \t\t\t$(event.target).closest(\"ul\").find(\"b.selected_txt\").each(function () {\n\n        \t\t\t\tif ($(this)[0] === $(event.target).closest(\"li\").find(\"b.selected_txt\")[0]) {\n        \t\t\t\t\t$(this).removeClass(\"disabled\");\n\n\t\t\t\t\t\t} else {\n        \t\t\t\t\t$(this).addClass(\"disabled\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n        \t\t\t// type val 부분도 함께 업데이트\n\t\t\t\t\tlet evt = document.createEvent(\"HTMLEvents\");\n\t\t\t\t\tevt.initEvent(\"change\", true, false);\n\t\t\t\t\t$(event.target).closest(\"ul\").find(\"b.selected_txt\").each(function () {\n\n\t\t\t\t\t\tif ($(this).hasClass(\"disabled\")) {\n\n\t\t\t\t\t\t\t// do nothing\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t$target = $(this).next();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$target[0].dispatchEvent(evt);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 단말기 목록 조회\n\t\t\tgetStorageList(stoid) {\n\n        \t\tlet userId = this.layer.userid;\n\n        \t\taxios.post(\"/management/setting/getStorageList/\", {userId: userId}).then(response => {\n\n        \t\t\tlet data = response.data;\n\n        \t\t\tif (data.code === 1000) {\n\n        \t\t\t\tthis.layer.stoid = '';\n\t\t\t\t\t\tthis.storageList = data.storageList;\n\n\t\t\t\t\t\tif (typeof stoid === 'number') {\n\n\t\t\t\t\t\t\tthis.$nextTick(function () {\n\n\t\t\t\t\t\t\t\tconsole.log(stoid, typeof stoid, typeof stoid === 'number')\n\t\t\t\t\t\t\t\tconsole.log('this.layer.stoid', this.layer.stoid);\n\t\t\t\t\t\t\t\tconsole.log('stoid', stoid);\n\t\t\t\t\t\t\t\tthis.layer.stoid = stoid;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(ex => {\n\n\t\t\t\t\tconsole.log(ex);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t/* 컨텍스트 메뉴 ----------------------------------------------- */\n\t\t\t// 컨텍스트 메뉴 보임\n\t\t\tshowContext(event) {\n\n        \t\t$(event.target).closest('td').find('.menu_layer').show();\n\t\t\t},\n\n\t\t\t// 컨텍스트 메뉴 숨김\n\t\t\thideContext(event) {\n\n        \t\t$(event.target).closest('td').find('.menu_layer').hide();\n\t\t\t},\n\n\t\t\t/* 정렬 ------------------------------------------------------- */\n\t\t\t// 목록 정렬\n\t\t\tsortList(event) {\n\n\t\t\t\tlet $target = $(event.target),\n\t\t\t\t\t$sortings = $(\"a.sorting\");\n\n\t\t\t\t// 나머지 비활성화\n\t\t\t\t$sortings.each(function () {\n\n\t\t\t\t\tif ($(this)[0] != $target[0]) {\n\n\t\t\t\t\t\t$(this).addClass('inactive').removeClass('on');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif ($target.hasClass('inactive')) {\n\n\t\t\t\t\t// 해당 항목 활성화\n\t\t\t\t\t$target.removeClass('inactive');\n\t\t\t\t\t$target.addClass('on');\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ($target.hasClass('on')) {\n\n\t\t\t\t\t\t$target.removeClass('on');\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t$target.addClass('inactive');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setSort();\n\t\t\t\tthis.getList();\n\t\t\t},\n\n\t\t\t// 정렬 데이터 설정\n\t\t\tsetSort() {\n\n\t\t\t\tlet orderName = '',\n\t\t\t\t\torderType = '';\n\n\t\t\t\t$(\"a.sorting\").each(function () {\n\n\t\t\t\t\tif ($(this).hasClass(\"inactive\")) {\n\n\t\t\t\t\t\t// do nothing\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\torderName = $(this).data(\"sort\");\n\t\t\t\t\t\torderType = $(this).hasClass('on') ? 'asc' : 'desc';\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.pageInfo.orderName = orderName;\n\t\t\t\tthis.pageInfo.orderType = orderType;\n\t\t\t}\n\t\t}\n    }\n</script>\n\n<style scoped>\n.disabled {\n\tbackground-color: #d8d8d8 !important;\n}\n</style>\n"]}]}