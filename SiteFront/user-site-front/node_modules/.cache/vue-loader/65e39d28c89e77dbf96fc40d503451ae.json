{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/management/setting/PossessionSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/management/setting/PossessionSetting.vue","mtime":1583135289881},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIG5hbWU6ICJQb3NzZXNzaW9uU2V0dGluZyIsCgkJcHJvcHM6IFsncGFyZW50U2V0dGluZ0RhdGEnLCAncGFyZW50U2VsZWN0b3InXSwKCQlkYXRhKCkgewoKICAgICAgICAJcmV0dXJuIHsKICAgICAgICAJCXNldHRpbmdEYXRhOiB7CgkJCQkJZ2VuZXJhbDogewoJCQkJCQlkaXY6ICcnLAoJCQkJCQl2YWw6ICcnCgkJCQkJfSwKCQkJCQljb2xkOiB7CgkJCQkJCWRpdjogJycsCgkJCQkJCXZhbDogJycKCQkJCQl9LAoJCQkJCWRlbGV0ZTogewoJCQkJCQl2YWw6ICcnCgkJCQkJfSwKCQkJCX0sCiAgICAgICAgCQlzZWxlY3RvcjogewogICAgICAgIAkJCWdlbmVyYXRpb246IFtdLAoJCQkJCXBlcmlvZDogW10KCQkJCX0KCQkJfQoJCX0sCgkJY3JlYXRlZCgpIHsKCiAgICAgICAgCXRoaXMuc2VsZWN0b3IgPSB0aGlzLnBhcmVudFNlbGVjdG9yOwoKICAgICAgICAJdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewoKICAgICAgICAJCXRoaXMuc2V0dGluZ0RhdGEgPSBjbG9uZU9iamVjdCh0aGlzLnBhcmVudFNldHRpbmdEYXRhKTsKCQkJfSk7CgkJfSwKCQl1cGRhdGVkKCkgewoKICAgICAgICAJJChmdW5jdGlvbiAoKSB7CgoJCQkJLy/shYDroIntirjrsJXsiqQgVUkKCQkJCWpRdWVyeSgiLnNlbGVjdGJveF91aSIpLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkJaW5pdFNlbGVjdEJveChqUXVlcnkodGhpcykpIC8v67mE64+Z6riw66GcIOyFgOugie2KuCDrsJXsiqTrpbwg66eM65Ok7JeI7J2EIOqyveyasCBpbml0U2VsZWN0Qm94KGpRdWVyeSgiI+yVhOydtOuUlCIpKSDroZwg7Iuk7ZaJ7Iuc7Lyc7KSY7JW8IO2VqAoJCQkJfSkKCQkJfSk7CgkJfSwKCQljb21wdXRlZDogewoKICAgICAgICAJZ2VuZXJhbFZhbCgpIHsKCiAgICAgICAgCQlyZXR1cm4gKGNvZGUpID0+IHsKCiAgICAgICAgCQkJIHJldHVybiBjb2RlID09IHRoaXMuc2V0dGluZ0RhdGEuZ2VuZXJhbC52YWw7CgkJCQl9CgkJCX0sCgkJfSwKCQltZXRob2RzOiB7CgogICAgICAgIAkvLyDshKDtg53sl5Ag65Sw66W4IO2ZlOuptCDrjbDsnbTthLAg67OA6rK9CiAgICAgICAgCWNoYW5nZVNldHRpbmdEYXRhKHNlY3Rpb24sIHR5cGUsIGV2ZW50KSB7CgogICAgICAgIAkJbGV0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLAoJCQkJCSR0YXJnZXQ7CgogICAgICAgIAkJdGhpcy5zZXR0aW5nRGF0YVtzZWN0aW9uXVt0eXBlXSA9IHZhbHVlOwoKICAgICAgICAJCS8vIHJhZGlvIGJ1dHRvbiDrs4Dqsr0g7IucCiAgICAgICAgCQlpZiAodHlwZSA9PT0gJ2RpdicpIHsKCiAgICAgICAgCQkJLy8gZGlzYWJsZWQgY3NzCiAgICAgICAgCQkJJChldmVudC50YXJnZXQpLmNsb3Nlc3QoInVsIikuZmluZCgiYi5zZWxlY3RlZF90eHQiKS5lYWNoKGZ1bmN0aW9uICgpIHsKCiAgICAgICAgCQkJCWlmICgkKHRoaXMpWzBdID09PSAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgibGkiKS5maW5kKCJiLnNlbGVjdGVkX3R4dCIpWzBdKSB7CiAgICAgICAgCQkJCQkkKHRoaXMpLnJlbW92ZUNsYXNzKCJkaXNhYmxlZCIpOwoKCQkJCQkJfSBlbHNlIHsKICAgICAgICAJCQkJCSQodGhpcykuYWRkQ2xhc3MoImRpc2FibGVkIik7CgkJCQkJCX0KCQkJCQl9KTsKCiAgICAgICAgCQkJLy8gdHlwZSB2YWwg67aA67aE64+EIO2VqOq7mCDsl4XrjbDsnbTtirgKCQkJCQlsZXQgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTsKCQkJCQlldnQuaW5pdEV2ZW50KCJjaGFuZ2UiLCB0cnVlLCBmYWxzZSk7CgkJCQkJJChldmVudC50YXJnZXQpLmNsb3Nlc3QoInVsIikuZmluZCgiYi5zZWxlY3RlZF90eHQiKS5lYWNoKGZ1bmN0aW9uICgpIHsKCgkJCQkJCWlmICgkKHRoaXMpLmhhc0NsYXNzKCJkaXNhYmxlZCIpKSB7CgoJCQkJCQkJLy8gZG8gbm90aGluZwoKCQkJCQkJfSBlbHNlIHsKCgkJCQkJCQkkdGFyZ2V0ID0gJCh0aGlzKS5uZXh0KCk7CgkJCQkJCX0KCQkJCQl9KTsKCgkJCQkJJHRhcmdldFswXS5kaXNwYXRjaEV2ZW50KGV2dCk7CgkJCQl9CgkJCX0sCgoJCQkvLyDsoIDsnqUKCQkJc2F2ZVNldHRpbmcoKSB7CgogICAgICAgIAkJYXhpb3MucG9zdCgiL21hbmFnZW1lbnQvc2V0dGluZy9zYXZlLyIsIHt0YWJOYW1lOiAncG9zc2Vzc2lvblNldHRpbmcnLCBkYXRhOiB0aGlzLnNldHRpbmdEYXRhfSkudGhlbihyZXNwb25zZSA9PiB7CgogICAgICAgIAkJCWxldCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgCQkJaWYgKGRhdGEuY29kZSA9PT0gMTAwMCkgewoKICAgICAgICAJCQkJdGhpcy4kZW1pdCgiY2hhbmdlUGFyZW50IiwgJ3Bvc3Nlc3Npb25TZXR0aW5nJywgdGhpcy5zZXR0aW5nRGF0YSk7CgkJCQkJfQoKCQkJCX0pLmNhdGNoKGV4ID0+IHsKCgkJCQkJY29uc29sZS5sb2coZXgpOwoJCQkJfSk7CgkJCX0sCgoJCQkvLyDst6jshowKCQkJY2FuY2VsKCkgewoKICAgICAgICAJCXRoaXMuc2V0U2V0dGluZ0RhdGEoKTsKCQkJfSwKCgkJCS8vIO2ZlOuptCDrjbDsnbTthLDsl5Ag7IiY7KCVIOyghCDrjbDsnbTthLAg7KCB7JqpCgkJCXNldFNldHRpbmdEYXRhKCkgewoKICAgICAgICAJCXRoaXMuc2V0dGluZ0RhdGEgPSBjbG9uZU9iamVjdCh0aGlzLnBhcmVudFNldHRpbmdEYXRhKTsKCQkJfQoJCX0KICAgIH0K"},{"version":3,"sources":["PossessionSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"PossessionSetting.vue","sourceRoot":"src/components/management/setting","sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"setting_form\">\n\t\t\t<h3>일반 스토리지 보유</h3>\n\t\t\t<ul class=\"sf_select_list\">\n\t\t\t\t<li>\n\t\t\t\t\t<label for=\"normalStorage1\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"generalStorage\" id=\"normalStorage1\" value=\"F\" @change=\"changeSettingData('general', 'div', $event)\" :checked=\"settingData.general.div === 'F'\"/>각 파일마다 유지\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t<b class=\"selected_txt\" :class=\"{disabled: settingData.general.div != 'F'}\"></b>\n\t\t\t\t\t\t<select name=\"\" @change=\"changeSettingData('general', 'val', $event)\" :disabled=\"settingData.general.div != 'F'\">\n\t\t\t\t\t\t\t<option v-for=\"item in selector.generation\" :value=\"item.bc_code\" :selected=\"item.bc_code == settingData.general.val\">{{item.bc_name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<label for=\"normalStorage2\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"generalStorage\" id=\"normalStorage2\" value=\"D\" @change=\"changeSettingData('general', 'div', $event)\" :checked=\"settingData.general.div === 'D'\"/>공유 파일의 이전 세대 삭제\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t<b class=\"selected_txt\" :class=\"{disabled: settingData.general.div != 'D'}\"></b>\n\t\t\t\t\t\t<select name=\"\" @change=\"changeSettingData('general', 'val', $event)\" :disabled=\"settingData.general.div != 'D'\">\n\t\t\t\t\t\t\t<option v-for=\"item in selector.period\" :value=\"item.bc_code\" :selected=\"generalVal(item.bc_code)\">{{item.bc_name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<h3>콜드 스토리지 보유</h3>\n\t\t\t<ul class=\"sf_select_list\">\n\t\t\t\t<li>\n\t\t\t\t\t<label for=\"coldStorage1\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"coldStorage\" id=\"coldStorage1\" value=\"F\" @change=\"changeSettingData('cold', 'div', $event)\" :checked=\"settingData.cold.div === 'F'\" />각 파일마다 유지\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t<b class=\"selected_txt\" :class=\"{disabled: settingData.cold.div != 'F'}\"></b>\n\t\t\t\t\t\t<select name=\"\" @change=\"changeSettingData('cold', 'val', $event)\" :disabled=\"settingData.cold.div != 'F'\">\n\t\t\t\t\t\t\t<option v-for=\"item in selector.generation\" :value=\"item.bc_code\" :selected=\"item.bc_code == settingData.cold.val\">{{item.bc_name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<label for=\"coldStorage2\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"coldStorage\" id=\"coldStorage2\" value=\"D\" @change=\"changeSettingData('cold', 'div', $event)\" :checked=\"settingData.cold.div === 'D'\" />공유 파일의 이전 세대 삭제\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t<b class=\"selected_txt\" :class=\"{disabled: settingData.cold.div != 'D'}\"></b>\n\t\t\t\t\t\t<select name=\"\" @change=\"changeSettingData('cold', 'val', $event)\" :disabled=\"settingData.cold.div != 'D'\">\n\t\t\t\t\t\t\t<option v-for=\"item in selector.period\" :value=\"item.bc_code\" :selected=\"item.bc_code == settingData.cold.val\">{{item.bc_name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<h3>삭제 후 파일 유지</h3>\n\t\t\t<ul class=\"sf_select_list\">\n\t\t\t\t<li>\n\t\t\t\t\t<label for=\"deleteFile\">\n\t\t\t\t\t\t삭제된 파일 보유 기간\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t<b class=\"selected_txt\"></b>\n\t\t\t\t\t\t<select name=\"\" id=\"deleteFile\" @change=\"changeSettingData('delete', 'val', $event)\">\n\t\t\t\t\t\t\t<option v-for=\"item in selector.period\" :value=\"item.bc_code\" :selected=\"item.bc_code == settingData.delete.val\">{{item.bc_name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class=\"btn_content_set\">\n\t\t\t<button type=\"button\" class=\"btn_basic cancel\" @click=\"cancel\">취소</button>\n\t\t\t<button type=\"button\" class=\"btn_basic submit\" @click=\"saveSetting\">저장</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\n    export default {\n        name: \"PossessionSetting\",\n\t\tprops: ['parentSettingData', 'parentSelector'],\n\t\tdata() {\n\n        \treturn {\n        \t\tsettingData: {\n\t\t\t\t\tgeneral: {\n\t\t\t\t\t\tdiv: '',\n\t\t\t\t\t\tval: ''\n\t\t\t\t\t},\n\t\t\t\t\tcold: {\n\t\t\t\t\t\tdiv: '',\n\t\t\t\t\t\tval: ''\n\t\t\t\t\t},\n\t\t\t\t\tdelete: {\n\t\t\t\t\t\tval: ''\n\t\t\t\t\t},\n\t\t\t\t},\n        \t\tselector: {\n        \t\t\tgeneration: [],\n\t\t\t\t\tperiod: []\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\n        \tthis.selector = this.parentSelector;\n\n        \tthis.$nextTick(function () {\n\n        \t\tthis.settingData = cloneObject(this.parentSettingData);\n\t\t\t});\n\t\t},\n\t\tupdated() {\n\n        \t$(function () {\n\n\t\t\t\t//셀렉트박스 UI\n\t\t\t\tjQuery(\".selectbox_ui\").each(function() {\n\t\t\t\t\tinitSelectBox(jQuery(this)) //비동기로 셀렉트 박스를 만들었을 경우 initSelectBox(jQuery(\"#아이디\")) 로 실행시켜줘야 함\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\tcomputed: {\n\n        \tgeneralVal() {\n\n        \t\treturn (code) => {\n\n        \t\t\t return code == this.settingData.general.val;\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tmethods: {\n\n        \t// 선택에 따른 화면 데이터 변경\n        \tchangeSettingData(section, type, event) {\n\n        \t\tlet value = event.target.value,\n\t\t\t\t\t$target;\n\n        \t\tthis.settingData[section][type] = value;\n\n        \t\t// radio button 변경 시\n        \t\tif (type === 'div') {\n\n        \t\t\t// disabled css\n        \t\t\t$(event.target).closest(\"ul\").find(\"b.selected_txt\").each(function () {\n\n        \t\t\t\tif ($(this)[0] === $(event.target).closest(\"li\").find(\"b.selected_txt\")[0]) {\n        \t\t\t\t\t$(this).removeClass(\"disabled\");\n\n\t\t\t\t\t\t} else {\n        \t\t\t\t\t$(this).addClass(\"disabled\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n        \t\t\t// type val 부분도 함께 업데이트\n\t\t\t\t\tlet evt = document.createEvent(\"HTMLEvents\");\n\t\t\t\t\tevt.initEvent(\"change\", true, false);\n\t\t\t\t\t$(event.target).closest(\"ul\").find(\"b.selected_txt\").each(function () {\n\n\t\t\t\t\t\tif ($(this).hasClass(\"disabled\")) {\n\n\t\t\t\t\t\t\t// do nothing\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t$target = $(this).next();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$target[0].dispatchEvent(evt);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 저장\n\t\t\tsaveSetting() {\n\n        \t\taxios.post(\"/management/setting/save/\", {tabName: 'possessionSetting', data: this.settingData}).then(response => {\n\n        \t\t\tlet data = response.data;\n\n        \t\t\tif (data.code === 1000) {\n\n        \t\t\t\tthis.$emit(\"changeParent\", 'possessionSetting', this.settingData);\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(ex => {\n\n\t\t\t\t\tconsole.log(ex);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t// 취소\n\t\t\tcancel() {\n\n        \t\tthis.setSettingData();\n\t\t\t},\n\n\t\t\t// 화면 데이터에 수정 전 데이터 적용\n\t\t\tsetSettingData() {\n\n        \t\tthis.settingData = cloneObject(this.parentSettingData);\n\t\t\t}\n\t\t}\n    }\n</script>\n\n<style scoped>\n.disabled {\n\tbackground-color: #d8d8d8 !important;\n}\n</style>\n"]}]}