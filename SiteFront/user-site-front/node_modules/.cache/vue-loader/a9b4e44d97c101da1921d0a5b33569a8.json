{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/management/user_server/Computer.vue?vue&type=style&index=0&id=8a9d0e02&scoped=true&lang=css&","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/management/user_server/Computer.vue","mtime":1582876129745},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZmFkZS1lbnRlci1hY3RpdmUsIC5mYWRlLWxlYXZlLWFjdGl2ZSB7CiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNXM7Cn0KCi5mYWRlLWVudGVyLCAuZmFkZS1sZWF2ZS1hY3RpdmUgewogICAgb3BhY2l0eTogMDsKfQoKLm1lbnVfbGF5ZXIgewogIGRpc3BsYXk6IGJsb2NrOwp9CiNtZW51X2xheWVyX2RldGFpbCB7CiAgICByaWdodDogMTBweDsKfQoubWVudV9sYXllci51c2VyX2NvbnRleHQgewogICAgcG9zaXRpb246IGZpeGVkOwp9Ci50b3BfbWVudV9sYXllciB7CiAgICB0b3A6IDMzcHg7Cn0K"},{"version":3,"sources":["Computer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+7BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Computer.vue","sourceRoot":"src/components/management/user_server","sourcesContent":["<template>\n    <div class=\"admin_list\">\n        <div class=\"board_search_edit\">\n            <fieldset class=\"search_form left\">\n                <legend>사용자검색</legend>\n                <p>\n                    <input type=\"text\" v-model=\"pageInfo.searchText\" @keydown.enter=\"getList(1)\"/>\n                    <button type=\"button\" @click=\"getList(1)\"><img src=\"@/assets/images/sub/btn_ae_search.png\" alt=\"검색\"/></button>\n                </p>\n            </fieldset>\n            <div class=\"btn_edit right\">\n                <button type=\"button\" @click=\"context.userAdd=true\" @mouseleave=\"context.userAdd=false\"><img\n                        src=\"@/assets/images/component/btn_edit_user_add.png\"\n                        alt=\"\" class=\"ico\"/><span\n                        class=\"txt\">사용자 추가</span>\n                </button>\n                <transition name=\"fade\">\n                    <div class=\"menu_layer top_menu_layer\" v-show=\"context.userAdd\" @mouseover=\"context.userAdd=true\" @mouseleave=\"context.userAdd=false\">\n                        <ul>\n                            <li><router-link to=\"/management/user_server/mail_invitation\">메일로 초대</router-link></li>\n                            <li><router-link to=\"/management/user_server/manual_invitation\">수동으로 추가</router-link></li>\n                            <li><router-link to=\"/management/user_server/csv_invitation\">CSV파일에서 일괄 추가</router-link></li>\n                        </ul>\n                    </div>\n                </transition>\n                <button type=\"button\" @click=\"context.detail=true\" @mouseleave=\"context.detail=false\" ><img src=\"@/assets/images/component/btn_edit_detail.png\" alt=\"\" class=\"ico\"/><span\n                        class=\"txt\">상세</span></button>\n                <transition name=\"fade\">\n                    <div class=\"menu_layer top_menu_layer\" id=\"menu_layer_detail\" v-show=\"context.detail\" @mouseover=\"context.detail=true\" @mouseleave=\"context.detail=false\">\n                        <ul>\n                            <li><a href=\"#\" @click=\"checkSelectedAndOpenLayer('activateComputerLayer')\">컴퓨터 유효화</a></li>\n                            <li><a href=\"#\" @click=\"checkSelectedAndOpenLayer('pauseComputerLayer')\">컴퓨터 일시 정지</a></li>\n                            <li><a href=\"#\" @click=\"checkSelectedAndOpenLayer('archiveComputerLayer')\">컴퓨터 아카이브</a></li>\n                            <li><a href=\"#\" @click=\"checkSelectedAndOpenLayer('deleteComputerLayer')\">컴퓨터 삭제</a></li>\n                            <li><a href=\"#\" @click=\"restrictLayer('gnrl')\">일반 스토리지 제한</a></li>\n                            <li><a href=\"#\" @click=\"restrictLayer('cold')\">콜드 스토리지 제한</a></li>\n                            <li><a href=\"#\" @click=\"restrictLayer('ocr')\">OCR 페이지 수 제한</a></li>\n                            <li><a href=\"#\" @click=\"downloadCSV\">CSV 내보내기</a></li>\n                        </ul>\n                    </div>\n                </transition>\n            </div>\n        </div>\n\n        <template v-if=\"list.length > 0\">\n            <table class=\"board_list\">\n                <caption>사용자 목록</caption>\n                <colgroup>\n                    <col style=\"width:70px\"/>\n                    <col style=\"width:*px\"/>\n                    <col style=\"width:120px\"/>\n                    <col style=\"width:140px\"/>\n                    <col style=\"width:220px\"/>\n                    <col style=\"width:220px\"/>\n                    <col style=\"width:180px\"/>\n                    <col style=\"width:65px\"/>\n                </colgroup>\n                <thead>\n                <tr>\n                    <th scope=\"col\"><input type=\"checkbox\" title=\"전체선택\" v-model=\"checkedAll\"/></th>\n                    <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"user\">유저명/컴퓨터 이름</a></th>\n                    <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"status\">상황</a></th>\n                    <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"logdate\">전회 사용</a></th>\n                    <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"general\">일반 스토리지 사용량/최대</a></th>\n                    <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"cold\">콜드 스토리지 사용량/최대</a></th>\n                    <th scope=\"col\"><a href=\"javascript:void(0)\" class=\"sorting inactive\" @click=\"sortList\" data-sort=\"ocr\">OCR 사용량/최대</a></th>\n                    <th scope=\"col\">&nbsp;</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr class=\"pointer\" v-for=\"item in list\" :key=\"item.id\">\n                    <td @click.stop><input type=\"checkbox\" title=\"선택\" v-model:cheked=\"item.checked\" /></td>\n                    <td class=\"left\">\n                        <img v-if=\"item.status == 1\" src=\"@/assets/images/sub/ico_ad_computer_valid.png\" alt=\"컴퓨터\" class=\"ico_admin\"/>\n                        <img v-else-if=\"item.status == 2\" src=\"@/assets/images/sub/ico_ad_computer_pause.png\" alt=\"컴퓨터\" class=\"ico_admin\"/>\n                        <a href=\"#\">{{item.user_computer}}<img src=\"@/assets/images/sub/ico_cn_new.png\" alt=\"신규\" class=\"new\" v-show=\"item.new == 'Y'\"/></a></td>\n                    <td>{{getStatusText(item.status)}}</td>\n                    <td>{{expressDate(item.logdate, '-')}}</td>\n                    <td>{{expressUsed(item.gnrlsto)}} / {{expressLimit(item.gnrllimit)}}</td>\n                    <td>{{expressUsed(item.coldsto)}} / {{expressLimit(item.coldlimit)}}</td>\n                    <td>{{expressUsed(item.ocr, '페이지')}} / {{expressLimit(item.ocrlimit, '페이지')}}</td>\n                    <td class=\"item_edit\">\n                        <button type=\"button\" @click=\"showContext($event, item.id, true)\" @mouseleave=\"hideContext($event, item.id)\">\n                            <i class=\"more\">더 많은</i>\n                        </button>\n                        <transition name=\"fade\">\n                            <div class=\"menu_layer user_context\" v-show=\"item.context.show\" @mouseover=\"item.context.show=true\" @mouseleave=\"item.context.show=false\">\n                                <ul>\n                                    <li><a href=\"#\" @click=\"checkSelectedAndOpenLayer('activateComputerLayer', item.id)\">컴퓨터 유효화</a></li>\n                                    <li><a href=\"#\" @click=\"checkSelectedAndOpenLayer('pauseComputerLayer', item.id)\">컴퓨터 일시 정지</a></li>\n                                    <li><a href=\"#\" @click=\"checkSelectedAndOpenLayer('archiveComputerLayer', item.id)\">컴퓨터 아카이브</a></li>\n                                    <li><a href=\"#\" @click=\"checkSelectedAndOpenLayer('deleteComputerLayer', item.id)\">컴퓨터 삭제</a></li>\n                                    <li><a href=\"#\" @click=\"checkSelectedAndOpenLayer('changeComputerNameLayer', item.id)\">컴퓨터 이름 변경</a></li>\n                                    <li><a href=\"#\" @click=\"restrictLayer('gnrl', item.id)\">일반 스토리지 제한</a></li>\n                                    <li><a href=\"#\" @click=\"restrictLayer('cold', item.id)\">콜드 스토리지 제한</a></li>\n                                    <li><a href=\"#\" @click=\"restrictLayer('ocr', item.id)\">OCR 페이지 수 제한</a></li>\n                                    <li><a href=\"#\" @click=\"getStartedBackup(item.id)\">백업 개시</a></li>\n                                </ul>\n                            </div>\n                        </transition>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n\n            <!-- 페이지 -->\n            <div class=\"page_navi\">\n              <a href=\"#\" class=\"guide prev\" @click=\"getList(prevPage)\">\n                <img src=\"@/assets/images/component/btn_page_prev.png\" alt=\"Prev\" class=\"ico\">\n              </a>\n              <template v-for=\"page in pageArr\">\n                  <a href=\"#\" class=\"num\" :class=\"{active: page.active}\" @click=\"getList(page.pageNo)\">{{ page.pageNo }}</a>\n              </template>\n              <a href=\"#\" class=\"guide next\" @click=\"getList(nextPage)\">\n                  <img src=\"@/assets/images/component/btn_page_next.png\" alt=\"Next\" class=\"ico\">\n              </a>\n            </div>\n        </template>\n\n        <div class=\"board_empty\" v-else>\n          <img src=\"@/assets/images/component/ico_admin_empty.png\" alt=\"\" class=\"ico\" />\n          <p>컴퓨터가 없습니다.</p>\n        </div>\n\n\n        <!-- 컴퓨터 선택 -->\n        <div class=\"layer_popup\" ref=\"noSelectedComputerLayer\">\n            <h3>컴퓨터 선택</h3>\n            <div class=\"msg warning\">\n                <h4><img src=\"@/assets/images/component/ico_lp_admin_warning.png\" alt=\"유저 선택\" /></h4>\n                <p>\n                    <strong>컴퓨터를 선택하세요.</strong>\n                </p>\n            </div>\n\n            <div class=\"btn_set\">\n                <div class=\"center\">\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"closeLayer\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 컴퓨터 유효화 - 이미 유효화 -->\n        <div class=\"layer_popup\" ref=\"alreadyActivatedComputerLayer\">\n            <h3>컴퓨터 유효화</h3>\n            <div class=\"msg warning\">\n                <h4><img src=\"@/assets/images/component/ico_lp_warning.png\" alt=\"컴퓨터 유효화\" /></h4>\n                <p>\n                    <strong>이미 유효화 되고 있습니다.</strong>\n                </p>\n            </div>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 컴퓨터 유효화 -->\n        <div class=\"layer_popup\" ref=\"activateComputerLayer\">\n            <h3>컴퓨터 유효화</h3>\n            <div class=\"msg success\">\n                <h4><img src=\"@/assets/images/component/ico_lp_success.png\" alt=\"컴퓨터 유효화\" /></h4>\n                <p>\n                    <strong>선택한 항목을 활성화 해도 되겠습니까?</strong>\n                </p>\n            </div>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeStorage('status', 'activate')\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 컴퓨터 일시 정지 -->\n        <div class=\"layer_popup\" ref=\"pauseComputerLayer\">\n            <h3>컴퓨터 일시 정지</h3>\n            <div class=\"msg warning\">\n                <h4><img src=\"@/assets/images/component/ico_lp_warning.png\" alt=\"컴퓨터 일시 정지\" /></h4>\n                <p>\n                    <strong>선택한 항목을 일시정지 해도 되겠습니까?</strong>\n                </p>\n            </div>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeStorage('status', 'pause')\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 컴퓨터 아카이브 -->\n        <div class=\"layer_popup\" ref=\"archiveComputerLayer\">\n            <h3>컴퓨터 아카이브</h3>\n            <div class=\"msg warning\">\n                <h4><img src=\"@/assets/images/component/ico_lp_warning.png\" alt=\"컴퓨터 아카이브\" /></h4>\n                <p>\n                    <strong>경고!</strong><br />\n                    컴퓨터를 보존하면 이 컴퓨터의 백업은 정지되고 재개할 수 없게 됩니다.<br />\n                    진행하시겠습니까?\n                </p>\n            </div>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeStorage('status', 'archive')\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 컴퓨터 삭제 -->\n        <div class=\"layer_popup\" ref=\"deleteComputerLayer\">\n            <h3>컴퓨터 삭제</h3>\n            <div class=\"msg warning\">\n                <h4><img src=\"@/assets/images/component/ico_lp_warning.png\" alt=\"컴퓨터 삭제\" /></h4>\n                <p>\n                    <strong>컴퓨터를 삭제합니다.</strong><br />\n                    선택한 단말을 제거하면 그 정보와 파일은<br />\n                    AOSBOX AI plus부터 영구적으로 삭제되고<br />\n                    두번 다시 접속할 수 없게 됩니다.<br />\n                    진행하시겠습니까?\n                </p>\n            </div>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeStorage('status', 'delete')\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 컴퓨터 이름 변경 -->\n        <div class=\"layer_popup\" ref=\"changeComputerNameLayer\">\n            <h3>컴퓨터 이름 변경</h3>\n            <fieldset class=\"write_form\">\n                <legend>컴퓨터 이름 변경</legend>\n                <p>\n                    <span class=\"category\">\n                        <label for=\"comNameChange\">이름</label>\n                    </span>\n                    <span class=\"field\">\n                        <input type=\"text\" id=\"comNameChange\" v-model=\"layer.value.name\"/>\n                    </span>\n                </p>\n            </fieldset>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeStorage('name')\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 일반 스토리지 제한 -->\n        <div class=\"layer_popup\" ref=\"restrictGeneralStorageLayer\">\n            <h3>일반 스토리지 제한</h3>\n            <fieldset class=\"range_form\">\n                <legend>일반 스토리지 제한</legend>\n                <p>\n                    <span class=\"category\"><label for=\"normalStorageLimit\">일반 스토리지 제한</label></span>\n                    <span class=\"field size\">\n                        <input type=\"number\" id=\"normalStorageLimit\" v-model.number=\"layer.value.gnrllimit\" :disabled=\"layer.checked.restrictGeneralStorageLayer\"/> GB\n                        <label class=\"check_option\"><input type=\"checkbox\" v-model:checked=\"layer.checked.restrictGeneralStorageLayer\" @click=\"unlimit('gnrllimit')\"/>무제한</label>\n                    </span>\n                </p>\n            </fieldset>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeStorage('gnrllimit')\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 콜드 스토리지 제한 -->\n        <div class=\"layer_popup\" ref=\"restrictColdStorageLayer\">\n            <h3>콜드 스토리지 제한</h3>\n            <fieldset class=\"range_form\">\n                <legend>콜드 스토리지 제한</legend>\n                <p>\n                    <span class=\"category\"><label for=\"coldStorageLimit\">콜드 스토리지 제한</label></span>\n                    <span class=\"field size\">\n                        <input type=\"number\" id=\"coldStorageLimit\" v-model.number=\"layer.value.coldlimit\" :disabled=\"layer.checked.restrictColdStorageLayer\"/> GB\n                        <label class=\"check_option\"><input type=\"checkbox\" v-model:checked=\"layer.checked.restrictColdStorageLayer\" @click=\"unlimit('coldlimit')\" />무제한</label>\n                    </span>\n                </p>\n            </fieldset>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeStorage('coldlimit')\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- OCR 페이지 수 제한 -->\n        <div class=\"layer_popup\" ref=\"restrictOcrPageLayer\">\n            <h3>OCR 페이지 수 제한</h3>\n            <fieldset class=\"range_form\">\n                <legend>OCR 페이지 수 제한</legend>\n                <p>\n                    <span class=\"category\"><label for=\"ocrPageLimit\">OCR 페이지 수 제한</label></span>\n                    <span class=\"field size\">\n                        <input type=\"number\" id=\"ocrPageLimit\" v-model.number=\"layer.value.ocrlimit\" :disabled=\"layer.checked.restrictOcrPageLayer\" /> 페이지\n                        <label class=\"check_option\"><input type=\"checkbox\" v-model:checked=\"layer.checked.restrictOcrPageLayer\" @click=\"unlimit('ocrlimit')\" />무제한</label>\n                    </span>\n                </p>\n            </fieldset>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeStorage('ocrlimit')\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 백업 게시 -->\n        <div class=\"layer_popup\" ref=\"backupLayer\">\n            <h3>백업 게시</h3>\n            <div class=\"msg warning\">\n                <h4><img src=\"@/assets/images/component/ico_lp_warning.png\" alt=\"백업 게시\" /></h4>\n                <p>\n                    <strong>이 단말기의 백업을 시작해도 될까요?</strong><br />\n                    이 과정은 시작하기까지 최대 15분 걸리는 경우가 있습니다.\n                </p>\n            </div>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeStorage('backup', '', successStartedBackup)\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 이미 백업 진행 중 -->\n        <div class=\"layer_popup\" ref=\"alreadyStartedBackup\">\n            <h3>백업 게시</h3>\n            <div class=\"msg warning\">\n                <h4><img src=\"@/assets/images/component/ico_lp_warning.png\" alt=\"백업 게시\" /></h4>\n                <p>\n                    <strong>이 단말기의 백업은 이미 진행 중입니다.</strong><br />\n                    이 과정은 시작하기까지 최대 15분 걸리는 경우가 있습니다.\n                </p>\n            </div>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 백업 게시 성공 -->\n        <div class=\"layer_popup\" ref=\"successStartedBackup\">\n            <h3>백업 게시</h3>\n            <div class=\"msg warning\">\n                <h4><img src=\"@/assets/images/component/ico_lp_warning.png\" alt=\"백업 게시\" /></h4>\n                <p>\n                    <strong>성공</strong><br />\n                    이 단말기에서 백업은 15분 이내에 개시됩니다.\n                </p>\n            </div>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayer\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayer\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 모달 배경 -->\n        <div class=\"modal_bg\" ref=\"modal\"></div>\n    </div>\n\n\n</template>\n\n<script>\nimport {commonMethodsMixin} from '../../../common/commonMethodsMixin'\nimport {listAndPageMixin} from '../../../common/listAndPageMixin'\n\nexport default {\n    name: \"Computer\",\n    mixins: [commonMethodsMixin, listAndPageMixin],\n    data() {\n        return {\n            context: {\n              userAdd : false,\n              detail: false\n            },\n            layer: {\n                checked: {\n                    restrictGeneralStorageLayer: false, // 일반 스토리지 제한\n                    restrictColdStorageLayer: false,    // 콜드 스토리지 제한\n                    restrictOcrPageLayer: false,        // OCR 페이지 수 제한\n                },\n                value: {\n                    gnrllimit: 0,\n                    coldlimit: 0,\n                    ocrlimit: 0,\n                    name: '',\n                },\n                selecteid: []              // 선택된 id\n            },\n        }\n    },\n    computed: {\n\n        getStatusText () {\n\n            return (status) => {\n\n                let text;\n\n                switch(status) {\n\n                    case 1:\n                        text = \"유효\";\n                        break;\n\n                    case 2:\n                        text = \"일시정지\";\n                        break;\n\n                    case 3:\n                        text = \"보존\";\n                        break;\n                }\n\n                return text;\n            }\n        },\n    },\n    methods: {\n\n        showContext(event, id, adjustPosition) {\n\n            let $target = $(event.target)[0].nodeName === 'I' ? $(event.target).closest('button') : $(event.target),\n                $td = $target.closest('td'),\n                $context = $td.find('.menu_layer.user_context'),\n                top,\n                left;\n\n            event.stopPropagation();\n\n            let list = this.list;\n\n            for (let i = 0; i < list.length; i++) {\n\n                if (list[i].id == id) {\n\n                    list[i].context.show = true;\n                }\n            }\n\n            if (adjustPosition) {\n\n                top = $target.offset().top,\n                left = $target.offset().left + 2 - $context.outerWidth();\n                $context.css(\"top\", top + \"px\").css(\"left\", left + \"px\");\n            }\n        },\n        hideContext(event, id, subName) {\n\n            event.stopPropagation();\n\n            let list = this.list;\n\n            for (let i = 0; i < list.length; i++) {\n\n                if (list[i].id == id) {\n\n                    if (subName === undefined)\n                        list[i].context.show = false;\n                    else\n                        list[i].context[subName].show = false;\n                }\n            }\n\n        },\n\n         // 선택된 유저 정보\n        getSelecteids() {\n\n            let selecteids = [],\n                list = this.list,\n                data,\n                i;\n\n            for (i = 0; i < list.length; i++) {\n\n                data = list[i];\n\n                if (data.checked)\n                    selecteids.push(data.id);\n            }\n\n            this.layer.selecteid = selecteids;\n\n            return selecteids;\n        },\n\n        checkSelecteid(selecteids) {\n\n            if (selecteids.length == 0) {\n\n                this.openLayer('noSelectedComputerLayer');\n                return false;\n            }\n\n            return true;\n        },\n\n        checkSelectedAndOpenLayer(layerName, id) {\n\n            let ids = [id],\n                list = this.list,\n                alreadyActive = false;\n\n            if (!id)\n                ids = this.getSelecteids();\n\n            // 선택여부 검사\n            if (!this.checkSelecteid(ids)) return;\n\n            // 컴퓨터 유효화\n            if (layerName === 'activateComputerLayer') {\n\n                if (this.checkAlreadyActive(ids)) return;\n\n            // 컴퓨터 아카이브\n            } else if (layerName === 'archiveComputerLayer') {\n\n            // 컴퓨터 이름변경\n            } else if (layerName === 'changeComputerNameLayer') {\n\n                this.setComputerNameOnLayer(id);\n            }\n\n            this.openLayer(layerName);\n            this.layer.selecteid = ids;\n        },\n\n        setComputerNameOnLayer(id) {\n\n            let list = this.list,\n                i;\n\n            for (i = 0; i < list.length; i++) {\n\n                if (list[i].id == id) {\n\n                    this.layer.value.name = list[i].name;\n                }\n            }\n        },\n\n        checkAlreadyActive(ids) {\n\n            let list = this.list,\n                alreadyActive = false,\n                i,\n                j;\n\n            // 이미 유효화 검사\n            for (i = 0; i < list.length; i++) {\n\n                for (j = 0; j < ids.length; j++) {\n\n                    console.log(list[i].id == ids[j], list[i].status === 1)\n                    if (list[i].id == ids[j] && list[i].status === 1) {\n                        alreadyActive = true;\n                        break;\n                    }\n                }\n            }\n\n            if (alreadyActive)\n                this.openLayer('alreadyActivatedComputerLayer');\n\n            return alreadyActive;\n        },\n\n        // 레이어 팝업 보이기\n        openLayer(layerName, id) {\n\n            $(this.$refs.modal).show();\n            $(this.$refs[layerName]).show();\n\n            if (id)\n                this.layer.selecteid = id;\n        },\n\n        // 레이어 팝업 숨기기\n        closeLayer() {\n\n            $(this.$refs.modal).hide();\n            $(\".layer_popup\").hide();\n        },\n\n        unlimit(valueName) {\n\n           this.layer.value[valueName] = '';\n        },\n\n        // 일반 스토리지 제한, 콜드 스토리지 제한, ORC 페이지 제한 버튼 클릭 시, 레이어 팝업\n        restrictLayer(layerType, id) {\n\n            let ids = [id],\n                layerName = '',\n                limitName = '',\n                size = '',\n                check = false;\n\n            switch(layerType) {\n                case 'gnrl':\n                    layerName = 'restrictGeneralStorageLayer';\n                    limitName = 'gnrllimit';\n                    break;\n\n                case 'cold':\n                    layerName = 'restrictColdStorageLayer';\n                    limitName = 'coldlimit';\n                    break;\n\n                case 'ocr':\n                    layerName = 'restrictOcrPageLayer';\n                    limitName = 'ocrlimit';\n                    break;\n            }\n\n            $(this.$refs[layerName]).find(\"input\").css(\"border-color\", \"#CCCCCC\");\n\n            if (id === undefined) {\n\n                ids = this.getSelecteids();\n\n            } else {\n\n                for (let i = 0; i < this.list.length; i++) {\n\n                    if (this.list[i].id == id) {\n\n                        size = this.list[i][limitName];\n                        check = size === '' ? true : false;\n                    }\n                }\n            }\n\n            this.layer.value[limitName] = size;\n            this.layer.checked[layerName] = check;\n\n            // 유저 선택여부 검사\n            if (!this.checkSelecteid(ids)) return;\n\n            this.openLayer(layerName);\n            this.layer.selecteid = ids;\n        },\n\n        getList(pageNo) {\n\n            const self = this;\n\n            if (pageNo !== undefined)\n                this.pageInfo.currentPage = pageNo;\n\n            this.setPageLoadInfo();\n\n            axios.post(\"/management/user_server/list/Computer/\", {\n                searchText: this.pageInfo.searchText,\n                currentPage: this.pageInfo.currentPage,\n                dataPerPage: this.pageInfo.dataPerPage,\n                orderName : this.pageInfo.orderName,\n                orderType : this.pageInfo.orderType\n            }).then(response => {\n\n                let data = response.data;\n\n                if (data.code == 1000) {\n\n                    let list = data.list,\n                        totalListCount = data.totalListCount,\n                        haveNew = response.data.haveNew,\n                        tempList = [];\n\n                    this.pageInfo.totalData = totalListCount;\n\n                    self.$emit('setHaveNew', 'Computer', haveNew);\n\n                    for (let i = 0; i < list.length; i++) {\n\n                        let data = list[i];\n                        let obj = {};\n\n                        for (let prop in data) {\n\n                            let newPropName = prop.replace('bs_', '');\n\n                            obj[newPropName] = data[prop];\n\n                            switch(prop) {\n                                case 'bs_gnrllimit':\n                                case 'bs_coldlimit':\n                                case 'bs_ocrlimit':\n                                    if (data[prop] == 0)\n                                        obj[newPropName] = '';\n                                    break;\n\n                                default:\n                                    // do nothing\n                            }\n                        }\n\n                        obj.id = list[i].bs_id;\n                        obj.checked = false;\n                        obj.context = {\n                            show: false\n                        };\n\n                        tempList.push(obj);\n                    }\n\n                    self.list = tempList;\n                }\n            }).catch(ex => {\n\n                console.log(ex);\n            });\n        },\n\n        setPageLoadInfo() {\n\n            let payload = {\n                currentPage: this.pageInfo.currentPage,\n                searchText: this.pageInfo.searchText,\n            };\n\n            this.$store.dispatch('main/setPageLoadInfo', payload);\n        },\n\n        changeStorage(prop, value, func) {\n\n            let self = this,\n                selecteid = this.layer.selecteid,\n                $targetInput,\n                layerName,\n                unlimitChecked; // 무제한 체크 여부\n\n            switch (prop) {\n\n                case 'name':\n                case 'gnrllimit':\n                case 'coldlimit':\n                case 'ocrlimit':\n                    value = this.layer.value[prop];\n                    break;\n            }\n\n            if (prop == 'gnrllimit' || prop == 'coldlimit' || prop == 'ocrlimit') {\n\n                if (prop == 'gnrllimit')\n                    layerName = 'restrictGeneralStorageLayer';\n                else if (prop == 'coldlimit')\n                    layerName = 'restrictColdStorageLayer';\n                else if (prop == 'ocrlimit')\n                    layerName = 'restrictOcrPageLayer';\n\n                $targetInput = $(this.$refs[layerName]).find('input');\n                unlimitChecked = this.layer.checked[layerName];\n\n                if ((value !== '' && value <= 0) || (value === '' && !unlimitChecked)) {\n\n                    $targetInput.css(\"border-color\", \"red\");\n                    return false;\n                }\n            }\n\n            axios.post('/management/changeUserStorage/', {\n                storageIds : selecteid,\n                prop: prop,\n                value: value\n            }).then(response => {\n\n                let data = response.data;\n\n                if (data.code == 1000) {\n\n                    self.closeLayer();\n                    self.getList();\n\n                    if (func) func();\n                }\n\n            }).catch(ex => {\n\n                console.log(ex);\n            });\n        },\n\n        downloadCSV() {\n\n            axios.post(\"/management/downloadCSV/list/Computer/\", {\n                searchText: this.pageInfo.searchText,\n                currentPage: this.pageInfo.currentPage,\n                dataPerPage: this.pageInfo.dataPerPage,\n                orderName : this.pageInfo.orderName,\n                orderType : this.pageInfo.orderType\n            }).then(response => {\n\n                if(response.data.size < 1){\n                    alert(\"Can not download\");\n                    return;\n                }\n\n                let blob = new Blob(['\\ufeff' + response.data], {type: response.headers['content-type']});\n                let link = document.createElement('a');\n                link.href = window.URL.createObjectURL(blob);\n                link.download = 'computerList.csv';\n                link.click();\n\n            }).catch(ex => {\n\n                console.log(ex);\n            });\n        },\n\n        // 목록 정렬\n        sortList(event) {\n\n            let $target = $(event.target),\n                orderType = $target.data('sort'),\n                $sortings = $(\"a.sorting\");\n\n            // 나머지 비활성화\n            $sortings.each(function () {\n\n                if ($(this)[0] != $target[0]) {\n\n                    $(this).addClass('inactive').removeClass('on');\n                }\n            });\n\n\n            if ($target.hasClass('inactive')) {\n\n                // 해당 항목 활성화\n                $target.removeClass('inactive');\n                $target.addClass('on');\n\n            } else {\n\n                if ($target.hasClass('on')) {\n\n                    $target.removeClass('on');\n\n                } else {\n\n                    $target.addClass('inactive');\n                }\n            }\n\n            this.setSort();\n            this.getList();\n        },\n\n        setSort() {\n\n            let orderName = '',\n                orderType = '';\n\n            $(\"a.sorting\").each(function () {\n\n                if ($(this).hasClass(\"inactive\")) {\n\n                    // do nothing\n\n                } else {\n\n                    orderName = $(this).data(\"sort\");\n                    orderType = $(this).hasClass('on') ? 'asc' : 'desc';\n                }\n            });\n\n            this.pageInfo.orderName = orderName;\n            this.pageInfo.orderType = orderType;\n        },\n\n        // 백업 개시 버튼 클릭 시\n        getStartedBackup(id) {\n\n            let backup;\n\n            for (let i = 0; i < this.list.length; i++) {\n\n                if (id == this.list[i].id) {\n\n                    backup = this.list[i].backup;\n                }\n            }\n\n            if (backup === 0 || backup === 1) {\n\n                this.checkSelectedAndOpenLayer('backupLayer', id);\n                return;\n\n            } else if (backup === 2) {\n\n                this.openLayer('alreadyStartedBackup');\n                return;\n            }\n        },\n\n        // 백업 개시 성공 시\n        successStartedBackup() {\n\n            this.openLayer('successStartedBackup');\n        }\n    },\n\n    created() {\n\n        let pageLoadInfo = this.$store.state.main.pageLoadInfo,\n            keys = Object.keys(pageLoadInfo);\n\n        for( let i = 0; i < keys.length; i++) {\n\n            this.pageInfo[keys[i]] = pageLoadInfo[keys[i]];\n        }\n\n        this.getList();\n    }\n}\n</script>\n\n<style scoped>\n.fade-enter-active, .fade-leave-active {\n    transition: opacity 0.5s;\n}\n\n.fade-enter, .fade-leave-active {\n    opacity: 0;\n}\n\n.menu_layer {\n  display: block;\n}\n#menu_layer_detail {\n    right: 10px;\n}\n.menu_layer.user_context {\n    position: fixed;\n}\n.top_menu_layer {\n    top: 33px;\n}\n</style>\n"]}]}