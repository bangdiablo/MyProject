{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/views/header/account_setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/views/header/account_setting.vue","mtime":1578875064843},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgogICAgaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKCglleHBvcnQgZGVmYXVsdCB7CgkJZGF0YSgpewoJCQlyZXR1cm4gewoJCQkgICAgaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLmhlYWRlci51c2VyLmlkLAogICAgICAgICAgICAgICAgY2hlY2tlZFNlY29uZENlcnRpZmljYXRpb246IGZhbHNlLAogICAgICAgICAgICAgICAgYWN0aXZlVGFiOiAnZ2VuZXJhbCcsCiAgICAgICAgICAgICAgICBlbWFpbENoYW5nZUxheWVyOiB7CgkJCQkgICAgaXNBY3RpdmU6IGZhbHNlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbmFtZUNoYW5nZUxheWVyOiB7CiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU6IGZhbHNlCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcGFzc3dvcmRMYXllcjogewoJCQkJICAgIGlzQWN0aXZlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBjdXJyZW50UFc6ICcnLAogICAgICAgICAgICAgICAgICAgIG5ld1BXOiAnJywKICAgICAgICAgICAgICAgICAgICBuZXdQV0NoZWNrOiAnJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNlY29uZENlcnRpZmljYXRpb25MYXllcjogewogICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG1vZGFsOiB7CgkJCQkgICAgaXNBY3RpdmU6IGZhbHNlCiAgICAgICAgICAgICAgICB9CgkJCX0KCQl9LAogICAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgICAgIGZpcnN0bmFtZSgpIHsKCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuaGVhZGVyLnVzZXIuZmlyc3RuYW1lOwogICAgICAgICAgICB9LAogICAgICAgICAgICBsYXN0bmFtZSgpIHsKCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuaGVhZGVyLnVzZXIubGFzdG5hbWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVtYWlsKCkgewoKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5oZWFkZXIudXNlci5lbWFpbDsKICAgICAgICAgICAgfQogICAgICAgIH0sCgkJbWV0aG9kcyA6IHsKCgkJCWNoYW5nZUFjdGl2ZVRhYiAoZXZlbnQpIHsKCgkJCQl0aGlzLmFjdGl2ZVRhYiA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFjdGl2ZTsKCQkJfSwKICAgICAgICAgICAgb3BlbkxheWVyUG9wdXAobGF5ZXJOYW1lKSB7CgoKCQkJICAgIGlmIChsYXllck5hbWUgPT09ICdzZWNvbmRDZXJ0aWZpY2F0aW9uTGF5ZXInICYmIHRoaXMuY2hlY2tlZFNlY29uZENlcnRpZmljYXRpb24gPT09IHRydWUpCgkJCSAgICAgICAgcmV0dXJuOwoKICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuaXNBY3RpdmUgPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpc1tsYXllck5hbWVdLmlzQWN0aXZlID0gdHJ1ZTsKCgkJCSAgICBzd2l0Y2ggKGxheWVyTmFtZSkgewoKICAgICAgICAgICAgICAgICAgICBjYXNlICdlbWFpbENoYW5nZUxheWVyJzoKICAgICAgICAgICAgICAgICAgICBjYXNlICduYW1lQ2hhbmdlTGF5ZXInOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmc1tsYXllck5hbWVdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ZpZWxkJylbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF0uc2VsZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBjYXNlICdwYXNzd29yZExheWVyJzoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZExheWVyLmN1cnJlbnRQVyA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkTGF5ZXIubmV3UFcgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZExheWVyLm5ld1BXQ2hlY2sgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNsb3NlTGF5ZXJQb3B1cChldmVudCkgewoKICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuaXNBY3RpdmUgPSBmYWxzZTsKCgkJCSAgICBpZiAoZXZlbnQua2V5Q29kZSkgewoKICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGtleSBpbiB0aGlzKSB7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoJ0xheWVyJykgPiAtMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5XS5pc0FjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KCgkJCSAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLiRyZWZzKSB7CgogICAgICAgICAgICAgICAgICAgIGlmICgkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgiLmxheWVyX3BvcHVwIilbMF0gPT09IHRoaXMuJHJlZnNba2V5XSkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXldLmlzQWN0aXZlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNoYW5nZU5hbWUoKSB7CgogICAgICAgICAgICAgICAgbGV0IHVzZXJOYW1lID0gdGhpcy4kcmVmcy51c2VyTmFtZS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZUFyciA9IHVzZXJOYW1lLnNwbGl0KCIgIiksCiAgICAgICAgICAgICAgICAgICAgZmlyc3RuYW1lID0gJycsCiAgICAgICAgICAgICAgICAgICAgbGFzdG5hbWUgPSAnJzsKCiAgICAgICAgICAgICAgICBpZiAodXNlck5hbWVBcnIubGVuZ3RoID09PSAxKSB7CgogICAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZSA9IHVzZXJOYW1lQXJyWzBdOwoKICAgICAgICAgICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICAgICAgICAgIGxhc3RuYW1lID0gdXNlck5hbWVBcnIucG9wKCk7CiAgICAgICAgICAgICAgICAgICAgZmlyc3RuYW1lID0gdXNlck5hbWVBcnIuam9pbigiICIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgICAgaWQgOiB0aGlzLmlkLAogICAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZSA6IGZpcnN0bmFtZSwKICAgICAgICAgICAgICAgICAgICBsYXN0bmFtZTogbGFzdG5hbWUKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVc2VySW5mbyhwYXJhbXMpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjaGFuZ2VFbWFpbCgpIHsKCiAgICAgICAgICAgICAgICBsZXQgZW1haWwgPSB0aGlzLiRyZWZzLnVzZXJFbWFpbC52YWx1ZSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkIDogdGhpcy5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgZW1haWwgOiBlbWFpbAogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVVc2VySW5mbyhwYXJhbXMpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjaGFuZ2VQYXNzd29yZCgpIHsKCgkJCSAgICBsZXQgY3VycmVudFBhc3N3b3JkICA9IHRoaXMuJHJlZnMuY3VycmVudFBXLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIG5ld1Bhc3N3b3JkICAgICAgPSB0aGlzLiRyZWZzLm5ld1BXLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIG5ld1Bhc3N3b3JkQ2hlY2sgPSB0aGlzLiRyZWZzLm5ld1BXQ2hlY2sudmFsdWU7CgoJCQkgICAgaWYgKG5ld1Bhc3N3b3JkICE9PSBuZXdQYXNzd29yZENoZWNrKSB7CgkJCSAgICAgICAgYWxlcnQoIuyDiOuhnOyatCDruYTrsIDrsojtmLjqsIAg7J287LmY7ZWY7KeAIOyViuyKteuLiOuLpC4iKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgoJCQkgICAgbGV0IHBhcmFtcyA9IHsKCQkJICAgICAgICBpZDogdGhpcy5pZCwKICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFzc3dvcmQgOiBjdXJyZW50UGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgICAgbmV3UGFzc3dvcmQgOiBuZXdQYXNzd29yZCwKICAgICAgICAgICAgICAgICAgICBuZXdQYXNzd29yZENoZWNrIDogbmV3UGFzc3dvcmRDaGVjawogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVzZXJJbmZvKHBhcmFtcyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVwZGF0ZVVzZXJJbmZvKHBhcmFtcykgewoKICAgICAgICAgICAgICAgIGxldCBxcyA9IHJlcXVpcmUoJ3FzJyk7CgogICAgICAgICAgICAgICAgYXhpb3MucG9zdCgnL2hlYWRlci91cGRhdGVVc2VySW5mby8nLCBxcy5zdHJpbmdpZnkocGFyYW1zKSkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDEwMDApIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgi7KCA7J6l7ZaI7Iq164uI64ukLiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZUxheWVyUG9wdXAoe2tleUNvZGU6IHRydWV9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRVc2VyJywgcGFyYW1zKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSAgJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkYXRhLmNvZGUpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUEFTU1dPUkRfSVNfV1JPTkcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC0yMDAxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIuu5hOuwgOuyiO2YuOqwgCDsmKzrsJTrpbTsp4Ag7JWK7Iq164uI64ukLiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBORVdfUEFTU1dPUkRfQ0hFQ0tfV1JPTkcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC0yMDEyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gIuyDiOuhnOyatCDruYTrsIDrsojtmLjqsIAg7J287LmY7ZWY7KeAIOyViuyKteuLiOuLpC4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSU5URVJOQUxfU0VSVkVSX0VSUk9SCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAtMTAwMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9ICLsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLiDri6Tsi5wg7Iuc64+E7ZW07KO87IS47JqULiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KG1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGV4ID0+IHsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV4KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoJCX0KCX0K"},{"version":3,"sources":["account_setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyNA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA","file":"account_setting.vue","sourceRoot":"src/views/header","sourcesContent":["<!-- 계정 설정 -->\n\n<template>\n    <article id=\"contents\" class=\"sub\" @keydown.esc=\"closeLayerPopup\">\n\t\t<location/>\n\n\t\t<ul class=\"category_navi\">\n\t\t\t<li><a href=\"#\" :class=\"{active: activeTab == 'general'}\" @click=\"changeActiveTab\" data-active=\"general\">일반</a></li>\n\t\t\t<li><a href=\"#\" :class=\"{active: activeTab == 'security'}\" @click=\"changeActiveTab\" data-active=\"security\">보안</a></li>\n\t\t</ul>\n\t\t<div class=\"content\">\n\n\t\t\t<template v-if=\"activeTab == 'general'\">\n\t\t\t\t<h3>기본사항</h3>\n\t\t\t\t<table class=\"board_view\">\n\t\t\t\t\t<caption>기본사항</caption>\n\t\t\t\t\t<colgroup>\n\t\t\t\t\t\t<col style=\"width:200px\" />\n\t\t\t\t\t\t<col style=\"width:*\" />\n\t\t\t\t\t</colgroup>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">이름</th>\n\t\t\t\t\t\t\t<td>{{firstname}} {{lastname}}<button type=\"button\" class=\"btn_edit\" @click=\"openLayerPopup('nameChangeLayer')\">수정</button></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"row\">메일 주소</th>\n\t\t\t\t\t\t\t<td>{{email}} <button type=\"button\" class=\"btn_edit\" @click=\"openLayerPopup('emailChangeLayer')\">수정</button></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<h3 class=\"bottom_line\">데이터 저장 장소</h3>\n\t\t\t\t<p><strong>Asia Pacific(Tokyo)</strong></p>\n\t\t\t\t<p>모든 데이터와 정보는 이 곳에 저장됩니다.</p>\n\t\t\t</template>\n\n\t\t\t<template v-else-if=\"activeTab == 'security'\">\n\t\t\t\t<h3>비밀번호</h3>\n                <button type=\"button\" class=\"btn_edit\" @click=\"openLayerPopup('passwordLayer')\">수정</button>\n<!--\t\t\t\t<table class=\"board_view\">-->\n<!--\t\t\t\t\t<caption>비밀번호</caption><button type=\"button\" class=\"btn_edit\" @click=\"openLayerPopup('passwordLayer')\">수정</button>-->\n<!--\t\t\t\t\t<colgroup>-->\n<!--\t\t\t\t\t\t<col style=\"width:200px\" />-->\n<!--\t\t\t\t\t\t<col style=\"width:*\" />-->\n<!--\t\t\t\t\t</colgroup>-->\n<!--\t\t\t\t\t<tbody>-->\n<!--\t\t\t\t\t\t<tr>-->\n<!--\t\t\t\t\t\t\t<th scope=\"row\">현재 비밀번호</th>-->\n<!--\t\t\t\t\t\t\t<td>●●●●●●●●● <button type=\"button\" class=\"btn_edit\" @click=\"openLayerPopup('passwordLayer')\">수정</button></td>-->\n<!--\t\t\t\t\t\t</tr>-->\n<!--\t\t\t\t\t</tbody>-->\n<!--\t\t\t\t</table>-->\n\t\t\t\t<h3 class=\"bottom_line\">2단계 인증</h3>\n\t\t\t\t<p><input type=\"checkbox\" style=\"position:relative; top:-2px;\" v-model=\"checkedSecondCertification\" @click=\"openLayerPopup('secondCertificationLayer')\" /><strong>2단계 인증 사용</strong></p>\n\t\t\t\t<p>로그인할 때마다 비밀번호 외에  6자리 보안 코드가 필요합니다.</p>\n\t\t\t</template>\n\t\t</div>\n\n\n        <!-- 메일 주소 변경 -->\n        <div class=\"layer_popup\" v-show=\"emailChangeLayer.isActive\" ref=\"emailChangeLayer\">\n            <h3>메일 주소 변경</h3>\n            <fieldset class=\"write_form\">\n                <legend>메일 주소 변경</legend>\n                <p>\n\t\t\t<span class=\"category\">\n\t\t\t\t<label for=\"chMailAddress\">메일 주소</label>\n\t\t\t</span>\n                    <span class=\"field\">\n\t\t\t\t<input type=\"text\" placeholder=\"\" :value=\"email\" id=\"chMailAddress\" ref=\"userEmail\" @keydown.enter=\"changeEmail\"/>\n\t\t\t</span>\n                </p>\n            </fieldset>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayerPopup\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeEmail\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayerPopup\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 이름 변경 -->\n        <div class=\"layer_popup\" v-show=\"nameChangeLayer.isActive\" ref=\"nameChangeLayer\">\n            <h3>이름 변경</h3>\n            <fieldset class=\"write_form\">\n                <legend>이름 변경</legend>\n                <p>\n\t\t\t<span class=\"category\">\n\t\t\t\t<label for=\"chUserName\">이름</label>\n\t\t\t</span>\n                    <span class=\"field\">\n\t\t\t\t<input type=\"text\" placeholder=\"\" :value=\"firstname + ' ' + lastname\" id=\"chUserName\" ref=\"userName\" @keydown.enter=\"changeName\"/>\n\t\t\t</span>\n                </p>\n            </fieldset>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayerPopup\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changeName\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayerPopup\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 2단계 인증 -->\n        <div class=\"layer_popup\" style=\"display: none;\">\n            <h3>2단계 인증</h3>\n            <div class=\"qrcode_area\">\n                <img src=\"@/assets/images/sub/sample_qrcode.png\" alt=\"\" />\n                <!-- QR코드 - 넓이:92 , 높이:92 -->\n            </div>\n            <fieldset class=\"write_form\">\n                <legend>2단계 인증</legend>\n                <p>\n\t\t\t<span class=\"category\">\n\t\t\t\t<label for=\"confirmCode\">코드</label>\n\t\t\t</span>\n                    <span class=\"field\">\n\t\t\t\t<input type=\"password\" placeholder=\"\" value=\"\" id=\"confirmCode\" />\n\t\t\t</span>\n                </p>\n            </fieldset>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 2단계 인증 설정-->\n        <div class=\"layer_popup\" v-show=\"secondCertificationLayer.isActive\" ref=\"secondCertificationLayer\">\n            <h3>2단계 인증 설정</h3>\n            <div class=\"security_step\">\n                <ul>\n                    <li class=\"step01 on\"><!-- 다음 단계로 이동 할수록 on 클래스가 추가됨-->\n                        <span><strong>Step1</strong></span>\n                        <p>Installing Google Authenticator</p>\n                    </li>\n                    <li class=\"step02 on\">\n                        <span><strong>Step2</strong></span>\n                        <p>Synchronisation</p>\n                    </li>\n                    <li class=\"step03\">\n                        <span><strong>Step3</strong></span>\n                        <p>Validation</p>\n                    </li>\n                    <li class=\"step04\">\n                        <span><strong>Step4</strong></span>\n                        <p>Recorvery Codes</p>\n                    </li>\n                </ul>\n            </div>\n            <div class=\"google_area\">\n                구글인증 영역\n            </div>\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayerPopup\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\">다음</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayerPopup\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 비밀번호 변경 -->\n        <div class=\"layer_popup\" v-show=\"passwordLayer.isActive\" ref=\"passwordLayer\">\n            <h3>비밀번호 변경</h3>\n            <fieldset class=\"write_form\">\n                <legend>비밀번호 변경</legend>\n                <p>\n\t\t\t<span class=\"category\">\n\t\t\t\t<label for=\"currentPW\">현재 비밀번호</label>\n\t\t\t</span>\n                    <span class=\"field\">\n\t\t\t\t<input type=\"password\" placeholder=\"\" v-model=\"passwordLayer.currentPW\" ref=\"currentPW\" />\n\t\t\t</span>\n                </p>\n                <p>\n\t\t\t<span class=\"category\">\n\t\t\t\t<label for=\"newPW\">새 비밀번호</label>\n\t\t\t</span>\n                    <span class=\"field\">\n\t\t\t\t<input type=\"password\" placeholder=\"\" v-model=\"passwordLayer.newPW\" ref=\"newPW\" />\n\t\t\t</span>\n                </p>\n                <p>\n\t\t\t<span class=\"category\">\n\t\t\t\t<label for=\"newPWCheck\">새 비밀번호 확인</label>\n\t\t\t</span>\n                    <span class=\"field\">\n\t\t\t\t<input type=\"password\" placeholder=\"\" v-model=\"passwordLayer.newPWCheck\" ref=\"newPWCheck\" />\n\t\t\t</span>\n                </p>\n            </fieldset>\n\n            <div class=\"btn_set\">\n                <div class=\"right\">\n                    <button type=\"button\" class=\"btn_basic cancel\" @click=\"closeLayerPopup\">취소</button>\n                    <button type=\"button\" class=\"btn_basic submit\" @click=\"changePassword\">확인</button>\n                </div>\n            </div>\n            <button class=\"btn_close\" @click=\"closeLayerPopup\"><img src=\"@/assets/images/component/btn_popup_close.png\" alt=\"닫기\" /></button>\n        </div>\n\n        <!-- 모달 배경 -->\n        <div class=\"modal_bg\" v-show=\"modal.isActive\"></div>\n\t</article>\n</template>\n\n<script>\n\n    import $ from \"jquery\";\n\n\texport default {\n\t\tdata(){\n\t\t\treturn {\n\t\t\t    id: this.$store.state.header.user.id,\n                checkedSecondCertification: false,\n                activeTab: 'general',\n                emailChangeLayer: {\n\t\t\t\t    isActive: false\n                },\n                nameChangeLayer: {\n                    isActive: false\n                },\n                passwordLayer: {\n\t\t\t\t    isActive: false,\n                    currentPW: '',\n                    newPW: '',\n                    newPWCheck: ''\n                },\n                secondCertificationLayer: {\n                    isActive: false\n                },\n                modal: {\n\t\t\t\t    isActive: false\n                }\n\t\t\t}\n\t\t},\n        computed: {\n            firstname() {\n\n                return this.$store.state.header.user.firstname;\n            },\n            lastname() {\n\n                return this.$store.state.header.user.lastname;\n            },\n            email() {\n\n                return this.$store.state.header.user.email;\n            }\n        },\n\t\tmethods : {\n\n\t\t\tchangeActiveTab (event) {\n\n\t\t\t\tthis.activeTab = event.target.dataset.active;\n\t\t\t},\n            openLayerPopup(layerName) {\n\n\n\t\t\t    if (layerName === 'secondCertificationLayer' && this.checkedSecondCertification === true)\n\t\t\t        return;\n\n                this.modal.isActive = true;\n                this[layerName].isActive = true;\n\n\t\t\t    switch (layerName) {\n\n                    case 'emailChangeLayer':\n                    case 'nameChangeLayer':\n                        this.$nextTick(function () {\n\n                            this.$refs[layerName].getElementsByClassName('field')[0].getElementsByTagName('input')[0].select();\n                        })\n                        break;\n\n                    case 'passwordLayer':\n                        this.passwordLayer.currentPW = '';\n                        this.passwordLayer.newPW = '';\n                        this.passwordLayer.newPWCheck = '';\n                        break;\n                }\n            },\n            closeLayerPopup(event) {\n\n                this.modal.isActive = false;\n\n\t\t\t    if (event.keyCode) {\n\n                    for(let key in this) {\n\n                        if (key.indexOf('Layer') > -1)\n                            this[key].isActive = false;\n                    }\n\n\t\t\t        return;\n                }\n\n                for (let key in this.$refs) {\n\n                    if ($(event.target).closest(\".layer_popup\")[0] === this.$refs[key])\n                        this[key].isActive = false;\n                }\n            },\n            changeName() {\n\n                let userName = this.$refs.userName.value,\n                    userNameArr = userName.split(\" \"),\n                    firstname = '',\n                    lastname = '';\n\n                if (userNameArr.length === 1) {\n\n                    firstname = userNameArr[0];\n\n                } else {\n\n                    lastname = userNameArr.pop();\n                    firstname = userNameArr.join(\" \");\n                }\n\n                let params = {\n                    id : this.id,\n                    firstname : firstname,\n                    lastname: lastname\n                };\n\n                this.updateUserInfo(params);\n            },\n            changeEmail() {\n\n                let email = this.$refs.userEmail.value,\n                    params = {\n                        id : this.id,\n                        email : email\n                    };\n\n                this.updateUserInfo(params);\n            },\n            changePassword() {\n\n\t\t\t    let currentPassword  = this.$refs.currentPW.value,\n                    newPassword      = this.$refs.newPW.value,\n                    newPasswordCheck = this.$refs.newPWCheck.value;\n\n\t\t\t    if (newPassword !== newPasswordCheck) {\n\t\t\t        alert(\"새로운 비밀번호가 일치하지 않습니다.\");\n                    return;\n                }\n\n\t\t\t    let params = {\n\t\t\t        id: this.id,\n                    currentPassword : currentPassword,\n                    newPassword : newPassword,\n                    newPasswordCheck : newPasswordCheck\n                };\n\n                this.updateUserInfo(params);\n            },\n            updateUserInfo(params) {\n\n                let qs = require('qs');\n\n                axios.post('/header/updateUserInfo/', qs.stringify(params))\n                    .then(response => {\n\n                        let data = response.data;\n\n                        if (data.code == 1000) {\n\n                            alert(\"저장했습니다.\");\n                            this.closeLayerPopup({keyCode: true});\n                            this.$store.dispatch('setUser', params);\n\n                        } else {\n\n                            let message =  '';\n\n                            switch (data.code) {\n\n                                // PASSWORD_IS_WRONG\n                                case -2001:\n                                    message = \"비밀번호가 올바르지 않습니다.\";\n                                    break;\n\n                                // NEW_PASSWORD_CHECK_WRONG\n                                case -2012:\n                                    message = \"새로운 비밀번호가 일치하지 않습니다.\";\n                                    break;\n\n                                // INTERNAL_SERVER_ERROR\n                                case -1000:\n                                    message = \"오류가 발생했습니다. 다시 시도해주세요.\";\n                                    break;\n                            }\n\n                            alert(message);\n                        }\n\n                    }).catch(ex => {\n\n                        console.log(ex);\n                    });\n            }\n\t\t}\n\t}\n</script>\n\n<style scoped>\n.layer_popup {\n    display: block;\n}\n.modal_bg {\n    display: block;\n}\n.content button {\n    line-height: 1;\n    padding: 5px 7px;\n    border: 1px solid #CCD4DC;\n    border-radius: 3px;\n    margin: -5px 2px -3px;\n}\n</style>\n"]}]}