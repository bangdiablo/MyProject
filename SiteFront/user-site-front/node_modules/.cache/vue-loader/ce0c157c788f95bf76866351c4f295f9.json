{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/management/setting/PossessionSetting.vue?vue&type=style&index=0&id=506f47d3&scoped=true&lang=css&","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/components/management/setting/PossessionSetting.vue","mtime":1583135289881},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5kaXNhYmxlZCB7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZDhkOGQ4ICFpbXBvcnRhbnQ7Cn0K"},{"version":3,"sources":["PossessionSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;AACA;AACA","file":"PossessionSetting.vue","sourceRoot":"src/components/management/setting","sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"setting_form\">\n\t\t\t<h3>일반 스토리지 보유</h3>\n\t\t\t<ul class=\"sf_select_list\">\n\t\t\t\t<li>\n\t\t\t\t\t<label for=\"normalStorage1\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"generalStorage\" id=\"normalStorage1\" value=\"F\" @change=\"changeSettingData('general', 'div', $event)\" :checked=\"settingData.general.div === 'F'\"/>각 파일마다 유지\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t<b class=\"selected_txt\" :class=\"{disabled: settingData.general.div != 'F'}\"></b>\n\t\t\t\t\t\t<select name=\"\" @change=\"changeSettingData('general', 'val', $event)\" :disabled=\"settingData.general.div != 'F'\">\n\t\t\t\t\t\t\t<option v-for=\"item in selector.generation\" :value=\"item.bc_code\" :selected=\"item.bc_code == settingData.general.val\">{{item.bc_name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<label for=\"normalStorage2\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"generalStorage\" id=\"normalStorage2\" value=\"D\" @change=\"changeSettingData('general', 'div', $event)\" :checked=\"settingData.general.div === 'D'\"/>공유 파일의 이전 세대 삭제\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t<b class=\"selected_txt\" :class=\"{disabled: settingData.general.div != 'D'}\"></b>\n\t\t\t\t\t\t<select name=\"\" @change=\"changeSettingData('general', 'val', $event)\" :disabled=\"settingData.general.div != 'D'\">\n\t\t\t\t\t\t\t<option v-for=\"item in selector.period\" :value=\"item.bc_code\" :selected=\"generalVal(item.bc_code)\">{{item.bc_name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<h3>콜드 스토리지 보유</h3>\n\t\t\t<ul class=\"sf_select_list\">\n\t\t\t\t<li>\n\t\t\t\t\t<label for=\"coldStorage1\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"coldStorage\" id=\"coldStorage1\" value=\"F\" @change=\"changeSettingData('cold', 'div', $event)\" :checked=\"settingData.cold.div === 'F'\" />각 파일마다 유지\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t<b class=\"selected_txt\" :class=\"{disabled: settingData.cold.div != 'F'}\"></b>\n\t\t\t\t\t\t<select name=\"\" @change=\"changeSettingData('cold', 'val', $event)\" :disabled=\"settingData.cold.div != 'F'\">\n\t\t\t\t\t\t\t<option v-for=\"item in selector.generation\" :value=\"item.bc_code\" :selected=\"item.bc_code == settingData.cold.val\">{{item.bc_name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<label for=\"coldStorage2\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"coldStorage\" id=\"coldStorage2\" value=\"D\" @change=\"changeSettingData('cold', 'div', $event)\" :checked=\"settingData.cold.div === 'D'\" />공유 파일의 이전 세대 삭제\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t<b class=\"selected_txt\" :class=\"{disabled: settingData.cold.div != 'D'}\"></b>\n\t\t\t\t\t\t<select name=\"\" @change=\"changeSettingData('cold', 'val', $event)\" :disabled=\"settingData.cold.div != 'D'\">\n\t\t\t\t\t\t\t<option v-for=\"item in selector.period\" :value=\"item.bc_code\" :selected=\"item.bc_code == settingData.cold.val\">{{item.bc_name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<h3>삭제 후 파일 유지</h3>\n\t\t\t<ul class=\"sf_select_list\">\n\t\t\t\t<li>\n\t\t\t\t\t<label for=\"deleteFile\">\n\t\t\t\t\t\t삭제된 파일 보유 기간\n\t\t\t\t\t</label>\n\t\t\t\t\t<span class=\"basic_select selectbox_ui\">\n\t\t\t\t\t\t<b class=\"selected_txt\"></b>\n\t\t\t\t\t\t<select name=\"\" id=\"deleteFile\" @change=\"changeSettingData('delete', 'val', $event)\">\n\t\t\t\t\t\t\t<option v-for=\"item in selector.period\" :value=\"item.bc_code\" :selected=\"item.bc_code == settingData.delete.val\">{{item.bc_name}}</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class=\"btn_content_set\">\n\t\t\t<button type=\"button\" class=\"btn_basic cancel\" @click=\"cancel\">취소</button>\n\t\t\t<button type=\"button\" class=\"btn_basic submit\" @click=\"saveSetting\">저장</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\n    export default {\n        name: \"PossessionSetting\",\n\t\tprops: ['parentSettingData', 'parentSelector'],\n\t\tdata() {\n\n        \treturn {\n        \t\tsettingData: {\n\t\t\t\t\tgeneral: {\n\t\t\t\t\t\tdiv: '',\n\t\t\t\t\t\tval: ''\n\t\t\t\t\t},\n\t\t\t\t\tcold: {\n\t\t\t\t\t\tdiv: '',\n\t\t\t\t\t\tval: ''\n\t\t\t\t\t},\n\t\t\t\t\tdelete: {\n\t\t\t\t\t\tval: ''\n\t\t\t\t\t},\n\t\t\t\t},\n        \t\tselector: {\n        \t\t\tgeneration: [],\n\t\t\t\t\tperiod: []\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\n        \tthis.selector = this.parentSelector;\n\n        \tthis.$nextTick(function () {\n\n        \t\tthis.settingData = cloneObject(this.parentSettingData);\n\t\t\t});\n\t\t},\n\t\tupdated() {\n\n        \t$(function () {\n\n\t\t\t\t//셀렉트박스 UI\n\t\t\t\tjQuery(\".selectbox_ui\").each(function() {\n\t\t\t\t\tinitSelectBox(jQuery(this)) //비동기로 셀렉트 박스를 만들었을 경우 initSelectBox(jQuery(\"#아이디\")) 로 실행시켜줘야 함\n\t\t\t\t})\n\t\t\t});\n\t\t},\n\t\tcomputed: {\n\n        \tgeneralVal() {\n\n        \t\treturn (code) => {\n\n        \t\t\t return code == this.settingData.general.val;\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tmethods: {\n\n        \t// 선택에 따른 화면 데이터 변경\n        \tchangeSettingData(section, type, event) {\n\n        \t\tlet value = event.target.value,\n\t\t\t\t\t$target;\n\n        \t\tthis.settingData[section][type] = value;\n\n        \t\t// radio button 변경 시\n        \t\tif (type === 'div') {\n\n        \t\t\t// disabled css\n        \t\t\t$(event.target).closest(\"ul\").find(\"b.selected_txt\").each(function () {\n\n        \t\t\t\tif ($(this)[0] === $(event.target).closest(\"li\").find(\"b.selected_txt\")[0]) {\n        \t\t\t\t\t$(this).removeClass(\"disabled\");\n\n\t\t\t\t\t\t} else {\n        \t\t\t\t\t$(this).addClass(\"disabled\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n        \t\t\t// type val 부분도 함께 업데이트\n\t\t\t\t\tlet evt = document.createEvent(\"HTMLEvents\");\n\t\t\t\t\tevt.initEvent(\"change\", true, false);\n\t\t\t\t\t$(event.target).closest(\"ul\").find(\"b.selected_txt\").each(function () {\n\n\t\t\t\t\t\tif ($(this).hasClass(\"disabled\")) {\n\n\t\t\t\t\t\t\t// do nothing\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t$target = $(this).next();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$target[0].dispatchEvent(evt);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 저장\n\t\t\tsaveSetting() {\n\n        \t\taxios.post(\"/management/setting/save/\", {tabName: 'possessionSetting', data: this.settingData}).then(response => {\n\n        \t\t\tlet data = response.data;\n\n        \t\t\tif (data.code === 1000) {\n\n        \t\t\t\tthis.$emit(\"changeParent\", 'possessionSetting', this.settingData);\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(ex => {\n\n\t\t\t\t\tconsole.log(ex);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t// 취소\n\t\t\tcancel() {\n\n        \t\tthis.setSettingData();\n\t\t\t},\n\n\t\t\t// 화면 데이터에 수정 전 데이터 적용\n\t\t\tsetSettingData() {\n\n        \t\tthis.settingData = cloneObject(this.parentSettingData);\n\t\t\t}\n\t\t}\n    }\n</script>\n\n<style scoped>\n.disabled {\n\tbackground-color: #d8d8d8 !important;\n}\n</style>\n"]}]}