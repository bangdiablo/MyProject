{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/views/management/user_server/MailInvitation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/views/management/user_server/MailInvitation.vue","mtime":1582876129757},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICdAL3BsdWdpbnMvYm9vdHN0cmFwLXRhZ3NpbnB1dC5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFpbEludml0YXRpb24iLAogIG1ldGhvZHM6IHsKICAgIC8vIOuplOydvOuhnCDstIjrjIAg67O064K06riwCiAgICByZXF1ZXN0U2VuZEVtYWlsKCkgewogICAgICBsZXQgcXMgPSByZXF1aXJlKCdxcycpLAogICAgICAgICAgZW1haWxzID0gdGhpcy4kcmVmcy5lbWFpbHMudmFsdWUsCiAgICAgICAgICBzdWJqZWN0ID0gdGhpcy4kcmVmcy5zdWJqZWN0LnZhbHVlLnRyaW0oKSwKICAgICAgICAgIG1lc3NhZ2UgPSB0aGlzLiRyZWZzLm1lc3NhZ2UudmFsdWUudHJpbSgpOwoKICAgICAgaWYgKGVtYWlscyA9PT0gIiIpIHsKICAgICAgICBhbGVydCgi7J2066mU7J287J2EIOyeheugpe2VtOyjvOyEuOyalC4iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChzdWJqZWN0ID09PSAiIikgewogICAgICAgIGFsZXJ0KCLsoJzrqqnsnYQg7J6F66Cl7ZW07KO87IS47JqULiIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKG1lc3NhZ2UgPT09ICIiKSB7CiAgICAgICAgYWxlcnQoIuuplOyLnOyngOulvCDsnoXroKXtlbTso7zshLjsmpQuIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBheGlvcy5wb3N0KCIvbWFuYWdlbWVudC9zZW5kRW1haWwvIiwgcXMuc3RyaW5naWZ5KHsKICAgICAgICAnZW1haWxzJzogZW1haWxzLAogICAgICAgICdzdWJqZWN0Jzogc3ViamVjdCwKICAgICAgICAnbWVzc2FnZSc6IG1lc3NhZ2UKICAgICAgfSkpLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICBsZXQgZGF0YSA9IHJlc3VsdC5kYXRhOwoKICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAxMDAwKSB7CiAgICAgICAgICBhbGVydCgi66mU7J287J20IOuwnOyGoeuQmOyXiOyKteuLiOuLpC4iKTsKICAgICAgICAgICQodGhpcy4kcmVmcy5lbWFpbHMpLnRhZ3NpbnB1dCgncmVtb3ZlQWxsJyk7CiAgICAgICAgICB0aGlzLiRyZWZzLnN1YmplY3QudmFsdWUgPSAnJzsKICAgICAgICAgIHRoaXMuJHJlZnMubWVzc2FnZS52YWx1ZSA9ICcnOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXggPT4gewogICAgICAgIGNvbnNvbGUubG9nKGV4KTsKICAgICAgfSk7CiAgICB9CgogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBsZXQgZW1haWxUYWdzID0gJCgnI3NhdmVkSW5wdXQnKS5vbignYmVmb3JlSXRlbUFkZCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBldmVudC5jYW5jZWwgPSAhSXNWYWxpZEVtYWlsQWRkcmVzcyhldmVudC5pdGVtKTsKICAgIH0pLm9uKCdpdGVtQWRkZWQgaXRlbVJlbW92ZWQnLCBmdW5jdGlvbiAoZXZlbnQpIHsvLyBBZmZlY3RDYXBhY2l0eSgpOwogICAgfSkudGFnc2lucHV0KHsKICAgICAgZGVsaW1pdGVyUmVnZXg6IC9bOyxcc10rLywKICAgICAgdHJpbVZhbHVlOiB0cnVlCiAgICB9KTsKCiAgICBmdW5jdGlvbiBJc1ZhbGlkRW1haWxBZGRyZXNzKGVtYWlsQWRkcmVzcykgewogICAgICBpZiAoIWlzQXNjaWlTdHJpbmcoZW1haWxBZGRyZXNzKSB8fCBlbWFpbEFkZHJlc3MubGVuZ3RoID4gNjQpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGxldCBwYXR0ZXJuID0gbmV3IFJlZ0V4cCgvXigoW148PigpW1xdXFwuLDs6XHNAXCJdKyhcLltePD4oKVtcXVxcLiw7OlxzQFwiXSspKil8KFwiLitcIikpQCgoPzpbXHctXStcLikqXHdbXHctXXswLDY2fSlcLihbYS16XXsyLDE1fSg/OlwuW2Etel17Mn0pPykkL2kpOwogICAgICByZXR1cm4gcGF0dGVybi50ZXN0KCQudHJpbShlbWFpbEFkZHJlc3MpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0FzY2lpU3RyaW5nKHN0cikgewogICAgICByZXR1cm4gL15bXHgwMC1ceDdGXSokLy50ZXN0KHN0cik7CiAgICB9CiAgfQoKfTs="},{"version":3,"sources":["MailInvitation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,OAAA,kCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,OAAA,EAAA;AAEA;AACA,IAAA,gBAAA,GAAA;AAEA,UAAA,EAAA,GAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UACA,MAAA,GAAA,KAAA,KAAA,CAAA,MAAA,CAAA,KADA;AAAA,UAEA,OAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA,IAAA,EAFA;AAAA,UAGA,OAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA,IAAA,EAHA;;AAKA,UAAA,MAAA,KAAA,EAAA,EAAA;AAEA,QAAA,KAAA,CAAA,cAAA,CAAA;AACA;AACA;;AAEA,UAAA,OAAA,KAAA,EAAA,EAAA;AAEA,QAAA,KAAA,CAAA,aAAA,CAAA;AACA;AACA;;AAEA,UAAA,OAAA,KAAA,EAAA,EAAA;AAEA,QAAA,KAAA,CAAA,cAAA,CAAA;AACA;AACA;;AAEA,MAAA,KAAA,CAAA,IAAA,CAAA,wBAAA,EAAA,EAAA,CAAA,SAAA,CAAA;AACA,kBAAA,MADA;AAEA,mBAAA,OAFA;AAGA,mBAAA;AAHA,OAAA,CAAA,EAIA,IAJA,CAIA,MAAA,IAAA;AAEA,YAAA,IAAA,GAAA,MAAA,CAAA,IAAA;;AAEA,YAAA,IAAA,CAAA,IAAA,KAAA,IAAA,EAAA;AAEA,UAAA,KAAA,CAAA,cAAA,CAAA;AACA,UAAA,CAAA,CAAA,KAAA,KAAA,CAAA,MAAA,CAAA,CAAA,SAAA,CAAA,WAAA;AACA,eAAA,KAAA,CAAA,OAAA,CAAA,KAAA,GAAA,EAAA;AACA,eAAA,KAAA,CAAA,OAAA,CAAA,KAAA,GAAA,EAAA;AACA;AAEA,OAhBA,EAgBA,KAhBA,CAgBA,EAAA,IAAA;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AACA,OAnBA;AAoBA;;AAhDA,GAFA;;AAoDA,EAAA,OAAA,GAAA;AAEA,QAAA,SAAA,GAAA,CAAA,CAAA,aAAA,CAAA,CAAA,EAAA,CAAA,eAAA,EAAA,UAAA,KAAA,EAAA;AAEA,MAAA,KAAA,CAAA,MAAA,GAAA,CAAA,mBAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AAEA,KAJA,EAIA,EAJA,CAIA,uBAJA,EAIA,UAAA,KAAA,EAAA,CAEA;AAEA,KARA,EAQA,SARA,CAQA;AACA,MAAA,cAAA,EAAA,SADA;AAEA,MAAA,SAAA,EAAA;AAFA,KARA,CAAA;;AAaA,aAAA,mBAAA,CAAA,YAAA,EAAA;AAEA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,IAAA,YAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,eAAA,KAAA;AACA;;AACA,UAAA,OAAA,GAAA,IAAA,MAAA,CAAA,8HAAA,CAAA;AAEA,aAAA,OAAA,CAAA,IAAA,CAAA,CAAA,CAAA,IAAA,CAAA,YAAA,CAAA,CAAA;AACA;;AAEA,aAAA,aAAA,CAAA,GAAA,EAAA;AACA,aAAA,gBAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA;AACA;;AAhFA,CAAA","sourcesContent":["<template>\n\n    <article id=\"contents\" class=\"sub\">\n      <location/>\n\n      <div class=\"content\">\n        <p class=\"intro_guide\">사용자는 발송된 초대 메일의 링크에서 AOSBOX AI plus의 이용 개시 절차를 실시합니다.</p>\n        <table class=\"board_view\">\n          <caption>메일로 초대</caption>\n          <colgroup>\n            <col style=\"width:180px\"/>\n            <col style=\"width:*\"/>\n          </colgroup>\n          <tbody>\n          <tr>\n            <th scope=\"row\"><label for=\"mailAdress\">메일 주소</label></th>\n            <td>\n<!--                <div class=\"bootstrap-tagsinput\"></div>-->\n                <input id=\"savedInput\" type=\"text\" ref=\"emails\">\n<!--                <input id=\"savedInput\" type=\"text\" value=\"\" data-role=\"tagsinput\" style=\"display: none;\">-->\n<!--              <input type=\"email\" id=\"mailAdress\" style=\"width: 340px\"/>-->\n<!--              <p class=\"error_msg\">이름을 입력해주세요.</p>-->\n              <p class=\"add_option\">메일 주소는 쉼표, 세미 콜론 또는 공백으로 구분합니다</p>\n            </td>\n          </tr>\n          <tr>\n            <th scope=\"row\"><label for=\"mailSubject\">제목</label></th>\n            <td>\n              <input type=\"text\" id=\"mailSubject\" style=\"width:100%\" ref=\"subject\"/>\n            </td>\n          </tr>\n          <tr>\n            <th scope=\"row\"><label for=\"mailMessege\">메시지</label></th>\n            <td>\n              <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" style=\"width:100%; height:276px\" ref=\"message\"></textarea>\n              <p class=\"add_option\">AOSBOX AI plus를 셋업 하는 방법을 지시하기 위한 글을 추가합니다</p>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n        <div class=\"board_btn_set\">\n          <button type=\"button\" class=\"btn_basic submit\" @click=\"requestSendEmail\">보내기</button>\n          <router-link to=\"/management/user_server\"><button type=\"button\" class=\"btn_basic cancel\">취소</button></router-link>\n        </div>\n        <ul class=\"desc_list\">\n          <li>수동으로 유저를 추가하려면 <router-link to=\"/management/user_server/manual_invitation\">수동으로 추가</router-link>를 사용합니다.</li>\n          <li>복수의 유저를 일괄적으로 추가하려면 <router-link to=\"/management/user_server/csv_invitation\">CSV파일에서 일괄 추가</router-link>를 사용합니다.</li>\n        </ul>\n      </div>\n    </article>\n\n</template>\n\n<script>\n    import '@/plugins/bootstrap-tagsinput.js';\n\n    export default {\n        name: \"MailInvitation\",\n        methods: {\n\n            // 메일로 초대 보내기\n            requestSendEmail() {\n\n                let qs = require('qs'),\n                    emails = this.$refs.emails.value,\n                    subject = this.$refs.subject.value.trim(),\n                    message = this.$refs.message.value.trim();\n\n                if (emails === \"\") {\n\n                    alert(\"이메일을 입력해주세요.\");\n                    return;\n                }\n\n                if (subject === \"\") {\n\n                    alert(\"제목을 입력해주세요.\");\n                    return;\n                }\n\n                if (message === \"\") {\n\n                    alert(\"메시지를 입력해주세요.\");\n                    return;\n                }\n\n                axios.post(\"/management/sendEmail/\", qs.stringify({\n                    'emails': emails,\n                    'subject': subject,\n                    'message': message\n                })).then(result => {\n\n                    let data = result.data;\n\n                    if (data.code === 1000) {\n\n                        alert(\"메일이 발송되었습니다.\");\n                        $(this.$refs.emails).tagsinput('removeAll');\n                        this.$refs.subject.value = '';\n                        this.$refs.message.value = '';\n                    }\n\n                }).catch(ex => {\n\n                    console.log(ex);\n                });\n            }\n        },\n        mounted() {\n\n            let emailTags = $('#savedInput').on('beforeItemAdd', function (event) {\n\n                event.cancel = !IsValidEmailAddress(event.item);\n\n            }).on('itemAdded itemRemoved', function (event) {\n\n                // AffectCapacity();\n\n            }).tagsinput({\n                delimiterRegex: /[;,\\s]+/,\n                trimValue: true\n            });\n\n            function IsValidEmailAddress(emailAddress) {\n\n                if (!isAsciiString(emailAddress) || emailAddress.length > 64) {\n                    return false;\n                }\n                let pattern = new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,15}(?:\\.[a-z]{2})?)$/i);\n\n                return pattern.test($.trim(emailAddress));\n            }\n\n            function isAsciiString(str) {\n                return (/^[\\x00-\\x7F]*$/).test(str);\n            }\n        }\n    }\n</script>\n\n<style scoped>\n.board_btn_set {\n    text-align: left;\n}\n</style>\n"],"sourceRoot":"src/views/management/user_server"}]}