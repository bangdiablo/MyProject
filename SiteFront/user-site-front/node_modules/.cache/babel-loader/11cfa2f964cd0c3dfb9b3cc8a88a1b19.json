{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/views/before_login/Authen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/views/before_login/Authen.vue","mtime":1580458518174},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGJlZm9yZV9sb2dpbl9oZWFkZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9oZWFkZXIvYmVmb3JlX2xvZ2luX2hlYWRlcic7CmltcG9ydCBiZWZvcmVfbG9naW5fZm9vdGVyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZm9vdGVyL2JlZm9yZV9sb2dpbl9mb290ZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2F1dGhlbicsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYW5ndWFnZTogJ0tPJywKICAgICAgdXNlcklkOiAnJywKICAgICAgdXNlck5hbWU6ICcnLAogICAgICB2ZXJpZmljYXRpb25Db2RlOiAnJywKICAgICAgZXJyb3I6IGZhbHNlLAogICAgICBlcnJvck1lc3NhZ2U6ICcnCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7fSwKICBjb21wb25lbnRzOiB7CiAgICAnYmVmb3JlLWxvZ2luLWhlYWRlcic6IGJlZm9yZV9sb2dpbl9oZWFkZXIsCiAgICAnYmVmb3JlLWxvZ2luLWZvb3Rlcic6IGJlZm9yZV9sb2dpbl9mb290ZXIKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdCgpIHsKICAgICAgbGV0IHVzZXJJZCA9IHRoaXMudXNlcklkLAogICAgICAgICAgdmVyaWZpY2F0aW9uQ29kZSA9IHRoaXMudmVyaWZpY2F0aW9uQ29kZTsKCiAgICAgIGlmICh2ZXJpZmljYXRpb25Db2RlLnRyaW0oKSA9PT0gJycpIHsKICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICfsnbjspp0g7L2U65Oc66W8IOyeheugpe2VmOyEuOyalC4nOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgYXhpb3MucG9zdCgnL21haW4vc2Vjb25kQ2VydGlmaWNhdGlvbi8nLCB7CiAgICAgICAgdXNlcklkOiB1c2VySWQsCiAgICAgICAgdmVyaWZpY2F0aW9uQ29kZTogdmVyaWZpY2F0aW9uQ29kZSwKICAgICAgICBsYW5ndWFnZTogdGhpcy5sYW5ndWFnZQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzKTsKICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMTAwMCkgewogICAgICAgICAgbGV0IHN0b3JhZ2Vfc2VydmljZSA9IGRhdGEuc3RvcmFnZV9zZXJ2aWNlOwogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ21haW4vc2V0QWRtaW4nLCBkYXRhLmlzQWRtaW4pOyAvLyDqtIDrpqzsnpAg7Jes67aAIOyEpOyglQoKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc3RvcmFnZV9zZXJ2aWNlL3NldF9zdG9yYWdlX3NlcnZpY2VfZ29vZ2xlX2RyaXZlX3RvX3RydWUnLCBzdG9yYWdlX3NlcnZpY2UpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsgLy8g66mU7J247ZmU66m0IOydtOuPmQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gJ+yduOymnSDsvZTrk5zqsIAg7Jis67CU66W07KeAIOyViuyKteuLiOuLpC4nOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXggPT4gewogICAgICAgIGNvbnNvbGUubG9nKGV4KTsKICAgICAgfSk7CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnVzZXJJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VySWQ7CiAgICB0aGlzLnVzZXJOYW1lID0gdGhpcy4kcm91dGUucGFyYW1zLnVzZXJOYW1lOwoKICAgIGlmICh0aGlzLnVzZXJJZCA9PSB1bmRlZmluZWQpIHsKICAgICAgYWxlcnQoIuyemOuqu+uQnCDsoJHqt7zsnoXri4jri6QuIik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYmVmb3JlX2xvZ2luL2xvZ2luJyk7CiAgICB9CiAgfQoKfTs="},{"version":3,"sources":["Authen.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,mBAAA,MAAA,6CAAA;AACA,OAAA,mBAAA,MAAA,6CAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;;AAEA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,gBAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA,KALA;AAMA,MAAA,YAAA,EAAA;AANA,KAAA;AAQA,GAXA;;AAYA,EAAA,QAAA,EAAA,EAZA;AAeA,EAAA,UAAA,EAAA;AACA,2BAAA,mBADA;AAEA,2BAAA;AAFA,GAfA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,GAAA;AAEA,UAAA,MAAA,GAAA,KAAA,MAAA;AAAA,UACA,gBAAA,GAAA,KAAA,gBADA;;AAGA,UAAA,gBAAA,CAAA,IAAA,OAAA,EAAA,EAAA;AAEA,aAAA,KAAA,GAAA,IAAA;AACA,aAAA,YAAA,GAAA,eAAA;AACA;AACA;;AAEA,MAAA,KAAA,CAAA,IAAA,CAAA,4BAAA,EAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,gBAAA,EAAA,gBAFA;AAGA,QAAA,QAAA,EAAA,KAAA;AAHA,OAAA,EAIA,IAJA,CAIA,QAAA,IAAA;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,YAAA,IAAA,GAAA,QAAA,CAAA,IAAA;;AAEA,YAAA,IAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AAEA,cAAA,eAAA,GAAA,IAAA,CAAA,eAAA;AACA,eAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,IAAA,CAAA,OAAA,EAHA,CAGA;;AACA,eAAA,MAAA,CAAA,MAAA,CAAA,0DAAA,EAAA,eAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EALA,CAKA;AAEA,SAPA,MAOA;AAEA,eAAA,KAAA,GAAA,IAAA;AACA,eAAA,YAAA,GAAA,mBAAA;AACA;AACA;AAEA,OAvBA,EAuBA,KAvBA,CAuBA,EAAA,IAAA;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AACA,OA1BA;AA2BA;;AAxCA,GAnBA;;AA6DA,EAAA,OAAA,GAAA;AAEA,SAAA,MAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AACA,SAAA,QAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,QAAA;;AAEA,QAAA,KAAA,MAAA,IAAA,SAAA,EAAA;AACA,MAAA,KAAA,CAAA,YAAA,CAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,qBAAA;AACA;AACA;;AAtEA,CAAA","sourcesContent":["<!--    메인 표시되는 화면은 폴더명 == 파일명으로 사용바랍니다.            -->\n<template>\n    <div id=\"member_container\">\n        <section id=\"member_info\">\n            <before-login-header/>\n            <div class=\"member_form\">\n                <h2>2단계 인증</h2>\n                <div class=\"visual\">\n                    <img src=\"@/assets/images/member/visual_authen.png\" alt=\"\" />\n                </div>\n                <p class=\"ask_msg\">\n                    <strong>{{userName}}님</strong><br>\n                    계정에 로그인하려면<br>\n                    2단계 인증 코드를 입력하십시오.\n                </p>\n                <fieldset>\n                    <legend>인증 정보 입력</legend>\n                    <p class=\"field\"><label for=\"findEmail\">2단계 인증 코드 :</label><input type=\"text\" placeholder=\"2단계 인증 코드\" v-model=\"verificationCode\" id=\"findEmail\" /></p>\n                    <p class=\"error_msg\" v-show=\"error\">{{errorMessage}}</p>\n                    <p class=\"btn_set\"><button type=\"button\" @click=\"submit\">제출</button></p>\n                    <p class=\"find_password\">권한 부여 코드를 입력하는 데 문제가 있습니까?<br /><a href=\"#\">백업 코드 입력</a></p>\n                </fieldset>\n            </div>\n            <before-login-footer/>\n        </section>\n    </div>\n</template>\n\n<script>\n\n    import before_login_header from '../../components/header/before_login_header'\n    import before_login_footer from '../../components/footer/before_login_footer'\n\n    export default {\n        name: 'authen',\n        data() {\n            return {\n                language: 'KO',\n                userId : '',\n                userName: '',\n                verificationCode: '',\n                error: false,\n                errorMessage: ''\n            }\n        },\n        computed: {\n\n        },\n        components: {\n            'before-login-header': before_login_header,\n            'before-login-footer': before_login_footer,\n        },\n        methods: {\n            submit() {\n\n                let userId = this.userId,\n                    verificationCode = this.verificationCode;\n\n                if (verificationCode.trim() === '') {\n\n                    this.error = true;\n                    this.errorMessage = '인증 코드를 입력하세요.';\n                    return;\n                }\n\n                axios.post('/main/secondCertification/',{\n                    userId: userId,\n                    verificationCode: verificationCode,\n                    language: this.language\n                }).then(response => {\n\n                    console.log(this)\n                    let data = response.data;\n\n                    if (data.code == 1000) {\n\n                        let storage_service = data.storage_service;\n                        this.$store.dispatch('main/setAdmin', data.isAdmin);    // 관리자 여부 설정\n                        this.$store.commit('storage_service/set_storage_service_google_drive_to_true', storage_service)\n                        this.$router.push('/');                                 // 메인화면 이동\n\n                    } else {\n\n                        this.error = true;\n                        this.errorMessage = '인증 코드가 올바르지 않습니다.';\n                        return;\n                    }\n\n                }).catch(ex => {\n\n                    console.log(ex);\n                });\n            }\n        },\n        created() {\n\n            this.userId = this.$route.params.userId;\n            this.userName = this.$route.params.userName;\n\n            if (this.userId == undefined) {\n                alert(\"잘못된 접근입니다.\");\n                this.$router.push('/before_login/login');\n            }\n        }\n    }\n\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/views/before_login"}]}