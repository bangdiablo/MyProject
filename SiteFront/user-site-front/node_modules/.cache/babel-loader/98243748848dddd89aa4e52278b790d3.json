{"remainingRequest":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js!/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/plugins/axios.js","dependencies":[{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/plugins/axios.js","mtime":1576561387426},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgc3RvcmUgZnJvbSAiLi4vc3RvcmUvaW5kZXguanMiOwppbXBvcnQgY29uc3RhbnRzIGZyb20gIi4vY29uc3RhbnRzIjsKdmFyIHZtID0gbmV3IFZ1ZSgpOwpsZXQgY29uZmlnID0gewogIGJhc2VVUkw6IGNvbnN0YW50cy5TRVJWRVJfVVJMLAogIHdpdGhDcmVkZW50aWFsczogdHJ1ZQp9OwoKY29uc3QgX2F4aW9zID0gYXhpb3MuY3JlYXRlKGNvbmZpZyk7CgpfYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBzdG9yZS5zdGF0ZS5sb2FkaW5nID0gdHJ1ZTsgLy8gbGV0IHRva2VuID0gKHZtLiRjb29raWVzLmdldCgnYm94QWNjZXNzVG9rZW4nKSA9PSBudWxsID8gJycgOiB2bS4kY29va2llcy5nZXQoJ2JveEFjY2Vzc1Rva2VuJykpOwogIC8vIGxldCBrZXkgPSAodm0uJGNvb2tpZXMuZ2V0KCdib3hBY2Nlc3NLZXknKSA9PSBudWxsID8gJycgOiB2bS4kY29va2llcy5nZXQoJ2JveEFjY2Vzc0tleScpKTsKCiAgY29uZmlnLmhlYWRlcnMgPSB7CiAgICAvLyAnWC1CT1gtQUNDRVNTVE9LRU4nOiB0b2tlbiwKICAgIC8vICdYLUJPWC1BQ0NFU1NLRVknOiBrZXksCiAgICBwb3N0OiB7CiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJwogICAgfQogIH07CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gRG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyBBZGQgYSByZXNwb25zZSBpbnRlcmNlcHRvcgoKCl9heGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIERvIHNvbWV0aGluZyB3aXRoIHJlc3BvbnNlIGRhdGEKICBpZiAocmVzcG9uc2UuZGF0YS5jb250aW51ZUxvYWRpbmcpIHsKICAgIHN0b3JlLnN0YXRlLmxvYWRpbmcgPSB0cnVlOwogIH0gZWxzZSB7CiAgICBzdG9yZS5zdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgfQoKICBsZXQgY29kZSA9IHJlc3BvbnNlLmRhdGEuY29kZTsKICBsZXQgcmVqZWN0Q29kZSA9IFstMTAwMSwgLTEwMDIsIC0xMDAzXTsKCiAgaWYgKHJlamVjdENvZGUuaW5jbHVkZXMoY29kZSkpIHsKICAgIGlmIChjb2RlID09IC0xMDAyKSB7CiAgICAgIGlmICh2bS4kY29va2llcy5nZXQoImxhbmd1YWdlIikgPT0gIktSIikgYWxlcnQoIuyepeyLnOqwhCDsgqzsmqntlZjsp4Ag7JWK7JWEIOuhnOq3uOyVhOybg+uQmOyXiOyKteuLiOuLpC4iKTsKICAgICAgaWYgKHZtLiRjb29raWVzLmdldCgibGFuZ3VhZ2UiKSA9PSAiSlAiKSBhbGVydCgi6ZW35pmC6ZaT5L2/44Gj44Gm44GE44Gq44GL44Gj44Gf44Gu44Gn44Ot44Kw44Ki44Km44OI44GV44KM44G+44GX44Gf44CCIik7CiAgICAgIGlmICh2bS4kY29va2llcy5nZXQoImxhbmd1YWdlIikgPT0gIkVOIikgYWxlcnQoIllvdSB3ZXJlIGxvZ2dlZCBvdXQgYmVjYXVzZSB5b3UgZGlkIG5vdCB1c2UgZm9yIGEgbG9uZyB0aW1lLiIpOwogICAgfSBlbHNlIGlmIChjb2RlID09IC0xMDAxKSB7CiAgICAgIGlmICh2bS4kY29va2llcy5nZXQoImxhbmd1YWdlIikgPT0gIktSIikgYWxlcnQoIuuPmeydvO2VnCDqs4TsoJXsnbQg7KCR7IaN65CY7Ja0IOuhnOq3uOyVhOybg+uQmOyXiOyKteuLiOuLpC4iKTsKICAgICAgaWYgKHZtLiRjb29raWVzLmdldCgibGFuZ3VhZ2UiKSA9PSAiSlAiKSBhbGVydCgi5ZCM44GY44Ki44Kr44Km44Oz44OI44GM5o6l57aa44GV44KM44Gf44Gu44Gn44Ot44Kw44Ki44Km44OI44GV44KM44G+44GX44Gf44CCIik7CiAgICAgIGlmICh2bS4kY29va2llcy5nZXQoImxhbmd1YWdlIikgPT0gIkVOIikgYWxlcnQoIllvdSB3ZXJlIGxvZ2dlZCBvdXQgYmVjYXVzZSB0aGUgc2FtZSBhY2NvdW50IHdhcyBjb25uZWN0ZWQuIik7CiAgICB9IGVsc2UgewogICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICE9ICcvJykgewogICAgICAgIGFsZXJ0KCLsnpjrqrvrkJwg7KCR6re87J6F64uI64ukLiIpOwogICAgICB9CiAgICB9CgogICAgdm0uJGNvb2tpZXMucmVtb3ZlKCdib3hBY2Nlc3NLZXknKTsKICAgIHZtLiRjb29raWVzLnJlbW92ZSgnYm94QWNjZXNzVG9rZW4nKTsKICAgIHZtLiRjb29raWVzLnJlbW92ZSgncGF5bG9hZCcpOwogICAgbG9jYXRpb24uaHJlZiA9ICIvYmVmb3JlX2xvZ2luIjsKICAgIHJldHVybiBmYWxzZTsKICB9IGVsc2UgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0KfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gRG8gc29tZXRoaW5nIHdpdGggcmVzcG9uc2UgZXJyb3IKICBzdG9yZS5zdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CgpQbHVnaW4uaW5zdGFsbCA9IGZ1bmN0aW9uIChWdWUsIG9wdGlvbnMpIHsKICBWdWUuYXhpb3MgPSBfYXhpb3M7CiAgd2luZG93LmF4aW9zID0gX2F4aW9zOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZ1ZS5wcm90b3R5cGUsIHsKICAgIGF4aW9zOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gX2F4aW9zOwogICAgICB9CgogICAgfSwKICAgICRheGlvczogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIF9heGlvczsKICAgICAgfQoKICAgIH0KICB9KTsKfTsKClZ1ZS51c2UoUGx1Z2luKTsKZXhwb3J0IGRlZmF1bHQgUGx1Z2luOw=="},{"version":3,"sources":["/Users/jaehyukbang/db_project_2019/SITE/SiteFront/user-site-front/src/plugins/axios.js"],"names":["Vue","axios","store","constants","vm","config","baseURL","SERVER_URL","withCredentials","_axios","create","interceptors","request","use","state","loading","headers","post","error","Promise","reject","response","data","continueLoading","code","rejectCode","includes","$cookies","get","alert","window","location","pathname","remove","href","Plugin","install","options","Object","defineProperties","prototype","$axios"],"mappings":"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","sourcesContent":["\"use strict\";\n\nimport Vue from 'vue'\nimport axios from 'axios'\nimport store from \"../store/index.js\";\nimport constants from \"./constants\";\n\nvar vm = new Vue();\n\nlet config = {\n    baseURL: constants.SERVER_URL,\n    withCredentials: true\n};\n\nconst _axios = axios.create(config);\n\n\n_axios.interceptors.request.use(\n    function (config) {\n        store.state.loading = true;\n\n        // let token = (vm.$cookies.get('boxAccessToken') == null ? '' : vm.$cookies.get('boxAccessToken'));\n        // let key = (vm.$cookies.get('boxAccessKey') == null ? '' : vm.$cookies.get('boxAccessKey'));\n\n        config.headers = {\n            // 'X-BOX-ACCESSTOKEN': token,\n            // 'X-BOX-ACCESSKEY': key,\n            post: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n            }\n        };\n\n        return config;\n    },\n    function (error) {\n        // Do something with request error\n        return Promise.reject(error);\n    }\n);\n\n\n// Add a response interceptor\n_axios.interceptors.response.use(\n    function (response) {\n        // Do something with response data\n\n        if (response.data.continueLoading) {\n            store.state.loading = true\n        } else {\n            store.state.loading = false\n        }\n\n        let code = response.data.code\n        let rejectCode = [-1001, -1002, -1003];\n\n        if (rejectCode.includes(code)) {\n            if (code == -1002) {\n                if (vm.$cookies.get(\"language\") == \"KR\")\n                    alert(\"장시간 사용하지 않아 로그아웃되었습니다.\");\n                if (vm.$cookies.get(\"language\") == \"JP\")\n                    alert(\"長時間使っていなかったのでログアウトされました。\");\n                if (vm.$cookies.get(\"language\") == \"EN\")\n                    alert(\"You were logged out because you did not use for a long time.\");\n            } else if (code == -1001) {\n                if (vm.$cookies.get(\"language\") == \"KR\")\n                    alert(\"동일한 계정이 접속되어 로그아웃되었습니다.\");\n                if (vm.$cookies.get(\"language\") == \"JP\")\n                    alert(\"同じアカウントが接続されたのでログアウトされました。\");\n                if (vm.$cookies.get(\"language\") == \"EN\")\n                    alert(\"You were logged out because the same account was connected.\");\n            } else {\n\n                if (window.location.pathname != '/') {\n\n                    alert(\"잘못된 접근입니다.\");\n                }\n            }\n\n            vm.$cookies.remove('boxAccessKey');\n            vm.$cookies.remove('boxAccessToken');\n            vm.$cookies.remove('payload');\n\n            location.href = \"/before_login\";\n\n            return false;\n        } else {\n\n            return response;\n        }\n\n    },\n    function (error) {\n        // Do something with response error\n        store.state.loading = false\n\n        return Promise.reject(error);\n    }\n);\n\nPlugin.install = function (Vue, options) {\n    Vue.axios = _axios;\n    window.axios = _axios;\n    Object.defineProperties(Vue.prototype, {\n        axios: {\n            get() {\n                return _axios;\n            }\n        },\n        $axios: {\n            get() {\n                return _axios;\n            }\n        },\n    });\n};\n\nVue.use(Plugin);\n\nexport default Plugin;\n"]}]}